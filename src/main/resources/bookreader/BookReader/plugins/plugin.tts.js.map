{"version":3,"file":"plugins/plugin.tts.js","mappings":"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","sources":["webpack://@internetarchive/bookreader/./node_modules/jquery.browser/dist/jquery.browser.js","webpack://@internetarchive/bookreader/./node_modules/soundmanager2/script/soundmanager2.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/string-trim-forced.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.string.trim.js","webpack://@internetarchive/bookreader/./src/BookReaderPlugin.js","webpack://@internetarchive/bookreader/./src/plugins/tts/PageChunk.js","webpack://@internetarchive/bookreader/./src/plugins/tts/PageChunkIterator.js","webpack://@internetarchive/bookreader/./src/plugins/tts/AbstractTTSEngine.js","webpack://@internetarchive/bookreader/./src/plugins/tts/FestivalTTSEngine.js","webpack://@internetarchive/bookreader/./src/plugins/tts/WebTTSEngine.js","webpack://@internetarchive/bookreader/./src/plugins/tts/tooltip_dict.js","webpack://@internetarchive/bookreader/./src/plugins/tts/plugin.tts.js","webpack://@internetarchive/bookreader/./node_modules/iso-language-codes/dist/index.mjs","webpack://@internetarchive/bookreader/./src/plugins/tts/utils.js","webpack://@internetarchive/bookreader/./src/util/strings.js"],"sourcesContent":["/*!\n * jQuery Browser Plugin 0.1.0\n * https://github.com/gabceb/jquery-browser-plugin\n *\n * Original jquery-browser code Copyright 2005, 2015 jQuery Foundation, Inc. and other contributors\n * http://jquery.org/license\n *\n * Modifications Copyright 2015 Gabriel Cebrian\n * https://github.com/gabceb\n *\n * Released under the MIT license\n *\n * Date: 05-07-2015\n */\n/*global window: false */\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], function ($) {\n      return factory($);\n    });\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    // Node-like environment\n    module.exports = factory(require('jquery'));\n  } else {\n    // Browser globals\n    factory(window.jQuery);\n  }\n}(function(jQuery) {\n  \"use strict\";\n\n  function uaMatch( ua ) {\n    // If an UA is not provided, default to the current browser UA.\n    if ( ua === undefined ) {\n      ua = window.navigator.userAgent;\n    }\n    ua = ua.toLowerCase();\n\n    var match = /(edge)\\/([\\w.]+)/.exec( ua ) ||\n        /(opr)[\\/]([\\w.]+)/.exec( ua ) ||\n        /(chrome)[ \\/]([\\w.]+)/.exec( ua ) ||\n        /(iemobile)[\\/]([\\w.]+)/.exec( ua ) ||\n        /(version)(applewebkit)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec( ua ) ||\n        /(webkit)[ \\/]([\\w.]+).*(version)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec( ua ) ||\n        /(webkit)[ \\/]([\\w.]+)/.exec( ua ) ||\n        /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec( ua ) ||\n        /(msie) ([\\w.]+)/.exec( ua ) ||\n        ua.indexOf(\"trident\") >= 0 && /(rv)(?::| )([\\w.]+)/.exec( ua ) ||\n        ua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec( ua ) ||\n        [];\n\n    var platform_match = /(ipad)/.exec( ua ) ||\n        /(ipod)/.exec( ua ) ||\n        /(windows phone)/.exec( ua ) ||\n        /(iphone)/.exec( ua ) ||\n        /(kindle)/.exec( ua ) ||\n        /(silk)/.exec( ua ) ||\n        /(android)/.exec( ua ) ||\n        /(win)/.exec( ua ) ||\n        /(mac)/.exec( ua ) ||\n        /(linux)/.exec( ua ) ||\n        /(cros)/.exec( ua ) ||\n        /(playbook)/.exec( ua ) ||\n        /(bb)/.exec( ua ) ||\n        /(blackberry)/.exec( ua ) ||\n        [];\n\n    var browser = {},\n        matched = {\n          browser: match[ 5 ] || match[ 3 ] || match[ 1 ] || \"\",\n          version: match[ 2 ] || match[ 4 ] || \"0\",\n          versionNumber: match[ 4 ] || match[ 2 ] || \"0\",\n          platform: platform_match[ 0 ] || \"\"\n        };\n\n    if ( matched.browser ) {\n      browser[ matched.browser ] = true;\n      browser.version = matched.version;\n      browser.versionNumber = parseInt(matched.versionNumber, 10);\n    }\n\n    if ( matched.platform ) {\n      browser[ matched.platform ] = true;\n    }\n\n    // These are all considered mobile platforms, meaning they run a mobile browser\n    if ( browser.android || browser.bb || browser.blackberry || browser.ipad || browser.iphone ||\n      browser.ipod || browser.kindle || browser.playbook || browser.silk || browser[ \"windows phone\" ]) {\n      browser.mobile = true;\n    }\n\n    // These are all considered desktop platforms, meaning they run a desktop browser\n    if ( browser.cros || browser.mac || browser.linux || browser.win ) {\n      browser.desktop = true;\n    }\n\n    // Chrome, Opera 15+ and Safari are webkit based browsers\n    if ( browser.chrome || browser.opr || browser.safari ) {\n      browser.webkit = true;\n    }\n\n    // IE11 has a new token so we will assign it msie to avoid breaking changes\n    if ( browser.rv || browser.iemobile) {\n      var ie = \"msie\";\n\n      matched.browser = ie;\n      browser[ie] = true;\n    }\n\n    // Edge is officially known as Microsoft Edge, so rewrite the key to match\n    if ( browser.edge ) {\n      delete browser.edge;\n      var msedge = \"msedge\";\n\n      matched.browser = msedge;\n      browser[msedge] = true;\n    }\n\n    // Blackberry browsers are marked as Safari on BlackBerry\n    if ( browser.safari && browser.blackberry ) {\n      var blackberry = \"blackberry\";\n\n      matched.browser = blackberry;\n      browser[blackberry] = true;\n    }\n\n    // Playbook browsers are marked as Safari on Playbook\n    if ( browser.safari && browser.playbook ) {\n      var playbook = \"playbook\";\n\n      matched.browser = playbook;\n      browser[playbook] = true;\n    }\n\n    // BB10 is a newer OS version of BlackBerry\n    if ( browser.bb ) {\n      var bb = \"blackberry\";\n\n      matched.browser = bb;\n      browser[bb] = true;\n    }\n\n    // Opera 15+ are identified as opr\n    if ( browser.opr ) {\n      var opera = \"opera\";\n\n      matched.browser = opera;\n      browser[opera] = true;\n    }\n\n    // Stock Android browsers are marked as Safari on Android.\n    if ( browser.safari && browser.android ) {\n      var android = \"android\";\n\n      matched.browser = android;\n      browser[android] = true;\n    }\n\n    // Kindle browsers are marked as Safari on Kindle\n    if ( browser.safari && browser.kindle ) {\n      var kindle = \"kindle\";\n\n      matched.browser = kindle;\n      browser[kindle] = true;\n    }\n\n     // Kindle Silk browsers are marked as Safari on Kindle\n    if ( browser.safari && browser.silk ) {\n      var silk = \"silk\";\n\n      matched.browser = silk;\n      browser[silk] = true;\n    }\n\n    // Assign the name and platform variable\n    browser.name = matched.browser;\n    browser.platform = matched.platform;\n    return browser;\n  }\n\n  // Run the matching process, also assign the function to the returned object\n  // for manual, jQuery-free use if desired\n  window.jQBrowser = uaMatch( window.navigator.userAgent );\n  window.jQBrowser.uaMatch = uaMatch;\n\n  // Only assign to jQuery.browser if jQuery is loaded\n  if ( jQuery ) {\n    jQuery.browser = window.jQBrowser;\n  }\n\n  return window.jQBrowser;\n}));\n","/** @license\r\n *\r\n * SoundManager 2: JavaScript Sound for the Web\r\n * ----------------------------------------------\r\n * http://schillmania.com/projects/soundmanager2/\r\n *\r\n * Copyright (c) 2007, Scott Schiller. All rights reserved.\r\n * Code provided under the BSD License:\r\n * http://schillmania.com/projects/soundmanager2/license.txt\r\n *\r\n * V2.97a.20170601\r\n */\r\n\r\n/**\r\n * About this file\r\n * -------------------------------------------------------------------------------------\r\n * This is the fully-commented source version of the SoundManager 2 API,\r\n * recommended for use during development and testing.\r\n *\r\n * See soundmanager2-nodebug-jsmin.js for an optimized build (~11KB with gzip.)\r\n * http://schillmania.com/projects/soundmanager2/doc/getstarted/#basic-inclusion\r\n * Alternately, serve this file with gzip for 75% compression savings (~30KB over HTTP.)\r\n *\r\n * You may notice <d> and </d> comments in this source; these are delimiters for\r\n * debug blocks which are removed in the -nodebug builds, further optimizing code size.\r\n *\r\n * Also, as you may note: Whoa, reliable cross-platform/device audio support is hard! ;)\r\n */\r\n\r\n(function SM2(window, _undefined) {\r\n\r\n/* global Audio, document, window, navigator, define, module, SM2_DEFER, opera, setTimeout, setInterval, clearTimeout, sm2Debugger */\r\n\r\n'use strict';\r\n\r\nif (!window || !window.document) {\r\n\r\n  // Don't cross the [environment] streams. SM2 expects to be running in a browser, not under node.js etc.\r\n  // Additionally, if a browser somehow manages to fail this test, as Egon said: \"It would be bad.\"\r\n\r\n  throw new Error('SoundManager requires a browser with window and document objects.');\r\n\r\n}\r\n\r\nvar soundManager = null;\r\n\r\n/**\r\n * The SoundManager constructor.\r\n *\r\n * @constructor\r\n * @param {string} smURL Optional: Path to SWF files\r\n * @param {string} smID Optional: The ID to use for the SWF container element\r\n * @this {SoundManager}\r\n * @return {SoundManager} The new SoundManager instance\r\n */\r\n\r\nfunction SoundManager(smURL, smID) {\r\n\r\n  /**\r\n   * soundManager configuration options list\r\n   * defines top-level configuration properties to be applied to the soundManager instance (eg. soundManager.flashVersion)\r\n   * to set these properties, use the setup() method - eg., soundManager.setup({url: '/swf/', flashVersion: 9})\r\n   */\r\n\r\n  this.setupOptions = {\r\n\r\n    url: (smURL || null),             // path (directory) where SoundManager 2 SWFs exist, eg., /path/to/swfs/\r\n    flashVersion: 8,                  // flash build to use (8 or 9.) Some API features require 9.\r\n    debugMode: true,                  // enable debugging output (console.log() with HTML fallback)\r\n    debugFlash: false,                // enable debugging output inside SWF, troubleshoot Flash/browser issues\r\n    useConsole: true,                 // use console.log() if available (otherwise, writes to #soundmanager-debug element)\r\n    consoleOnly: true,                // if console is being used, do not create/write to #soundmanager-debug\r\n    waitForWindowLoad: false,         // force SM2 to wait for window.onload() before trying to call soundManager.onload()\r\n    bgColor: '#ffffff',               // SWF background color. N/A when wmode = 'transparent'\r\n    useHighPerformance: false,        // position:fixed flash movie can help increase js/flash speed, minimize lag\r\n    flashPollingInterval: null,       // msec affecting whileplaying/loading callback frequency. If null, default of 50 msec is used.\r\n    html5PollingInterval: null,       // msec affecting whileplaying() for HTML5 audio, excluding mobile devices. If null, native HTML5 update events are used.\r\n    flashLoadTimeout: 1000,           // msec to wait for flash movie to load before failing (0 = infinity)\r\n    wmode: null,                      // flash rendering mode - null, 'transparent', or 'opaque' (last two allow z-index to work)\r\n    allowScriptAccess: 'always',      // for scripting the SWF (object/embed property), 'always' or 'sameDomain'\r\n    useFlashBlock: false,             // *requires flashblock.css, see demos* - allow recovery from flash blockers. Wait indefinitely and apply timeout CSS to SWF, if applicable.\r\n    useHTML5Audio: true,              // use HTML5 Audio() where API is supported (most Safari, Chrome versions), Firefox (MP3/MP4 support varies.) Ideally, transparent vs. Flash API where possible.\r\n    forceUseGlobalHTML5Audio: false,  // if true, a single Audio() object is used for all sounds - and only one can play at a time.\r\n    ignoreMobileRestrictions: false,  // if true, SM2 will not apply global HTML5 audio rules to mobile UAs. iOS > 7 and WebViews may allow multiple Audio() instances.\r\n    html5Test: /^(probably|maybe)$/i, // HTML5 Audio() format support test. Use /^probably$/i; if you want to be more conservative.\r\n    preferFlash: false,               // overrides useHTML5audio, will use Flash for MP3/MP4/AAC if present. Potential option if HTML5 playback with these formats is quirky.\r\n    noSWFCache: false,                // if true, appends ?ts={date} to break aggressive SWF caching.\r\n    idPrefix: 'sound'                 // if an id is not provided to createSound(), this prefix is used for generated IDs - 'sound0', 'sound1' etc.\r\n\r\n  };\r\n\r\n  this.defaultOptions = {\r\n\r\n    /**\r\n     * the default configuration for sound objects made with createSound() and related methods\r\n     * eg., volume, auto-load behaviour and so forth\r\n     */\r\n\r\n    autoLoad: false,        // enable automatic loading (otherwise .load() will be called on demand with .play(), the latter being nicer on bandwidth - if you want to .load yourself, you also can)\r\n    autoPlay: false,        // enable playing of file as soon as possible (much faster if \"stream\" is true)\r\n    from: null,             // position to start playback within a sound (msec), default = beginning\r\n    loops: 1,               // how many times to repeat the sound (position will wrap around to 0, setPosition() will break out of loop when >0)\r\n    onid3: null,            // callback function for \"ID3 data is added/available\"\r\n    onerror: null,          // callback function for \"load failed\" (or, playback/network/decode error under HTML5.)\r\n    onload: null,           // callback function for \"load finished\"\r\n    whileloading: null,     // callback function for \"download progress update\" (X of Y bytes received)\r\n    onplay: null,           // callback for \"play\" start\r\n    onpause: null,          // callback for \"pause\"\r\n    onresume: null,         // callback for \"resume\" (pause toggle)\r\n    whileplaying: null,     // callback during play (position update)\r\n    onposition: null,       // object containing times and function callbacks for positions of interest\r\n    onstop: null,           // callback for \"user stop\"\r\n    onfinish: null,         // callback function for \"sound finished playing\"\r\n    multiShot: true,        // let sounds \"restart\" or layer on top of each other when played multiple times, rather than one-shot/one at a time\r\n    multiShotEvents: false, // fire multiple sound events (currently onfinish() only) when multiShot is enabled\r\n    position: null,         // offset (milliseconds) to seek to within loaded sound data.\r\n    pan: 0,                 // \"pan\" settings, left-to-right, -100 to 100\r\n    playbackRate: 1,        // rate at which to play the sound (HTML5-only)\r\n    stream: true,           // allows playing before entire file has loaded (recommended)\r\n    to: null,               // position to end playback within a sound (msec), default = end\r\n    type: null,             // MIME-like hint for file pattern / canPlay() tests, eg. audio/mp3\r\n    usePolicyFile: false,   // enable crossdomain.xml request for audio on remote domains (for ID3/waveform access)\r\n    volume: 100             // self-explanatory. 0-100, the latter being the max.\r\n\r\n  };\r\n\r\n  this.flash9Options = {\r\n\r\n    /**\r\n     * flash 9-only options,\r\n     * merged into defaultOptions if flash 9 is being used\r\n     */\r\n\r\n    onfailure: null,        // callback function for when playing fails (Flash 9, MovieStar + RTMP-only)\r\n    isMovieStar: null,      // \"MovieStar\" MPEG4 audio mode. Null (default) = auto detect MP4, AAC etc. based on URL. true = force on, ignore URL\r\n    usePeakData: false,     // enable left/right channel peak (level) data\r\n    useWaveformData: false, // enable sound spectrum (raw waveform data) - NOTE: May increase CPU load.\r\n    useEQData: false,       // enable sound EQ (frequency spectrum data) - NOTE: May increase CPU load.\r\n    onbufferchange: null,   // callback for \"isBuffering\" property change\r\n    ondataerror: null       // callback for waveform/eq data access error (flash playing audio in other tabs/domains)\r\n\r\n  };\r\n\r\n  this.movieStarOptions = {\r\n\r\n    /**\r\n     * flash 9.0r115+ MPEG4 audio options,\r\n     * merged into defaultOptions if flash 9+movieStar mode is enabled\r\n     */\r\n\r\n    bufferTime: 3,          // seconds of data to buffer before playback begins (null = flash default of 0.1 seconds - if AAC playback is gappy, try increasing.)\r\n    serverURL: null,        // rtmp: FMS or FMIS server to connect to, required when requesting media via RTMP or one of its variants\r\n    onconnect: null,        // rtmp: callback for connection to flash media server\r\n    duration: null          // rtmp: song duration (msec)\r\n\r\n  };\r\n\r\n  this.audioFormats = {\r\n\r\n    /**\r\n     * determines HTML5 support + flash requirements.\r\n     * if no support (via flash and/or HTML5) for a \"required\" format, SM2 will fail to start.\r\n     * flash fallback is used for MP3 or MP4 if HTML5 can't play it (or if preferFlash = true)\r\n     */\r\n\r\n    mp3: {\r\n      type: ['audio/mpeg; codecs=\"mp3\"', 'audio/mpeg', 'audio/mp3', 'audio/MPA', 'audio/mpa-robust'],\r\n      required: true\r\n    },\r\n\r\n    mp4: {\r\n      related: ['aac', 'm4a', 'm4b'], // additional formats under the MP4 container\r\n      type: ['audio/mp4; codecs=\"mp4a.40.2\"', 'audio/aac', 'audio/x-m4a', 'audio/MP4A-LATM', 'audio/mpeg4-generic'],\r\n      required: false\r\n    },\r\n\r\n    ogg: {\r\n      type: ['audio/ogg; codecs=vorbis'],\r\n      required: false\r\n    },\r\n\r\n    opus: {\r\n      type: ['audio/ogg; codecs=opus', 'audio/opus'],\r\n      required: false\r\n    },\r\n\r\n    wav: {\r\n      type: ['audio/wav; codecs=\"1\"', 'audio/wav', 'audio/wave', 'audio/x-wav'],\r\n      required: false\r\n    },\r\n\r\n    flac: {\r\n      type: ['audio/flac'],\r\n      required: false\r\n    }\r\n\r\n  };\r\n\r\n  // HTML attributes (id + class names) for the SWF container\r\n\r\n  this.movieID = 'sm2-container';\r\n  this.id = (smID || 'sm2movie');\r\n\r\n  this.debugID = 'soundmanager-debug';\r\n  this.debugURLParam = /([#?&])debug=1/i;\r\n\r\n  // dynamic attributes\r\n\r\n  this.versionNumber = 'V2.97a.20170601';\r\n  this.version = null;\r\n  this.movieURL = null;\r\n  this.altURL = null;\r\n  this.swfLoaded = false;\r\n  this.enabled = false;\r\n  this.oMC = null;\r\n  this.sounds = {};\r\n  this.soundIDs = [];\r\n  this.muted = false;\r\n  this.didFlashBlock = false;\r\n  this.filePattern = null;\r\n\r\n  this.filePatterns = {\r\n    flash8: /\\.mp3(\\?.*)?$/i,\r\n    flash9: /\\.mp3(\\?.*)?$/i\r\n  };\r\n\r\n  // support indicators, set at init\r\n\r\n  this.features = {\r\n    buffering: false,\r\n    peakData: false,\r\n    waveformData: false,\r\n    eqData: false,\r\n    movieStar: false\r\n  };\r\n\r\n  // flash sandbox info, used primarily in troubleshooting\r\n\r\n  this.sandbox = {\r\n    // <d>\r\n    type: null,\r\n    types: {\r\n      remote: 'remote (domain-based) rules',\r\n      localWithFile: 'local with file access (no internet access)',\r\n      localWithNetwork: 'local with network (internet access only, no local access)',\r\n      localTrusted: 'local, trusted (local+internet access)'\r\n    },\r\n    description: null,\r\n    noRemote: null,\r\n    noLocal: null\r\n    // </d>\r\n  };\r\n\r\n  /**\r\n   * format support (html5/flash)\r\n   * stores canPlayType() results based on audioFormats.\r\n   * eg. { mp3: boolean, mp4: boolean }\r\n   * treat as read-only.\r\n   */\r\n\r\n  this.html5 = {\r\n    usingFlash: null // set if/when flash fallback is needed\r\n  };\r\n\r\n  // file type support hash\r\n  this.flash = {};\r\n\r\n  // determined at init time\r\n  this.html5Only = false;\r\n\r\n  // used for special cases (eg. iPad/iPhone/palm OS?)\r\n  this.ignoreFlash = false;\r\n\r\n  /**\r\n   * a few private internals (OK, a lot. :D)\r\n   */\r\n\r\n  var SMSound,\r\n  sm2 = this, globalHTML5Audio = null, flash = null, sm = 'soundManager', smc = sm + ': ', h5 = 'HTML5::', id, ua = navigator.userAgent, wl = window.location.href.toString(), doc = document, doNothing, setProperties, init, fV, on_queue = [], debugOpen = true, debugTS, didAppend = false, appendSuccess = false, didInit = false, disabled = false, windowLoaded = false, _wDS, wdCount = 0, initComplete, mixin, assign, extraOptions, addOnEvent, processOnEvents, initUserOnload, delayWaitForEI, waitForEI, rebootIntoHTML5, setVersionInfo, handleFocus, strings, initMovie, domContentLoaded, winOnLoad, didDCLoaded, getDocument, createMovie, catchError, setPolling, initDebug, debugLevels = ['log', 'info', 'warn', 'error'], defaultFlashVersion = 8, disableObject, failSafely, normalizeMovieURL, oRemoved = null, oRemovedHTML = null, str, flashBlockHandler, getSWFCSS, swfCSS, toggleDebug, loopFix, policyFix, complain, idCheck, waitingForEI = false, initPending = false, startTimer, stopTimer, timerExecute, h5TimerCount = 0, h5IntervalTimer = null, parseURL, messages = [],\r\n  canIgnoreFlash, needsFlash = null, featureCheck, html5OK, html5CanPlay, html5ErrorCodes, html5Ext, html5Unload, domContentLoadedIE, testHTML5, event, slice = Array.prototype.slice, useGlobalHTML5Audio = false, lastGlobalHTML5URL, hasFlash, detectFlash, badSafariFix, html5_events, showSupport, flushMessages, wrapCallback, idCounter = 0, didSetup, msecScale = 1000,\r\n  is_iDevice = ua.match(/(ipad|iphone|ipod)/i), isAndroid = ua.match(/android/i), isIE = ua.match(/msie|trident/i),\r\n  isWebkit = ua.match(/webkit/i),\r\n  isSafari = (ua.match(/safari/i) && !ua.match(/chrome/i)),\r\n  isOpera = (ua.match(/opera/i)),\r\n  mobileHTML5 = (ua.match(/(mobile|pre\\/|xoom)/i) || is_iDevice || isAndroid),\r\n  isBadSafari = (!wl.match(/usehtml5audio/i) && !wl.match(/sm2-ignorebadua/i) && isSafari && !ua.match(/silk/i) && ua.match(/OS\\sX\\s10_6_([3-7])/i)), // Safari 4 and 5 (excluding Kindle Fire, \"Silk\") occasionally fail to load/play HTML5 audio on Snow Leopard 10.6.3 through 10.6.7 due to bug(s) in QuickTime X and/or other underlying frameworks. :/ Confirmed bug. https://bugs.webkit.org/show_bug.cgi?id=32159\r\n  hasConsole = (window.console !== _undefined && console.log !== _undefined),\r\n  isFocused = (doc.hasFocus !== _undefined ? doc.hasFocus() : null),\r\n  tryInitOnFocus = (isSafari && (doc.hasFocus === _undefined || !doc.hasFocus())),\r\n  okToDisable = !tryInitOnFocus,\r\n  flashMIME = /(mp3|mp4|mpa|m4a|m4b)/i,\r\n  emptyURL = 'about:blank', // safe URL to unload, or load nothing from (flash 8 + most HTML5 UAs)\r\n  emptyWAV = 'data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==', // tiny WAV for HTML5 unloading\r\n  overHTTP = (doc.location ? doc.location.protocol.match(/http/i) : null),\r\n  http = (!overHTTP ? '//' : ''),\r\n  // mp3, mp4, aac etc.\r\n  netStreamMimeTypes = /^\\s*audio\\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\\s*(?:$|;)/i,\r\n  // Flash v9.0r115+ \"moviestar\" formats\r\n  netStreamTypes = ['mpeg4', 'aac', 'flv', 'mov', 'mp4', 'm4v', 'f4v', 'm4a', 'm4b', 'mp4v', '3gp', '3g2'],\r\n  netStreamPattern = new RegExp('\\\\.(' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n\r\n  this.mimePattern = /^\\s*audio\\/(?:x-)?(?:mp(?:eg|3))\\s*(?:$|;)/i; // default mp3 set\r\n\r\n  // use altURL if not \"online\"\r\n  this.useAltURL = !overHTTP;\r\n\r\n  swfCSS = {\r\n    swfBox: 'sm2-object-box',\r\n    swfDefault: 'movieContainer',\r\n    swfError: 'swf_error', // SWF loaded, but SM2 couldn't start (other error)\r\n    swfTimedout: 'swf_timedout',\r\n    swfLoaded: 'swf_loaded',\r\n    swfUnblocked: 'swf_unblocked', // or loaded OK\r\n    sm2Debug: 'sm2_debug',\r\n    highPerf: 'high_performance',\r\n    flashDebug: 'flash_debug'\r\n  };\r\n\r\n  /**\r\n   * HTML5 error codes, per W3C\r\n   * Error code 1, MEDIA_ERR_ABORTED: Client aborted download at user's request.\r\n   * Error code 2, MEDIA_ERR_NETWORK: A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.\r\n   * Error code 3, MEDIA_ERR_DECODE: An error of some description occurred while decoding the media resource, after the resource was established to be usable.\r\n   * Error code 4, MEDIA_ERR_SRC_NOT_SUPPORTED: Media (audio file) not supported (\"not usable.\")\r\n   * Reference: https://html.spec.whatwg.org/multipage/embedded-content.html#error-codes\r\n   */\r\n  html5ErrorCodes = [\r\n    null,\r\n    'MEDIA_ERR_ABORTED',\r\n    'MEDIA_ERR_NETWORK',\r\n    'MEDIA_ERR_DECODE',\r\n    'MEDIA_ERR_SRC_NOT_SUPPORTED'\r\n  ];\r\n\r\n  /**\r\n   * basic HTML5 Audio() support test\r\n   * try...catch because of IE 9 \"not implemented\" nonsense\r\n   * https://github.com/Modernizr/Modernizr/issues/224\r\n   */\r\n\r\n  this.hasHTML5 = (function() {\r\n    try {\r\n      // new Audio(null) for stupid Opera 9.64 case, which throws not_enough_arguments exception otherwise.\r\n      return (Audio !== _undefined && (isOpera && opera !== _undefined && opera.version() < 10 ? new Audio(null) : new Audio()).canPlayType !== _undefined);\r\n    } catch(e) {\r\n      return false;\r\n    }\r\n  }());\r\n\r\n  /**\r\n   * Public SoundManager API\r\n   * -----------------------\r\n   */\r\n\r\n  /**\r\n   * Configures top-level soundManager properties.\r\n   *\r\n   * @param {object} options Option parameters, eg. { flashVersion: 9, url: '/path/to/swfs/' }\r\n   * onready and ontimeout are also accepted parameters. call soundManager.setup() to see the full list.\r\n   */\r\n\r\n  this.setup = function(options) {\r\n\r\n    var noURL = (!sm2.url);\r\n\r\n    // warn if flash options have already been applied\r\n\r\n    if (options !== _undefined && didInit && needsFlash && sm2.ok() && (options.flashVersion !== _undefined || options.url !== _undefined || options.html5Test !== _undefined)) {\r\n      complain(str('setupLate'));\r\n    }\r\n\r\n    // TODO: defer: true?\r\n\r\n    assign(options);\r\n\r\n    if (!useGlobalHTML5Audio) {\r\n\r\n      if (mobileHTML5) {\r\n\r\n        // force the singleton HTML5 pattern on mobile, by default.\r\n        if (!sm2.setupOptions.ignoreMobileRestrictions || sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n          messages.push(strings.globalHTML5);\r\n          useGlobalHTML5Audio = true;\r\n        }\r\n\r\n      } else if (sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n\r\n        // only apply singleton HTML5 on desktop if forced.\r\n        messages.push(strings.globalHTML5);\r\n        useGlobalHTML5Audio = true;\r\n\r\n      }\r\n\r\n    }\r\n\r\n    if (!didSetup && mobileHTML5) {\r\n\r\n      if (sm2.setupOptions.ignoreMobileRestrictions) {\r\n\r\n        messages.push(strings.ignoreMobile);\r\n\r\n      } else {\r\n\r\n        // prefer HTML5 for mobile + tablet-like devices, probably more reliable vs. flash at this point.\r\n\r\n        // <d>\r\n        if (!sm2.setupOptions.useHTML5Audio || sm2.setupOptions.preferFlash) {\r\n          // notify that defaults are being changed.\r\n          sm2._wD(strings.mobileUA);\r\n        }\r\n        // </d>\r\n\r\n        sm2.setupOptions.useHTML5Audio = true;\r\n        sm2.setupOptions.preferFlash = false;\r\n\r\n        if (is_iDevice) {\r\n\r\n          // no flash here.\r\n          sm2.ignoreFlash = true;\r\n\r\n        } else if ((isAndroid && !ua.match(/android\\s2\\.3/i)) || !isAndroid) {\r\n\r\n          /**\r\n           * Android devices tend to work better with a single audio instance, specifically for chained playback of sounds in sequence.\r\n           * Common use case: exiting sound onfinish() -> createSound() -> play()\r\n           * Presuming similar restrictions for other mobile, non-Android, non-iOS devices.\r\n           */\r\n\r\n          // <d>\r\n          sm2._wD(strings.globalHTML5);\r\n          // </d>\r\n\r\n          useGlobalHTML5Audio = true;\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // special case 1: \"Late setup\". SM2 loaded normally, but user didn't assign flash URL eg., setup({url:...}) before SM2 init. Treat as delayed init.\r\n\r\n    if (options) {\r\n\r\n      if (noURL && didDCLoaded && options.url !== _undefined) {\r\n        sm2.beginDelayedInit();\r\n      }\r\n\r\n      // special case 2: If lazy-loading SM2 (DOMContentLoaded has already happened) and user calls setup() with url: parameter, try to init ASAP.\r\n\r\n      if (!didDCLoaded && options.url !== _undefined && doc.readyState === 'complete') {\r\n        setTimeout(domContentLoaded, 1);\r\n      }\r\n\r\n    }\r\n\r\n    didSetup = true;\r\n\r\n    return sm2;\r\n\r\n  };\r\n\r\n  this.ok = function() {\r\n\r\n    return (needsFlash ? (didInit && !disabled) : (sm2.useHTML5Audio && sm2.hasHTML5));\r\n\r\n  };\r\n\r\n  this.supported = this.ok; // legacy\r\n\r\n  this.getMovie = function(movie_id) {\r\n\r\n    // safety net: some old browsers differ on SWF references, possibly related to ExternalInterface / flash version\r\n    return id(movie_id) || doc[movie_id] || window[movie_id];\r\n\r\n  };\r\n\r\n  /**\r\n   * Creates a SMSound sound object instance. Can also be overloaded, e.g., createSound('mySound', '/some.mp3');\r\n   *\r\n   * @param {object} oOptions Sound options (at minimum, url parameter is required.)\r\n   * @return {object} SMSound The new SMSound object.\r\n   */\r\n\r\n  this.createSound = function(oOptions, _url) {\r\n\r\n    var cs, cs_string, options, oSound = null;\r\n\r\n    // <d>\r\n    cs = sm + '.createSound(): ';\r\n    cs_string = cs + str(!didInit ? 'notReady' : 'notOK');\r\n    // </d>\r\n\r\n    if (!didInit || !sm2.ok()) {\r\n      complain(cs_string);\r\n      return false;\r\n    }\r\n\r\n    if (_url !== _undefined) {\r\n      // function overloading in JS! :) ... assume simple createSound(id, url) use case.\r\n      oOptions = {\r\n        id: oOptions,\r\n        url: _url\r\n      };\r\n    }\r\n\r\n    // inherit from defaultOptions\r\n    options = mixin(oOptions);\r\n\r\n    options.url = parseURL(options.url);\r\n\r\n    // generate an id, if needed.\r\n    if (options.id === _undefined) {\r\n      options.id = sm2.setupOptions.idPrefix + (idCounter++);\r\n    }\r\n\r\n    // <d>\r\n    if (options.id.toString().charAt(0).match(/^[0-9]$/)) {\r\n      sm2._wD(cs + str('badID', options.id), 2);\r\n    }\r\n\r\n    sm2._wD(cs + options.id + (options.url ? ' (' + options.url + ')' : ''), 1);\r\n    // </d>\r\n\r\n    if (idCheck(options.id, true)) {\r\n      sm2._wD(cs + options.id + ' exists', 1);\r\n      return sm2.sounds[options.id];\r\n    }\r\n\r\n    function make() {\r\n\r\n      options = loopFix(options);\r\n      sm2.sounds[options.id] = new SMSound(options);\r\n      sm2.soundIDs.push(options.id);\r\n      return sm2.sounds[options.id];\r\n\r\n    }\r\n\r\n    if (html5OK(options)) {\r\n\r\n      oSound = make();\r\n      // <d>\r\n      if (!sm2.html5Only) {\r\n        sm2._wD(options.id + ': Using HTML5');\r\n      }\r\n      // </d>\r\n      oSound._setup_html5(options);\r\n\r\n    } else {\r\n\r\n      if (sm2.html5Only) {\r\n        sm2._wD(options.id + ': No HTML5 support for this sound, and no Flash. Exiting.');\r\n        return make();\r\n      }\r\n\r\n      // TODO: Move HTML5/flash checks into generic URL parsing/handling function.\r\n\r\n      if (sm2.html5.usingFlash && options.url && options.url.match(/data:/i)) {\r\n        // data: URIs not supported by Flash, either.\r\n        sm2._wD(options.id + ': data: URIs not supported via Flash. Exiting.');\r\n        return make();\r\n      }\r\n\r\n      if (fV > 8) {\r\n        if (options.isMovieStar === null) {\r\n          // attempt to detect MPEG-4 formats\r\n          options.isMovieStar = !!(options.serverURL || (options.type ? options.type.match(netStreamMimeTypes) : false) || (options.url && options.url.match(netStreamPattern)));\r\n        }\r\n        // <d>\r\n        if (options.isMovieStar) {\r\n          sm2._wD(cs + 'using MovieStar handling');\r\n          if (options.loops > 1) {\r\n            _wDS('noNSLoop');\r\n          }\r\n        }\r\n        // </d>\r\n      }\r\n\r\n      options = policyFix(options, cs);\r\n      oSound = make();\r\n\r\n      if (fV === 8) {\r\n        flash._createSound(options.id, options.loops || 1, options.usePolicyFile);\r\n      } else {\r\n        flash._createSound(options.id, options.url, options.usePeakData, options.useWaveformData, options.useEQData, options.isMovieStar, (options.isMovieStar ? options.bufferTime : false), options.loops || 1, options.serverURL, options.duration || null, options.autoPlay, true, options.autoLoad, options.usePolicyFile);\r\n        if (!options.serverURL) {\r\n          // We are connected immediately\r\n          oSound.connected = true;\r\n          if (options.onconnect) {\r\n            options.onconnect.apply(oSound);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!options.serverURL && (options.autoLoad || options.autoPlay)) {\r\n        // call load for non-rtmp streams\r\n        oSound.load(options);\r\n      }\r\n\r\n    }\r\n\r\n    // rtmp will play in onconnect\r\n    if (!options.serverURL && options.autoPlay) {\r\n      oSound.play();\r\n    }\r\n\r\n    return oSound;\r\n\r\n  };\r\n\r\n  /**\r\n   * Destroys a SMSound sound object instance.\r\n   *\r\n   * @param {string} sID The ID of the sound to destroy\r\n   */\r\n\r\n  this.destroySound = function(sID, _bFromSound) {\r\n\r\n    // explicitly destroy a sound before normal page unload, etc.\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    var oS = sm2.sounds[sID], i;\r\n\r\n    oS.stop();\r\n\r\n    // Disable all callbacks after stop(), when the sound is being destroyed\r\n    oS._iO = {};\r\n\r\n    oS.unload();\r\n\r\n    for (i = 0; i < sm2.soundIDs.length; i++) {\r\n      if (sm2.soundIDs[i] === sID) {\r\n        sm2.soundIDs.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!_bFromSound) {\r\n      // ignore if being called from SMSound instance\r\n      oS.destruct(true);\r\n    }\r\n\r\n    oS = null;\r\n    delete sm2.sounds[sID];\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the load() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {object} oOptions Optional: Sound options\r\n   */\r\n\r\n  this.load = function(sID, oOptions) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].load(oOptions);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the unload() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   */\r\n\r\n  this.unload = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].unload();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the onPosition() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nPosition The position to watch for\r\n   * @param {function} oMethod The relevant callback to fire\r\n   * @param {object} oScope Optional: The scope to apply the callback to\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.onPosition = function(sID, nPosition, oMethod, oScope) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].onposition(nPosition, oMethod, oScope);\r\n\r\n  };\r\n\r\n  // legacy/backwards-compability: lower-case method name\r\n  this.onposition = this.onPosition;\r\n\r\n  /**\r\n   * Calls the clearOnPosition() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nPosition The position to watch for\r\n   * @param {function} oMethod Optional: The relevant callback to fire\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.clearOnPosition = function(sID, nPosition, oMethod) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].clearOnPosition(nPosition, oMethod);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the play() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {object} oOptions Optional: Sound options\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.play = function(sID, oOptions) {\r\n\r\n    var result = null,\r\n        // legacy function-overloading use case: play('mySound', '/path/to/some.mp3');\r\n        overloaded = (oOptions && !(oOptions instanceof Object));\r\n\r\n    if (!didInit || !sm2.ok()) {\r\n      complain(sm + '.play(): ' + str(!didInit ? 'notReady' : 'notOK'));\r\n      return false;\r\n    }\r\n\r\n    if (!idCheck(sID, overloaded)) {\r\n\r\n      // no sound found for the given ID. Bail.\r\n      if (!overloaded) return false;\r\n\r\n      if (overloaded) {\r\n        oOptions = {\r\n          url: oOptions\r\n        };\r\n      }\r\n\r\n      if (oOptions && oOptions.url) {\r\n        // overloading use case, create+play: .play('someID', {url:'/path/to.mp3'});\r\n        sm2._wD(sm + '.play(): Attempting to create \"' + sID + '\"', 1);\r\n        oOptions.id = sID;\r\n        result = sm2.createSound(oOptions).play();\r\n      }\r\n\r\n    } else if (overloaded) {\r\n\r\n      // existing sound object case\r\n      oOptions = {\r\n        url: oOptions\r\n      };\r\n\r\n    }\r\n\r\n    if (result === null) {\r\n      // default case\r\n      result = sm2.sounds[sID].play(oOptions);\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  // just for convenience\r\n  this.start = this.play;\r\n\r\n  /**\r\n   * Calls the setPlaybackRate() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setPlaybackRate = function(sID, rate, allowOverride) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setPlaybackRate(rate, allowOverride);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the setPosition() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nMsecOffset Position (milliseconds)\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setPosition = function(sID, nMsecOffset) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setPosition(nMsecOffset);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the stop() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.stop = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    sm2._wD(sm + '.stop(' + sID + ')', 1);\r\n\r\n    return sm2.sounds[sID].stop();\r\n\r\n  };\r\n\r\n  /**\r\n   * Stops all currently-playing sounds.\r\n   */\r\n\r\n  this.stopAll = function() {\r\n\r\n    var oSound;\r\n    sm2._wD(sm + '.stopAll()', 1);\r\n\r\n    for (oSound in sm2.sounds) {\r\n      if (sm2.sounds.hasOwnProperty(oSound)) {\r\n        // apply only to sound objects\r\n        sm2.sounds[oSound].stop();\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the pause() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.pause = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].pause();\r\n\r\n  };\r\n\r\n  /**\r\n   * Pauses all currently-playing sounds.\r\n   */\r\n\r\n  this.pauseAll = function() {\r\n\r\n    var i;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].pause();\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the resume() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.resume = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].resume();\r\n\r\n  };\r\n\r\n  /**\r\n   * Resumes all currently-paused sounds.\r\n   */\r\n\r\n  this.resumeAll = function() {\r\n\r\n    var i;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].resume();\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the togglePause() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.togglePause = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].togglePause();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the setPan() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nPan The pan value (-100 to 100)\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setPan = function(sID, nPan) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setPan(nPan);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the setVolume() method of a SMSound object by ID\r\n   * Overloaded case: pass only volume argument eg., setVolume(50) to apply to all sounds.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nVol The volume value (0 to 100)\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setVolume = function(sID, nVol) {\r\n\r\n    // setVolume(50) function overloading case - apply to all sounds\r\n\r\n    var i, j;\r\n\r\n    if (sID !== _undefined && !isNaN(sID) && nVol === _undefined) {\r\n      for (i = 0, j = sm2.soundIDs.length; i < j; i++) {\r\n        sm2.sounds[sm2.soundIDs[i]].setVolume(sID);\r\n      }\r\n      return false;\r\n    }\r\n\r\n    // setVolume('mySound', 50) case\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setVolume(nVol);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the mute() method of either a single SMSound object by ID, or all sound objects.\r\n   *\r\n   * @param {string} sID Optional: The ID of the sound (if omitted, all sounds will be used.)\r\n   */\r\n\r\n  this.mute = function(sID) {\r\n\r\n    var i = 0;\r\n\r\n    if (sID instanceof String) {\r\n      sID = null;\r\n    }\r\n\r\n    if (!sID) {\r\n\r\n      sm2._wD(sm + '.mute(): Muting all sounds');\r\n      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n        sm2.sounds[sm2.soundIDs[i]].mute();\r\n      }\r\n      sm2.muted = true;\r\n\r\n    } else {\r\n\r\n      if (!idCheck(sID)) return false;\r\n\r\n      sm2._wD(sm + '.mute(): Muting \"' + sID + '\"');\r\n      return sm2.sounds[sID].mute();\r\n\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Mutes all sounds.\r\n   */\r\n\r\n  this.muteAll = function() {\r\n\r\n    sm2.mute();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the unmute() method of either a single SMSound object by ID, or all sound objects.\r\n   *\r\n   * @param {string} sID Optional: The ID of the sound (if omitted, all sounds will be used.)\r\n   */\r\n\r\n  this.unmute = function(sID) {\r\n\r\n    var i;\r\n\r\n    if (sID instanceof String) {\r\n      sID = null;\r\n    }\r\n\r\n    if (!sID) {\r\n\r\n      sm2._wD(sm + '.unmute(): Unmuting all sounds');\r\n      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n        sm2.sounds[sm2.soundIDs[i]].unmute();\r\n      }\r\n      sm2.muted = false;\r\n\r\n    } else {\r\n\r\n      if (!idCheck(sID)) return false;\r\n\r\n      sm2._wD(sm + '.unmute(): Unmuting \"' + sID + '\"');\r\n\r\n      return sm2.sounds[sID].unmute();\r\n\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Unmutes all sounds.\r\n   */\r\n\r\n  this.unmuteAll = function() {\r\n\r\n    sm2.unmute();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the toggleMute() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.toggleMute = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].toggleMute();\r\n\r\n  };\r\n\r\n  /**\r\n   * Retrieves the memory used by the flash plugin.\r\n   *\r\n   * @return {number} The amount of memory in use\r\n   */\r\n\r\n  this.getMemoryUse = function() {\r\n\r\n    // flash-only\r\n    var ram = 0;\r\n\r\n    if (flash && fV !== 8) {\r\n      ram = parseInt(flash._getMemoryUse(), 10);\r\n    }\r\n\r\n    return ram;\r\n\r\n  };\r\n\r\n  /**\r\n   * Undocumented: NOPs soundManager and all SMSound objects.\r\n   */\r\n\r\n  this.disable = function(bNoDisable) {\r\n\r\n    // destroy all functions\r\n    var i;\r\n\r\n    if (bNoDisable === _undefined) {\r\n      bNoDisable = false;\r\n    }\r\n\r\n    // already disabled?\r\n    if (disabled) return false;\r\n\r\n    disabled = true;\r\n\r\n    _wDS('shutdown', 1);\r\n\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      disableObject(sm2.sounds[sm2.soundIDs[i]]);\r\n    }\r\n\r\n    disableObject(sm2);\r\n\r\n    // fire \"complete\", despite fail\r\n    initComplete(bNoDisable);\r\n\r\n    event.remove(window, 'load', initUserOnload);\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Determines playability of a MIME type, eg. 'audio/mp3'.\r\n   */\r\n\r\n  this.canPlayMIME = function(sMIME) {\r\n\r\n    var result;\r\n\r\n    if (sm2.hasHTML5) {\r\n      result = html5CanPlay({\r\n        type: sMIME\r\n      });\r\n    }\r\n\r\n    if (!result && needsFlash) {\r\n      // if flash 9, test netStream (movieStar) types as well.\r\n      result = (sMIME && sm2.ok() ? !!((fV > 8 ? sMIME.match(netStreamMimeTypes) : null) || sMIME.match(sm2.mimePattern)) : null); // TODO: make less \"weird\" (per JSLint)\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Determines playability of a URL based on audio support.\r\n   *\r\n   * @param {string} sURL The URL to test\r\n   * @return {boolean} URL playability\r\n   */\r\n\r\n  this.canPlayURL = function(sURL) {\r\n\r\n    var result;\r\n\r\n    if (sm2.hasHTML5) {\r\n      result = html5CanPlay({\r\n        url: sURL\r\n      });\r\n    }\r\n\r\n    if (!result && needsFlash) {\r\n      result = (sURL && sm2.ok() ? !!(sURL.match(sm2.filePattern)) : null);\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Determines playability of an HTML DOM &lt;a&gt; object (or similar object literal) based on audio support.\r\n   *\r\n   * @param {object} oLink an HTML DOM &lt;a&gt; object or object literal including href and/or type attributes\r\n   * @return {boolean} URL playability\r\n   */\r\n\r\n  this.canPlayLink = function(oLink) {\r\n\r\n    if (oLink.type !== _undefined && oLink.type && sm2.canPlayMIME(oLink.type)) return true;\r\n\r\n    return sm2.canPlayURL(oLink.href);\r\n\r\n  };\r\n\r\n  /**\r\n   * Retrieves a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.getSoundById = function(sID, _suppressDebug) {\r\n\r\n    if (!sID) return null;\r\n\r\n    var result = sm2.sounds[sID];\r\n\r\n    // <d>\r\n    if (!result && !_suppressDebug) {\r\n      sm2._wD(sm + '.getSoundById(): Sound \"' + sID + '\" not found.', 2);\r\n    }\r\n    // </d>\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Queues a callback for execution when SoundManager has successfully initialized.\r\n   *\r\n   * @param {function} oMethod The callback method to fire\r\n   * @param {object} oScope Optional: The scope to apply to the callback\r\n   */\r\n\r\n  this.onready = function(oMethod, oScope) {\r\n\r\n    var sType = 'onready',\r\n        result = false;\r\n\r\n    if (typeof oMethod === 'function') {\r\n\r\n      // <d>\r\n      if (didInit) {\r\n        sm2._wD(str('queue', sType));\r\n      }\r\n      // </d>\r\n\r\n      if (!oScope) {\r\n        oScope = window;\r\n      }\r\n\r\n      addOnEvent(sType, oMethod, oScope);\r\n      processOnEvents();\r\n\r\n      result = true;\r\n\r\n    } else {\r\n\r\n      throw str('needFunction', sType);\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Queues a callback for execution when SoundManager has failed to initialize.\r\n   *\r\n   * @param {function} oMethod The callback method to fire\r\n   * @param {object} oScope Optional: The scope to apply to the callback\r\n   */\r\n\r\n  this.ontimeout = function(oMethod, oScope) {\r\n\r\n    var sType = 'ontimeout',\r\n        result = false;\r\n\r\n    if (typeof oMethod === 'function') {\r\n\r\n      // <d>\r\n      if (didInit) {\r\n        sm2._wD(str('queue', sType));\r\n      }\r\n      // </d>\r\n\r\n      if (!oScope) {\r\n        oScope = window;\r\n      }\r\n\r\n      addOnEvent(sType, oMethod, oScope);\r\n      processOnEvents({ type: sType });\r\n\r\n      result = true;\r\n\r\n    } else {\r\n\r\n      throw str('needFunction', sType);\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Writes console.log()-style debug output to a console or in-browser element.\r\n   * Applies when debugMode = true\r\n   *\r\n   * @param {string} sText The console message\r\n   * @param {object} nType Optional log level (number), or object. Number case: Log type/style where 0 = 'info', 1 = 'warn', 2 = 'error'. Object case: Object to be dumped.\r\n   */\r\n\r\n  this._writeDebug = function(sText, sTypeOrObject) {\r\n\r\n    // pseudo-private console.log()-style output\r\n    // <d>\r\n\r\n    var sDID = 'soundmanager-debug', o, oItem;\r\n\r\n    if (!sm2.setupOptions.debugMode) return false;\r\n\r\n    if (hasConsole && sm2.useConsole) {\r\n      if (sTypeOrObject && typeof sTypeOrObject === 'object') {\r\n        // object passed; dump to console.\r\n        console.log(sText, sTypeOrObject);\r\n      } else if (debugLevels[sTypeOrObject] !== _undefined) {\r\n        console[debugLevels[sTypeOrObject]](sText);\r\n      } else {\r\n        console.log(sText);\r\n      }\r\n      if (sm2.consoleOnly) return true;\r\n    }\r\n\r\n    o = id(sDID);\r\n\r\n    if (!o) return false;\r\n\r\n    oItem = doc.createElement('div');\r\n\r\n    if (++wdCount % 2 === 0) {\r\n      oItem.className = 'sm2-alt';\r\n    }\r\n\r\n    if (sTypeOrObject === _undefined) {\r\n      sTypeOrObject = 0;\r\n    } else {\r\n      sTypeOrObject = parseInt(sTypeOrObject, 10);\r\n    }\r\n\r\n    oItem.appendChild(doc.createTextNode(sText));\r\n\r\n    if (sTypeOrObject) {\r\n      if (sTypeOrObject >= 2) {\r\n        oItem.style.fontWeight = 'bold';\r\n      }\r\n      if (sTypeOrObject === 3) {\r\n        oItem.style.color = '#ff3333';\r\n      }\r\n    }\r\n\r\n    // top-to-bottom\r\n    // o.appendChild(oItem);\r\n\r\n    // bottom-to-top\r\n    o.insertBefore(oItem, o.firstChild);\r\n\r\n    o = null;\r\n    // </d>\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  // <d>\r\n  // last-resort debugging option\r\n  if (wl.indexOf('sm2-debug=alert') !== -1) {\r\n    this._writeDebug = function(sText) {\r\n      window.alert(sText);\r\n    };\r\n  }\r\n  // </d>\r\n\r\n  // alias\r\n  this._wD = this._writeDebug;\r\n\r\n  /**\r\n   * Provides debug / state information on all SMSound objects.\r\n   */\r\n\r\n  this._debug = function() {\r\n\r\n    // <d>\r\n    var i, j;\r\n    _wDS('currentObj', 1);\r\n\r\n    for (i = 0, j = sm2.soundIDs.length; i < j; i++) {\r\n      sm2.sounds[sm2.soundIDs[i]]._debug();\r\n    }\r\n    // </d>\r\n\r\n  };\r\n\r\n  /**\r\n   * Restarts and re-initializes the SoundManager instance.\r\n   *\r\n   * @param {boolean} resetEvents Optional: When true, removes all registered onready and ontimeout event callbacks.\r\n   * @param {boolean} excludeInit Options: When true, does not call beginDelayedInit() (which would restart SM2).\r\n   * @return {object} soundManager The soundManager instance.\r\n   */\r\n\r\n  this.reboot = function(resetEvents, excludeInit) {\r\n\r\n    // reset some (or all) state, and re-init unless otherwise specified.\r\n\r\n    // <d>\r\n    if (sm2.soundIDs.length) {\r\n      sm2._wD('Destroying ' + sm2.soundIDs.length + ' SMSound object' + (sm2.soundIDs.length !== 1 ? 's' : '') + '...');\r\n    }\r\n    // </d>\r\n\r\n    var i, j, k;\r\n\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].destruct();\r\n    }\r\n\r\n    // trash ze flash (remove from the DOM)\r\n\r\n    if (flash) {\r\n\r\n      try {\r\n\r\n        if (isIE) {\r\n          oRemovedHTML = flash.innerHTML;\r\n        }\r\n\r\n        oRemoved = flash.parentNode.removeChild(flash);\r\n\r\n      } catch(e) {\r\n\r\n        // Remove failed? May be due to flash blockers silently removing the SWF object/embed node from the DOM. Warn and continue.\r\n\r\n        _wDS('badRemove', 2);\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // actually, force recreate of movie.\r\n\r\n    oRemovedHTML = oRemoved = needsFlash = flash = null;\r\n\r\n    sm2.enabled = didDCLoaded = didInit = waitingForEI = initPending = didAppend = appendSuccess = disabled = useGlobalHTML5Audio = sm2.swfLoaded = false;\r\n\r\n    sm2.soundIDs = [];\r\n    sm2.sounds = {};\r\n\r\n    idCounter = 0;\r\n    didSetup = false;\r\n\r\n    if (!resetEvents) {\r\n      // reset callbacks for onready, ontimeout etc. so that they will fire again on re-init\r\n      for (i in on_queue) {\r\n        if (on_queue.hasOwnProperty(i)) {\r\n          for (j = 0, k = on_queue[i].length; j < k; j++) {\r\n            on_queue[i][j].fired = false;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      // remove all callbacks entirely\r\n      on_queue = [];\r\n    }\r\n\r\n    // <d>\r\n    if (!excludeInit) {\r\n      sm2._wD(sm + ': Rebooting...');\r\n    }\r\n    // </d>\r\n\r\n    // reset HTML5 and flash canPlay test results\r\n\r\n    sm2.html5 = {\r\n      usingFlash: null\r\n    };\r\n\r\n    sm2.flash = {};\r\n\r\n    // reset device-specific HTML/flash mode switches\r\n\r\n    sm2.html5Only = false;\r\n    sm2.ignoreFlash = false;\r\n\r\n    window.setTimeout(function() {\r\n\r\n      // by default, re-init\r\n\r\n      if (!excludeInit) {\r\n        sm2.beginDelayedInit();\r\n      }\r\n\r\n    }, 20);\r\n\r\n    return sm2;\r\n\r\n  };\r\n\r\n  this.reset = function() {\r\n\r\n    /**\r\n     * Shuts down and restores the SoundManager instance to its original loaded state, without an explicit reboot. All onready/ontimeout handlers are removed.\r\n     * After this call, SM2 may be re-initialized via soundManager.beginDelayedInit().\r\n     * @return {object} soundManager The soundManager instance.\r\n     */\r\n\r\n    _wDS('reset');\r\n\r\n    return sm2.reboot(true, true);\r\n\r\n  };\r\n\r\n  /**\r\n   * Undocumented: Determines the SM2 flash movie's load progress.\r\n   *\r\n   * @return {number or null} Percent loaded, or if invalid/unsupported, null.\r\n   */\r\n\r\n  this.getMoviePercent = function() {\r\n\r\n    /**\r\n     * Interesting syntax notes...\r\n     * Flash/ExternalInterface (ActiveX/NPAPI) bridge methods are not typeof \"function\" nor instanceof Function, but are still valid.\r\n     * Furthermore, using (flash && flash.PercentLoaded) causes IE to throw \"object doesn't support this property or method\".\r\n     * Thus, 'in' syntax must be used.\r\n     */\r\n\r\n    return (flash && 'PercentLoaded' in flash ? flash.PercentLoaded() : null);\r\n\r\n  };\r\n\r\n  /**\r\n   * Additional helper for manually invoking SM2's init process after DOM Ready / window.onload().\r\n   */\r\n\r\n  this.beginDelayedInit = function() {\r\n\r\n    windowLoaded = true;\r\n    domContentLoaded();\r\n\r\n    setTimeout(function() {\r\n\r\n      if (initPending) return false;\r\n\r\n      createMovie();\r\n      initMovie();\r\n      initPending = true;\r\n\r\n      return true;\r\n\r\n    }, 20);\r\n\r\n    delayWaitForEI();\r\n\r\n  };\r\n\r\n  /**\r\n   * Destroys the SoundManager instance and all SMSound instances.\r\n   */\r\n\r\n  this.destruct = function() {\r\n\r\n    sm2._wD(sm + '.destruct()');\r\n    sm2.disable(true);\r\n\r\n  };\r\n\r\n  /**\r\n   * SMSound() (sound object) constructor\r\n   * ------------------------------------\r\n   *\r\n   * @param {object} oOptions Sound options (id and url are required attributes)\r\n   * @return {SMSound} The new SMSound object\r\n   */\r\n\r\n  SMSound = function(oOptions) {\r\n\r\n    var s = this, resetProperties, add_html5_events, remove_html5_events, stop_html5_timer, start_html5_timer, attachOnPosition, onplay_called = false, onPositionItems = [], onPositionFired = 0, detachOnPosition, applyFromTo, lastURL = null, lastHTML5State, urlOmitted;\r\n\r\n    lastHTML5State = {\r\n      // tracks duration + position (time)\r\n      duration: null,\r\n      time: null\r\n    };\r\n\r\n    this.id = oOptions.id;\r\n\r\n    // legacy\r\n    this.sID = this.id;\r\n\r\n    this.url = oOptions.url;\r\n    this.options = mixin(oOptions);\r\n\r\n    // per-play-instance-specific options\r\n    this.instanceOptions = this.options;\r\n\r\n    // short alias\r\n    this._iO = this.instanceOptions;\r\n\r\n    // assign property defaults\r\n    this.pan = this.options.pan;\r\n    this.volume = this.options.volume;\r\n\r\n    // whether or not this object is using HTML5\r\n    this.isHTML5 = false;\r\n\r\n    // internal HTML5 Audio() object reference\r\n    this._a = null;\r\n\r\n    // for flash 8 special-case createSound() without url, followed by load/play with url case\r\n    urlOmitted = (!this.url);\r\n\r\n    /**\r\n     * SMSound() public methods\r\n     * ------------------------\r\n     */\r\n\r\n    this.id3 = {};\r\n\r\n    /**\r\n     * Writes SMSound object parameters to debug console\r\n     */\r\n\r\n    this._debug = function() {\r\n\r\n      // <d>\r\n      sm2._wD(s.id + ': Merged options:', s.options);\r\n      // </d>\r\n\r\n    };\r\n\r\n    /**\r\n     * Begins loading a sound per its *url*.\r\n     *\r\n     * @param {object} options Optional: Sound options\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.load = function(options) {\r\n\r\n      var oSound = null, instanceOptions;\r\n\r\n      if (options !== _undefined) {\r\n        s._iO = mixin(options, s.options);\r\n      } else {\r\n        options = s.options;\r\n        s._iO = options;\r\n        if (lastURL && lastURL !== s.url) {\r\n          _wDS('manURL');\r\n          s._iO.url = s.url;\r\n          s.url = null;\r\n        }\r\n      }\r\n\r\n      if (!s._iO.url) {\r\n        s._iO.url = s.url;\r\n      }\r\n\r\n      s._iO.url = parseURL(s._iO.url);\r\n\r\n      // ensure we're in sync\r\n      s.instanceOptions = s._iO;\r\n\r\n      // local shortcut\r\n      instanceOptions = s._iO;\r\n\r\n      sm2._wD(s.id + ': load (' + instanceOptions.url + ')');\r\n\r\n      if (!instanceOptions.url && !s.url) {\r\n        sm2._wD(s.id + ': load(): url is unassigned. Exiting.', 2);\r\n        return s;\r\n      }\r\n\r\n      // <d>\r\n      if (!s.isHTML5 && fV === 8 && !s.url && !instanceOptions.autoPlay) {\r\n        // flash 8 load() -> play() won't work before onload has fired.\r\n        sm2._wD(s.id + ': Flash 8 load() limitation: Wait for onload() before calling play().', 1);\r\n      }\r\n      // </d>\r\n\r\n      if (instanceOptions.url === s.url && s.readyState !== 0 && s.readyState !== 2) {\r\n        _wDS('onURL', 1);\r\n        // if loaded and an onload() exists, fire immediately.\r\n        if (s.readyState === 3 && instanceOptions.onload) {\r\n          // assume success based on truthy duration.\r\n          wrapCallback(s, function() {\r\n            instanceOptions.onload.apply(s, [(!!s.duration)]);\r\n          });\r\n        }\r\n        return s;\r\n      }\r\n\r\n      // reset a few state properties\r\n\r\n      s.loaded = false;\r\n      s.readyState = 1;\r\n      s.playState = 0;\r\n      s.id3 = {};\r\n\r\n      // TODO: If switching from HTML5 -> flash (or vice versa), stop currently-playing audio.\r\n\r\n      if (html5OK(instanceOptions)) {\r\n\r\n        oSound = s._setup_html5(instanceOptions);\r\n\r\n        if (!oSound._called_load) {\r\n\r\n          s._html5_canplay = false;\r\n\r\n          // TODO: review called_load / html5_canplay logic\r\n\r\n          // if url provided directly to load(), assign it here.\r\n\r\n          if (s.url !== instanceOptions.url) {\r\n\r\n            sm2._wD(_wDS('manURL') + ': ' + instanceOptions.url);\r\n\r\n            s._a.src = instanceOptions.url;\r\n\r\n            // TODO: review / re-apply all relevant options (volume, loop, onposition etc.)\r\n\r\n            // reset position for new URL\r\n            s.setPosition(0);\r\n\r\n          }\r\n\r\n          // given explicit load call, try to preload.\r\n\r\n          // early HTML5 implementation (non-standard)\r\n          s._a.autobuffer = 'auto';\r\n\r\n          // standard property, values: none / metadata / auto\r\n          // reference: http://msdn.microsoft.com/en-us/library/ie/ff974759%28v=vs.85%29.aspx\r\n          s._a.preload = 'auto';\r\n\r\n          s._a._called_load = true;\r\n\r\n        } else {\r\n\r\n          sm2._wD(s.id + ': Ignoring request to load again');\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        if (sm2.html5Only) {\r\n          sm2._wD(s.id + ': No flash support. Exiting.');\r\n          return s;\r\n        }\r\n\r\n        if (s._iO.url && s._iO.url.match(/data:/i)) {\r\n          // data: URIs not supported by Flash, either.\r\n          sm2._wD(s.id + ': data: URIs not supported via Flash. Exiting.');\r\n          return s;\r\n        }\r\n\r\n        try {\r\n          s.isHTML5 = false;\r\n          s._iO = policyFix(loopFix(instanceOptions));\r\n          // if we have \"position\", disable auto-play as we'll be seeking to that position at onload().\r\n          if (s._iO.autoPlay && (s._iO.position || s._iO.from)) {\r\n            sm2._wD(s.id + ': Disabling autoPlay because of non-zero offset case');\r\n            s._iO.autoPlay = false;\r\n          }\r\n          // re-assign local shortcut\r\n          instanceOptions = s._iO;\r\n          if (fV === 8) {\r\n            flash._load(s.id, instanceOptions.url, instanceOptions.stream, instanceOptions.autoPlay, instanceOptions.usePolicyFile);\r\n          } else {\r\n            flash._load(s.id, instanceOptions.url, !!(instanceOptions.stream), !!(instanceOptions.autoPlay), instanceOptions.loops || 1, !!(instanceOptions.autoLoad), instanceOptions.usePolicyFile);\r\n          }\r\n        } catch(e) {\r\n          _wDS('smError', 2);\r\n          debugTS('onload', false);\r\n          catchError({\r\n            type: 'SMSOUND_LOAD_JS_EXCEPTION',\r\n            fatal: true\r\n          });\r\n        }\r\n\r\n      }\r\n\r\n      // after all of this, ensure sound url is up to date.\r\n      s.url = instanceOptions.url;\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Unloads a sound, canceling any open HTTP requests.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.unload = function() {\r\n\r\n      // Flash 8/AS2 can't \"close\" a stream - fake it by loading an empty URL\r\n      // Flash 9/AS3: Close stream, preventing further load\r\n      // HTML5: Most UAs will use empty URL\r\n\r\n      if (s.readyState !== 0) {\r\n\r\n        sm2._wD(s.id + ': unload()');\r\n\r\n        if (!s.isHTML5) {\r\n\r\n          if (fV === 8) {\r\n            flash._unload(s.id, emptyURL);\r\n          } else {\r\n            flash._unload(s.id);\r\n          }\r\n\r\n        } else {\r\n\r\n          stop_html5_timer();\r\n\r\n          if (s._a) {\r\n\r\n            s._a.pause();\r\n\r\n            // update empty URL, too\r\n            lastURL = html5Unload(s._a);\r\n\r\n          }\r\n\r\n        }\r\n\r\n        // reset load/status flags\r\n        resetProperties();\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Unloads and destroys a sound.\r\n     */\r\n\r\n    this.destruct = function(_bFromSM) {\r\n\r\n      sm2._wD(s.id + ': Destruct');\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        // kill sound within Flash\r\n        // Disable the onfailure handler\r\n        s._iO.onfailure = null;\r\n        flash._destroySound(s.id);\r\n\r\n      } else {\r\n\r\n        stop_html5_timer();\r\n\r\n        if (s._a) {\r\n          s._a.pause();\r\n          html5Unload(s._a);\r\n          if (!useGlobalHTML5Audio) {\r\n            remove_html5_events();\r\n          }\r\n          // break obvious circular reference\r\n          s._a._s = null;\r\n          s._a = null;\r\n        }\r\n\r\n      }\r\n\r\n      if (!_bFromSM) {\r\n        // ensure deletion from controller\r\n        sm2.destroySound(s.id, true);\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * Begins playing a sound.\r\n     *\r\n     * @param {object} options Optional: Sound options\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.play = function(options, _updatePlayState) {\r\n\r\n      var fN, allowMulti, a, onready,\r\n          audioClone, onended, oncanplay,\r\n          startOK = true;\r\n\r\n      // <d>\r\n      fN = s.id + ': play(): ';\r\n      // </d>\r\n\r\n      // default to true\r\n      _updatePlayState = (_updatePlayState === _undefined ? true : _updatePlayState);\r\n\r\n      if (!options) {\r\n        options = {};\r\n      }\r\n\r\n      // first, use local URL (if specified)\r\n      if (s.url) {\r\n        s._iO.url = s.url;\r\n      }\r\n\r\n      // mix in any options defined at createSound()\r\n      s._iO = mixin(s._iO, s.options);\r\n\r\n      // mix in any options specific to this method\r\n      s._iO = mixin(options, s._iO);\r\n\r\n      s._iO.url = parseURL(s._iO.url);\r\n\r\n      s.instanceOptions = s._iO;\r\n\r\n      // RTMP-only\r\n      if (!s.isHTML5 && s._iO.serverURL && !s.connected) {\r\n        if (!s.getAutoPlay()) {\r\n          sm2._wD(fN + ' Netstream not connected yet - setting autoPlay');\r\n          s.setAutoPlay(true);\r\n        }\r\n        // play will be called in onconnect()\r\n        return s;\r\n      }\r\n\r\n      if (html5OK(s._iO)) {\r\n        s._setup_html5(s._iO);\r\n        start_html5_timer();\r\n      }\r\n\r\n      if (s.playState === 1 && !s.paused) {\r\n\r\n        allowMulti = s._iO.multiShot;\r\n\r\n        if (!allowMulti) {\r\n\r\n          sm2._wD(fN + 'Already playing (one-shot)', 1);\r\n\r\n          if (s.isHTML5) {\r\n            // go back to original position.\r\n            s.setPosition(s._iO.position);\r\n          }\r\n\r\n          return s;\r\n\r\n        }\r\n\r\n        sm2._wD(fN + 'Already playing (multi-shot)', 1);\r\n\r\n      }\r\n\r\n      // edge case: play() with explicit URL parameter\r\n      if (options.url && options.url !== s.url) {\r\n\r\n        // special case for createSound() followed by load() / play() with url; avoid double-load case.\r\n        if (!s.readyState && !s.isHTML5 && fV === 8 && urlOmitted) {\r\n\r\n          urlOmitted = false;\r\n\r\n        } else {\r\n\r\n          // load using merged options\r\n          s.load(s._iO);\r\n\r\n        }\r\n\r\n      }\r\n\r\n      if (!s.loaded) {\r\n\r\n        if (s.readyState === 0) {\r\n\r\n          sm2._wD(fN + 'Attempting to load');\r\n\r\n          // try to get this sound playing ASAP\r\n          if (!s.isHTML5 && !sm2.html5Only) {\r\n\r\n            // flash: assign directly because setAutoPlay() increments the instanceCount\r\n            s._iO.autoPlay = true;\r\n            s.load(s._iO);\r\n\r\n          } else if (s.isHTML5) {\r\n\r\n            // iOS needs this when recycling sounds, loading a new URL on an existing object.\r\n            s.load(s._iO);\r\n\r\n          } else {\r\n\r\n            sm2._wD(fN + 'Unsupported type. Exiting.');\r\n\r\n            return s;\r\n\r\n          }\r\n\r\n          // HTML5 hack - re-set instanceOptions?\r\n          s.instanceOptions = s._iO;\r\n\r\n        } else if (s.readyState === 2) {\r\n\r\n          sm2._wD(fN + 'Could not load - exiting', 2);\r\n\r\n          return s;\r\n\r\n        } else {\r\n\r\n          sm2._wD(fN + 'Loading - attempting to play...');\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        // \"play()\"\r\n        sm2._wD(fN.substr(0, fN.lastIndexOf(':')));\r\n\r\n      }\r\n\r\n      if (!s.isHTML5 && fV === 9 && s.position > 0 && s.position === s.duration) {\r\n        // flash 9 needs a position reset if play() is called while at the end of a sound.\r\n        sm2._wD(fN + 'Sound at end, resetting to position: 0');\r\n        options.position = 0;\r\n      }\r\n\r\n      /**\r\n       * Streams will pause when their buffer is full if they are being loaded.\r\n       * In this case paused is true, but the song hasn't started playing yet.\r\n       * If we just call resume() the onplay() callback will never be called.\r\n       * So only call resume() if the position is > 0.\r\n       * Another reason is because options like volume won't have been applied yet.\r\n       * For normal sounds, just resume.\r\n       */\r\n\r\n      if (s.paused && s.position >= 0 && (!s._iO.serverURL || s.position > 0)) {\r\n\r\n        // https://gist.github.com/37b17df75cc4d7a90bf6\r\n        sm2._wD(fN + 'Resuming from paused state', 1);\r\n        s.resume();\r\n\r\n      } else {\r\n\r\n        s._iO = mixin(options, s._iO);\r\n\r\n        /**\r\n         * Preload in the event of play() with position under Flash,\r\n         * or from/to parameters and non-RTMP case\r\n         */\r\n        if (((!s.isHTML5 && s._iO.position !== null && s._iO.position > 0) || (s._iO.from !== null && s._iO.from > 0) || s._iO.to !== null) && s.instanceCount === 0 && s.playState === 0 && !s._iO.serverURL) {\r\n\r\n          onready = function() {\r\n            // sound \"canplay\" or onload()\r\n            // re-apply position/from/to to instance options, and start playback\r\n            s._iO = mixin(options, s._iO);\r\n            s.play(s._iO);\r\n          };\r\n\r\n          // HTML5 needs to at least have \"canplay\" fired before seeking.\r\n          if (s.isHTML5 && !s._html5_canplay) {\r\n\r\n            // this hasn't been loaded yet. load it first, and then do this again.\r\n            sm2._wD(fN + 'Beginning load for non-zero offset case');\r\n\r\n            s.load({\r\n              // note: custom HTML5-only event added for from/to implementation.\r\n              _oncanplay: onready\r\n            });\r\n\r\n          } else if (!s.isHTML5 && !s.loaded && (!s.readyState || s.readyState !== 2)) {\r\n\r\n            // to be safe, preload the whole thing in Flash.\r\n\r\n            sm2._wD(fN + 'Preloading for non-zero offset case');\r\n\r\n            s.load({\r\n              onload: onready\r\n            });\r\n\r\n          }\r\n\r\n          // otherwise, we're ready to go. re-apply local options, and continue\r\n\r\n          s._iO = applyFromTo();\r\n\r\n        }\r\n\r\n        // sm2._wD(fN + 'Starting to play');\r\n\r\n        // increment instance counter, where enabled + supported\r\n        if (!s.instanceCount || s._iO.multiShotEvents || (s.isHTML5 && s._iO.multiShot && !useGlobalHTML5Audio) || (!s.isHTML5 && fV > 8 && !s.getAutoPlay())) {\r\n          s.instanceCount++;\r\n        }\r\n\r\n        // if first play and onposition parameters exist, apply them now\r\n        if (s._iO.onposition && s.playState === 0) {\r\n          attachOnPosition(s);\r\n        }\r\n\r\n        s.playState = 1;\r\n        s.paused = false;\r\n\r\n        s.position = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position : 0);\r\n\r\n        if (!s.isHTML5) {\r\n          s._iO = policyFix(loopFix(s._iO));\r\n        }\r\n\r\n        if (s._iO.onplay && _updatePlayState) {\r\n          s._iO.onplay.apply(s);\r\n          onplay_called = true;\r\n        }\r\n\r\n        s.setVolume(s._iO.volume, true);\r\n        s.setPan(s._iO.pan, true);\r\n\r\n        if (s._iO.playbackRate !== 1) {\r\n          s.setPlaybackRate(s._iO.playbackRate);\r\n        }\r\n\r\n        if (!s.isHTML5) {\r\n\r\n          startOK = flash._start(s.id, s._iO.loops || 1, (fV === 9 ? s.position : s.position / msecScale), s._iO.multiShot || false);\r\n\r\n          if (fV === 9 && !startOK) {\r\n            // edge case: no sound hardware, or 32-channel flash ceiling hit.\r\n            // applies only to Flash 9, non-NetStream/MovieStar sounds.\r\n            // http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/media/Sound.html#play%28%29\r\n            sm2._wD(fN + 'No sound hardware, or 32-sound ceiling hit', 2);\r\n            if (s._iO.onplayerror) {\r\n              s._iO.onplayerror.apply(s);\r\n            }\r\n\r\n          }\r\n\r\n        } else if (s.instanceCount < 2) {\r\n\r\n            // HTML5 single-instance case\r\n\r\n            start_html5_timer();\r\n\r\n            a = s._setup_html5();\r\n\r\n            s.setPosition(s._iO.position);\r\n\r\n            a.play();\r\n\r\n          } else {\r\n\r\n            // HTML5 multi-shot case\r\n\r\n            sm2._wD(s.id + ': Cloning Audio() for instance #' + s.instanceCount + '...');\r\n\r\n            audioClone = new Audio(s._iO.url);\r\n\r\n            onended = function() {\r\n              event.remove(audioClone, 'ended', onended);\r\n              s._onfinish(s);\r\n              // cleanup\r\n              html5Unload(audioClone);\r\n              audioClone = null;\r\n            };\r\n\r\n            oncanplay = function() {\r\n              event.remove(audioClone, 'canplay', oncanplay);\r\n              try {\r\n                audioClone.currentTime = s._iO.position / msecScale;\r\n              } catch(err) {\r\n                complain(s.id + ': multiShot play() failed to apply position of ' + (s._iO.position / msecScale));\r\n              }\r\n              audioClone.play();\r\n            };\r\n\r\n            event.add(audioClone, 'ended', onended);\r\n\r\n            // apply volume to clones, too\r\n            if (s._iO.volume !== _undefined) {\r\n              audioClone.volume = Math.max(0, Math.min(1, s._iO.volume / 100));\r\n            }\r\n\r\n            // playing multiple muted sounds? if you do this, you're weird ;) - but let's cover it.\r\n            if (s.muted) {\r\n              audioClone.muted = true;\r\n            }\r\n\r\n            if (s._iO.position) {\r\n              // HTML5 audio can't seek before onplay() event has fired.\r\n              // wait for canplay, then seek to position and start playback.\r\n              event.add(audioClone, 'canplay', oncanplay);\r\n            } else {\r\n              // begin playback at currentTime: 0\r\n              audioClone.play();\r\n            }\r\n\r\n          }\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    // just for convenience\r\n    this.start = this.play;\r\n\r\n    /**\r\n     * Stops playing a sound (and optionally, all sounds)\r\n     *\r\n     * @param {boolean} bAll Optional: Whether to stop all sounds\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.stop = function(bAll) {\r\n\r\n      var instanceOptions = s._iO,\r\n          originalPosition;\r\n\r\n      if (s.playState === 1) {\r\n\r\n        sm2._wD(s.id + ': stop()');\r\n\r\n        s._onbufferchange(0);\r\n        s._resetOnPosition(0);\r\n        s.paused = false;\r\n\r\n        if (!s.isHTML5) {\r\n          s.playState = 0;\r\n        }\r\n\r\n        // remove onPosition listeners, if any\r\n        detachOnPosition();\r\n\r\n        // and \"to\" position, if set\r\n        if (instanceOptions.to) {\r\n          s.clearOnPosition(instanceOptions.to);\r\n        }\r\n\r\n        if (!s.isHTML5) {\r\n\r\n          flash._stop(s.id, bAll);\r\n\r\n          // hack for netStream: just unload\r\n          if (instanceOptions.serverURL) {\r\n            s.unload();\r\n          }\r\n\r\n        } else if (s._a) {\r\n\r\n            originalPosition = s.position;\r\n\r\n            // act like Flash, though\r\n            s.setPosition(0);\r\n\r\n            // hack: reflect old position for onstop() (also like Flash)\r\n            s.position = originalPosition;\r\n\r\n            // html5 has no stop()\r\n            // NOTE: pausing means iOS requires interaction to resume.\r\n            s._a.pause();\r\n\r\n            s.playState = 0;\r\n\r\n            // and update UI\r\n            s._onTimer();\r\n\r\n            stop_html5_timer();\r\n\r\n          }\r\n\r\n        s.instanceCount = 0;\r\n        s._iO = {};\r\n\r\n        if (instanceOptions.onstop) {\r\n          instanceOptions.onstop.apply(s);\r\n        }\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Undocumented/internal: Sets autoPlay for RTMP.\r\n     *\r\n     * @param {boolean} autoPlay state\r\n     */\r\n\r\n    this.setAutoPlay = function(autoPlay) {\r\n\r\n      sm2._wD(s.id + ': Autoplay turned ' + (autoPlay ? 'on' : 'off'));\r\n      s._iO.autoPlay = autoPlay;\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setAutoPlay(s.id, autoPlay);\r\n        if (autoPlay) {\r\n          // only increment the instanceCount if the sound isn't loaded (TODO: verify RTMP)\r\n          if (!s.instanceCount && s.readyState === 1) {\r\n            s.instanceCount++;\r\n            sm2._wD(s.id + ': Incremented instance count to ' + s.instanceCount);\r\n          }\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * Undocumented/internal: Returns the autoPlay boolean.\r\n     *\r\n     * @return {boolean} The current autoPlay value\r\n     */\r\n\r\n    this.getAutoPlay = function() {\r\n\r\n      return s._iO.autoPlay;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the playback rate of a sound (HTML5-only.)\r\n     *\r\n     * @param {number} playbackRate (+/-)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setPlaybackRate = function(playbackRate) {\r\n\r\n      // Per Mozilla, limit acceptable values to prevent playback from stopping (unless allowOverride is truthy.)\r\n      // https://developer.mozilla.org/en-US/Apps/Build/Audio_and_video_delivery/WebAudio_playbackRate_explained\r\n      var normalizedRate = Math.max(0.5, Math.min(4, playbackRate));\r\n\r\n      // <d>\r\n      if (normalizedRate !== playbackRate) {\r\n        sm2._wD(s.id + ': setPlaybackRate(' + playbackRate + '): limiting rate to ' + normalizedRate, 2);\r\n      }\r\n      // </d>\r\n\r\n      if (s.isHTML5) {\r\n        try {\r\n          s._iO.playbackRate = normalizedRate;\r\n          s._a.playbackRate = normalizedRate;\r\n        } catch(e) {\r\n          sm2._wD(s.id + ': setPlaybackRate(' + normalizedRate + ') failed: ' + e.message, 2);\r\n        }\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the position of a sound.\r\n     *\r\n     * @param {number} nMsecOffset Position (milliseconds)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setPosition = function(nMsecOffset) {\r\n\r\n      if (nMsecOffset === _undefined) {\r\n        nMsecOffset = 0;\r\n      }\r\n\r\n      var position, position1K,\r\n          // Use the duration from the instance options, if we don't have a track duration yet.\r\n          // position >= 0 and <= current available (loaded) duration\r\n          offset = (s.isHTML5 ? Math.max(nMsecOffset, 0) : Math.min(s.duration || s._iO.duration, Math.max(nMsecOffset, 0)));\r\n\r\n      s.position = offset;\r\n      position1K = s.position / msecScale;\r\n      s._resetOnPosition(s.position);\r\n      s._iO.position = offset;\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        position = (fV === 9 ? s.position : position1K);\r\n\r\n        if (s.readyState && s.readyState !== 2) {\r\n          // if paused or not playing, will not resume (by playing)\r\n          flash._setPosition(s.id, position, (s.paused || !s.playState), s._iO.multiShot);\r\n        }\r\n\r\n      } else if (s._a) {\r\n\r\n        // Set the position in the canplay handler if the sound is not ready yet\r\n        if (s._html5_canplay) {\r\n\r\n          if (s._a.currentTime.toFixed(3) !== position1K.toFixed(3)) {\r\n\r\n            /**\r\n             * DOM/JS errors/exceptions to watch out for:\r\n             * if seek is beyond (loaded?) position, \"DOM exception 11\"\r\n             * \"INDEX_SIZE_ERR\": DOM exception 1\r\n             */\r\n            sm2._wD(s.id + ': setPosition(' + position1K + ')');\r\n\r\n            try {\r\n              s._a.currentTime = position1K;\r\n              if (s.playState === 0 || s.paused) {\r\n                // allow seek without auto-play/resume\r\n                s._a.pause();\r\n              }\r\n            } catch(e) {\r\n              sm2._wD(s.id + ': setPosition(' + position1K + ') failed: ' + e.message, 2);\r\n            }\r\n\r\n          }\r\n\r\n        } else if (position1K) {\r\n\r\n          // warn on non-zero seek attempts\r\n          sm2._wD(s.id + ': setPosition(' + position1K + '): Cannot seek yet, sound not ready', 2);\r\n          return s;\r\n\r\n        }\r\n\r\n        if (s.paused) {\r\n\r\n          // if paused, refresh UI right away by forcing update\r\n          s._onTimer(true);\r\n\r\n        }\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Pauses sound playback.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.pause = function(_bCallFlash) {\r\n\r\n      if (s.paused || (s.playState === 0 && s.readyState !== 1)) return s;\r\n\r\n      sm2._wD(s.id + ': pause()');\r\n      s.paused = true;\r\n\r\n      if (!s.isHTML5) {\r\n        if (_bCallFlash || _bCallFlash === _undefined) {\r\n          flash._pause(s.id, s._iO.multiShot);\r\n        }\r\n      } else {\r\n        s._setup_html5().pause();\r\n        stop_html5_timer();\r\n      }\r\n\r\n      if (s._iO.onpause) {\r\n        s._iO.onpause.apply(s);\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Resumes sound playback.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    /**\r\n     * When auto-loaded streams pause on buffer full they have a playState of 0.\r\n     * We need to make sure that the playState is set to 1 when these streams \"resume\".\r\n     * When a paused stream is resumed, we need to trigger the onplay() callback if it\r\n     * hasn't been called already. In this case since the sound is being played for the\r\n     * first time, I think it's more appropriate to call onplay() rather than onresume().\r\n     */\r\n\r\n    this.resume = function() {\r\n\r\n      var instanceOptions = s._iO;\r\n\r\n      if (!s.paused) return s;\r\n\r\n      sm2._wD(s.id + ': resume()');\r\n      s.paused = false;\r\n      s.playState = 1;\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        if (instanceOptions.isMovieStar && !instanceOptions.serverURL) {\r\n          // Bizarre Webkit bug (Chrome reported via 8tracks.com dudes): AAC content paused for 30+ seconds(?) will not resume without a reposition.\r\n          s.setPosition(s.position);\r\n        }\r\n\r\n        // flash method is toggle-based (pause/resume)\r\n        flash._pause(s.id, instanceOptions.multiShot);\r\n\r\n      } else {\r\n\r\n        s._setup_html5().play();\r\n        start_html5_timer();\r\n\r\n      }\r\n\r\n      if (!onplay_called && instanceOptions.onplay) {\r\n\r\n        instanceOptions.onplay.apply(s);\r\n        onplay_called = true;\r\n\r\n      } else if (instanceOptions.onresume) {\r\n\r\n        instanceOptions.onresume.apply(s);\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Toggles sound playback.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.togglePause = function() {\r\n\r\n      sm2._wD(s.id + ': togglePause()');\r\n\r\n      if (s.playState === 0) {\r\n        s.play({\r\n          position: (fV === 9 && !s.isHTML5 ? s.position : s.position / msecScale)\r\n        });\r\n        return s;\r\n      }\r\n\r\n      if (s.paused) {\r\n        s.resume();\r\n      } else {\r\n        s.pause();\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the panning (L-R) effect.\r\n     *\r\n     * @param {number} nPan The pan value (-100 to 100)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setPan = function(nPan, bInstanceOnly) {\r\n\r\n      if (nPan === _undefined) {\r\n        nPan = 0;\r\n      }\r\n\r\n      if (bInstanceOnly === _undefined) {\r\n        bInstanceOnly = false;\r\n      }\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setPan(s.id, nPan);\r\n      } // else { no HTML5 pan? }\r\n\r\n      s._iO.pan = nPan;\r\n\r\n      if (!bInstanceOnly) {\r\n        s.pan = nPan;\r\n        s.options.pan = nPan;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the volume.\r\n     *\r\n     * @param {number} nVol The volume value (0 to 100)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setVolume = function(nVol, _bInstanceOnly) {\r\n\r\n      /**\r\n       * Note: Setting volume has no effect on iOS \"special snowflake\" devices.\r\n       * Hardware volume control overrides software, and volume\r\n       * will always return 1 per Apple docs. (iOS 4 + 5.)\r\n       * http://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/HTML-canvas-guide/AddingSoundtoCanvasAnimations/AddingSoundtoCanvasAnimations.html\r\n       */\r\n\r\n      if (nVol === _undefined) {\r\n        nVol = 100;\r\n      }\r\n\r\n      if (_bInstanceOnly === _undefined) {\r\n        _bInstanceOnly = false;\r\n      }\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        flash._setVolume(s.id, (sm2.muted && !s.muted) || s.muted ? 0 : nVol);\r\n\r\n      } else if (s._a) {\r\n\r\n        if (sm2.muted && !s.muted) {\r\n          s.muted = true;\r\n          s._a.muted = true;\r\n        }\r\n\r\n        // valid range for native HTML5 Audio(): 0-1\r\n        s._a.volume = Math.max(0, Math.min(1, nVol / 100));\r\n\r\n      }\r\n\r\n      s._iO.volume = nVol;\r\n\r\n      if (!_bInstanceOnly) {\r\n        s.volume = nVol;\r\n        s.options.volume = nVol;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Mutes the sound.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.mute = function() {\r\n\r\n      s.muted = true;\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setVolume(s.id, 0);\r\n      } else if (s._a) {\r\n        s._a.muted = true;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Unmutes the sound.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.unmute = function() {\r\n\r\n      s.muted = false;\r\n      var hasIO = (s._iO.volume !== _undefined);\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setVolume(s.id, hasIO ? s._iO.volume : s.options.volume);\r\n      } else if (s._a) {\r\n        s._a.muted = false;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Toggles the muted state of a sound.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.toggleMute = function() {\r\n\r\n      return (s.muted ? s.unmute() : s.mute());\r\n\r\n    };\r\n\r\n    /**\r\n     * Registers a callback to be fired when a sound reaches a given position during playback.\r\n     *\r\n     * @param {number} nPosition The position to watch for\r\n     * @param {function} oMethod The relevant callback to fire\r\n     * @param {object} oScope Optional: The scope to apply the callback to\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.onPosition = function(nPosition, oMethod, oScope) {\r\n\r\n      // TODO: basic dupe checking?\r\n\r\n      onPositionItems.push({\r\n        position: parseInt(nPosition, 10),\r\n        method: oMethod,\r\n        scope: (oScope !== _undefined ? oScope : s),\r\n        fired: false\r\n      });\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    // legacy/backwards-compability: lower-case method name\r\n    this.onposition = this.onPosition;\r\n\r\n    /**\r\n     * Removes registered callback(s) from a sound, by position and/or callback.\r\n     *\r\n     * @param {number} nPosition The position to clear callback(s) for\r\n     * @param {function} oMethod Optional: Identify one callback to be removed when multiple listeners exist for one position\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.clearOnPosition = function(nPosition, oMethod) {\r\n\r\n      var i;\r\n\r\n      nPosition = parseInt(nPosition, 10);\r\n\r\n      if (isNaN(nPosition)) {\r\n        // safety check\r\n        return;\r\n      }\r\n\r\n      for (i = 0; i < onPositionItems.length; i++) {\r\n\r\n        if (nPosition === onPositionItems[i].position) {\r\n          // remove this item if no method was specified, or, if the method matches\r\n\r\n          if (!oMethod || (oMethod === onPositionItems[i].method)) {\r\n\r\n            if (onPositionItems[i].fired) {\r\n              // decrement \"fired\" counter, too\r\n              onPositionFired--;\r\n            }\r\n\r\n            onPositionItems.splice(i, 1);\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this._processOnPosition = function() {\r\n\r\n      var i, item, j = onPositionItems.length;\r\n\r\n      if (!j || !s.playState || onPositionFired >= j) return false;\r\n\r\n      for (i = j - 1; i >= 0; i--) {\r\n\r\n        item = onPositionItems[i];\r\n\r\n        if (!item.fired && s.position >= item.position) {\r\n\r\n          item.fired = true;\r\n          onPositionFired++;\r\n          item.method.apply(item.scope, [item.position]);\r\n\r\n          //  reset j -- onPositionItems.length can be changed in the item callback above... occasionally breaking the loop.\r\n          j = onPositionItems.length;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    this._resetOnPosition = function(nPosition) {\r\n\r\n      // reset \"fired\" for items interested in this position\r\n      var i, item, j = onPositionItems.length;\r\n\r\n      if (!j) return false;\r\n\r\n      for (i = j - 1; i >= 0; i--) {\r\n\r\n        item = onPositionItems[i];\r\n\r\n        if (item.fired && nPosition <= item.position) {\r\n          item.fired = false;\r\n          onPositionFired--;\r\n        }\r\n\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    /**\r\n     * SMSound() private internals\r\n     * --------------------------------\r\n     */\r\n\r\n    applyFromTo = function() {\r\n\r\n      var instanceOptions = s._iO,\r\n          f = instanceOptions.from,\r\n          t = instanceOptions.to,\r\n          start, end;\r\n\r\n      end = function() {\r\n\r\n        // end has been reached.\r\n        sm2._wD(s.id + ': \"To\" time of ' + t + ' reached.');\r\n\r\n        // detach listener\r\n        s.clearOnPosition(t, end);\r\n\r\n        // stop should clear this, too\r\n        s.stop();\r\n\r\n      };\r\n\r\n      start = function() {\r\n\r\n        sm2._wD(s.id + ': Playing \"from\" ' + f);\r\n\r\n        // add listener for end\r\n        if (t !== null && !isNaN(t)) {\r\n          s.onPosition(t, end);\r\n        }\r\n\r\n      };\r\n\r\n      if (f !== null && !isNaN(f)) {\r\n\r\n        // apply to instance options, guaranteeing correct start position.\r\n        instanceOptions.position = f;\r\n\r\n        // multiShot timing can't be tracked, so prevent that.\r\n        instanceOptions.multiShot = false;\r\n\r\n        start();\r\n\r\n      }\r\n\r\n      // return updated instanceOptions including starting position\r\n      return instanceOptions;\r\n\r\n    };\r\n\r\n    attachOnPosition = function() {\r\n\r\n      var item,\r\n          op = s._iO.onposition;\r\n\r\n      // attach onposition things, if any, now.\r\n\r\n      if (op) {\r\n\r\n        for (item in op) {\r\n          if (op.hasOwnProperty(item)) {\r\n            s.onPosition(parseInt(item, 10), op[item]);\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    detachOnPosition = function() {\r\n\r\n      var item,\r\n          op = s._iO.onposition;\r\n\r\n      // detach any onposition()-style listeners.\r\n\r\n      if (op) {\r\n\r\n        for (item in op) {\r\n          if (op.hasOwnProperty(item)) {\r\n            s.clearOnPosition(parseInt(item, 10));\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    start_html5_timer = function() {\r\n\r\n      if (s.isHTML5) {\r\n        startTimer(s);\r\n      }\r\n\r\n    };\r\n\r\n    stop_html5_timer = function() {\r\n\r\n      if (s.isHTML5) {\r\n        stopTimer(s);\r\n      }\r\n\r\n    };\r\n\r\n    resetProperties = function(retainPosition) {\r\n\r\n      if (!retainPosition) {\r\n        onPositionItems = [];\r\n        onPositionFired = 0;\r\n      }\r\n\r\n      onplay_called = false;\r\n\r\n      s._hasTimer = null;\r\n      s._a = null;\r\n      s._html5_canplay = false;\r\n      s.bytesLoaded = null;\r\n      s.bytesTotal = null;\r\n      s.duration = (s._iO && s._iO.duration ? s._iO.duration : null);\r\n      s.durationEstimate = null;\r\n      s.buffered = [];\r\n\r\n      // legacy: 1D array\r\n      s.eqData = [];\r\n\r\n      s.eqData.left = [];\r\n      s.eqData.right = [];\r\n\r\n      s.failures = 0;\r\n      s.isBuffering = false;\r\n      s.instanceOptions = {};\r\n      s.instanceCount = 0;\r\n      s.loaded = false;\r\n      s.metadata = {};\r\n\r\n      // 0 = uninitialised, 1 = loading, 2 = failed/error, 3 = loaded/success\r\n      s.readyState = 0;\r\n\r\n      s.muted = false;\r\n      s.paused = false;\r\n\r\n      s.peakData = {\r\n        left: 0,\r\n        right: 0\r\n      };\r\n\r\n      s.waveformData = {\r\n        left: [],\r\n        right: []\r\n      };\r\n\r\n      s.playState = 0;\r\n      s.position = null;\r\n\r\n      s.id3 = {};\r\n\r\n    };\r\n\r\n    resetProperties();\r\n\r\n    /**\r\n     * Pseudo-private SMSound internals\r\n     * --------------------------------\r\n     */\r\n\r\n    this._onTimer = function(bForce) {\r\n\r\n      /**\r\n       * HTML5-only _whileplaying() etc.\r\n       * called from both HTML5 native events, and polling/interval-based timers\r\n       * mimics flash and fires only when time/duration change, so as to be polling-friendly\r\n       */\r\n\r\n      var duration, isNew = false, time, x = {};\r\n\r\n      if (s._hasTimer || bForce) {\r\n\r\n        // TODO: May not need to track readyState (1 = loading)\r\n\r\n        if (s._a && (bForce || ((s.playState > 0 || s.readyState === 1) && !s.paused))) {\r\n\r\n          duration = s._get_html5_duration();\r\n\r\n          if (duration !== lastHTML5State.duration) {\r\n\r\n            lastHTML5State.duration = duration;\r\n            s.duration = duration;\r\n            isNew = true;\r\n\r\n          }\r\n\r\n          // TODO: investigate why this goes wack if not set/re-set each time.\r\n          s.durationEstimate = s.duration;\r\n\r\n          time = (s._a.currentTime * msecScale || 0);\r\n\r\n          if (time !== lastHTML5State.time) {\r\n\r\n            lastHTML5State.time = time;\r\n            isNew = true;\r\n\r\n          }\r\n\r\n          if (isNew || bForce) {\r\n\r\n            s._whileplaying(time, x, x, x, x);\r\n\r\n          }\r\n\r\n        }/* else {\r\n\r\n          // sm2._wD('_onTimer: Warn for \"'+s.id+'\": '+(!s._a?'Could not find element. ':'')+(s.playState === 0?'playState bad, 0?':'playState = '+s.playState+', OK'));\r\n\r\n          return false;\r\n\r\n        }*/\r\n\r\n      }\r\n\r\n      return isNew;\r\n\r\n    };\r\n\r\n    this._get_html5_duration = function() {\r\n\r\n      var instanceOptions = s._iO,\r\n          // if audio object exists, use its duration - else, instance option duration (if provided - it's a hack, really, and should be retired) OR null\r\n          d = (s._a && s._a.duration ? s._a.duration * msecScale : (instanceOptions && instanceOptions.duration ? instanceOptions.duration : null)),\r\n          result = (d && !isNaN(d) && d !== Infinity ? d : null);\r\n\r\n      return result;\r\n\r\n    };\r\n\r\n    this._apply_loop = function(a, nLoops) {\r\n\r\n      /**\r\n       * boolean instead of \"loop\", for webkit? - spec says string. http://www.w3.org/TR/html-markup/audio.html#audio.attrs.loop\r\n       * note that loop is either off or infinite under HTML5, unlike Flash which allows arbitrary loop counts to be specified.\r\n       */\r\n\r\n      // <d>\r\n      if (!a.loop && nLoops > 1) {\r\n        sm2._wD('Note: Native HTML5 looping is infinite.', 1);\r\n      }\r\n      // </d>\r\n\r\n      a.loop = (nLoops > 1 ? 'loop' : '');\r\n\r\n    };\r\n\r\n    this._setup_html5 = function(options) {\r\n\r\n      var instanceOptions = mixin(s._iO, options),\r\n          a = useGlobalHTML5Audio ? globalHTML5Audio : s._a,\r\n          dURL = decodeURI(instanceOptions.url),\r\n          sameURL;\r\n\r\n      /**\r\n       * \"First things first, I, Poppa...\" (reset the previous state of the old sound, if playing)\r\n       * Fixes case with devices that can only play one sound at a time\r\n       * Otherwise, other sounds in mid-play will be terminated without warning and in a stuck state\r\n       */\r\n\r\n      if (useGlobalHTML5Audio) {\r\n\r\n        if (dURL === decodeURI(lastGlobalHTML5URL)) {\r\n          // global HTML5 audio: re-use of URL\r\n          sameURL = true;\r\n        }\r\n\r\n      } else if (dURL === decodeURI(lastURL)) {\r\n\r\n        // options URL is the same as the \"last\" URL, and we used (loaded) it\r\n        sameURL = true;\r\n\r\n      }\r\n\r\n      if (a) {\r\n\r\n        if (a._s) {\r\n\r\n          if (useGlobalHTML5Audio) {\r\n\r\n            if (a._s && a._s.playState && !sameURL) {\r\n\r\n              // global HTML5 audio case, and loading a new URL. stop the currently-playing one.\r\n              a._s.stop();\r\n\r\n            }\r\n\r\n          } else if (!useGlobalHTML5Audio && dURL === decodeURI(lastURL)) {\r\n\r\n            // non-global HTML5 reuse case: same url, ignore request\r\n            s._apply_loop(a, instanceOptions.loops);\r\n\r\n            return a;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        if (!sameURL) {\r\n\r\n          // don't retain onPosition() stuff with new URLs.\r\n\r\n          if (lastURL) {\r\n            resetProperties(false);\r\n          }\r\n\r\n          // assign new HTML5 URL\r\n\r\n          a.src = instanceOptions.url;\r\n\r\n          s.url = instanceOptions.url;\r\n\r\n          lastURL = instanceOptions.url;\r\n\r\n          lastGlobalHTML5URL = instanceOptions.url;\r\n\r\n          a._called_load = false;\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n\r\n          s._a = new Audio(instanceOptions.url);\r\n          s._a.load();\r\n\r\n        } else {\r\n\r\n          // null for stupid Opera 9.64 case\r\n          s._a = (isOpera && opera.version() < 10 ? new Audio(null) : new Audio());\r\n\r\n        }\r\n\r\n        // assign local reference\r\n        a = s._a;\r\n\r\n        a._called_load = false;\r\n\r\n        if (useGlobalHTML5Audio) {\r\n\r\n          globalHTML5Audio = a;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      s.isHTML5 = true;\r\n\r\n      // store a ref on the track\r\n      s._a = a;\r\n\r\n      // store a ref on the audio\r\n      a._s = s;\r\n\r\n      add_html5_events();\r\n\r\n      s._apply_loop(a, instanceOptions.loops);\r\n\r\n      if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n\r\n        s.load();\r\n\r\n      } else {\r\n\r\n        // early HTML5 implementation (non-standard)\r\n        a.autobuffer = false;\r\n\r\n        // standard ('none' is also an option.)\r\n        a.preload = 'auto';\r\n\r\n      }\r\n\r\n      return a;\r\n\r\n    };\r\n\r\n    add_html5_events = function() {\r\n\r\n      if (s._a._added_events) return false;\r\n\r\n      var f;\r\n\r\n      function add(oEvt, oFn, bCapture) {\r\n        return s._a ? s._a.addEventListener(oEvt, oFn, bCapture || false) : null;\r\n      }\r\n\r\n      s._a._added_events = true;\r\n\r\n      for (f in html5_events) {\r\n        if (html5_events.hasOwnProperty(f)) {\r\n          add(f, html5_events[f]);\r\n        }\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    remove_html5_events = function() {\r\n\r\n      // Remove event listeners\r\n\r\n      var f;\r\n\r\n      function remove(oEvt, oFn, bCapture) {\r\n        return (s._a ? s._a.removeEventListener(oEvt, oFn, bCapture || false) : null);\r\n      }\r\n\r\n      sm2._wD(s.id + ': Removing event listeners');\r\n      s._a._added_events = false;\r\n\r\n      for (f in html5_events) {\r\n        if (html5_events.hasOwnProperty(f)) {\r\n          remove(f, html5_events[f]);\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * Pseudo-private event internals\r\n     * ------------------------------\r\n     */\r\n\r\n    this._onload = function(nSuccess) {\r\n\r\n      var fN,\r\n          // check for duration to prevent false positives from flash 8 when loading from cache.\r\n          loadOK = !!nSuccess || (!s.isHTML5 && fV === 8 && s.duration);\r\n\r\n      // <d>\r\n      fN = s.id + ': ';\r\n      sm2._wD(fN + (loadOK ? 'onload()' : 'Failed to load / invalid sound?' + (!s.duration ? ' Zero-length duration reported.' : ' -') + ' (' + s.url + ')'), (loadOK ? 1 : 2));\r\n\r\n      if (!loadOK && !s.isHTML5) {\r\n        if (sm2.sandbox.noRemote === true) {\r\n          sm2._wD(fN + str('noNet'), 1);\r\n        }\r\n        if (sm2.sandbox.noLocal === true) {\r\n          sm2._wD(fN + str('noLocal'), 1);\r\n        }\r\n      }\r\n      // </d>\r\n\r\n      s.loaded = loadOK;\r\n      s.readyState = (loadOK ? 3 : 2);\r\n      s._onbufferchange(0);\r\n\r\n      if (!loadOK && !s.isHTML5) {\r\n        // note: no error code from Flash.\r\n        s._onerror();\r\n      }\r\n\r\n      if (s._iO.onload) {\r\n        wrapCallback(s, function() {\r\n          s._iO.onload.apply(s, [loadOK]);\r\n        });\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    this._onerror = function(errorCode, description) {\r\n\r\n      // https://html.spec.whatwg.org/multipage/embedded-content.html#error-codes\r\n      if (s._iO.onerror) {\r\n        wrapCallback(s, function() {\r\n          s._iO.onerror.apply(s, [errorCode, description]);\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    this._onbufferchange = function(nIsBuffering) {\r\n\r\n      // ignore if not playing\r\n      if (s.playState === 0) return false;\r\n\r\n      if ((nIsBuffering && s.isBuffering) || (!nIsBuffering && !s.isBuffering)) return false;\r\n\r\n      s.isBuffering = (nIsBuffering === 1);\r\n\r\n      if (s._iO.onbufferchange) {\r\n        sm2._wD(s.id + ': Buffer state change: ' + nIsBuffering);\r\n        s._iO.onbufferchange.apply(s, [nIsBuffering]);\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    /**\r\n     * Playback may have stopped due to buffering, or related reason.\r\n     * This state can be encountered on iOS < 6 when auto-play is blocked.\r\n     */\r\n\r\n    this._onsuspend = function() {\r\n\r\n      if (s._iO.onsuspend) {\r\n        sm2._wD(s.id + ': Playback suspended');\r\n        s._iO.onsuspend.apply(s);\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    /**\r\n     * flash 9/movieStar + RTMP-only method, should fire only once at most\r\n     * at this point we just recreate failed sounds rather than trying to reconnect\r\n     */\r\n\r\n    this._onfailure = function(msg, level, code) {\r\n\r\n      s.failures++;\r\n      sm2._wD(s.id + ': Failure (' + s.failures + '): ' + msg);\r\n\r\n      if (s._iO.onfailure && s.failures === 1) {\r\n        s._iO.onfailure(msg, level, code);\r\n      } else {\r\n        sm2._wD(s.id + ': Ignoring failure');\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * flash 9/movieStar + RTMP-only method for unhandled warnings/exceptions from Flash\r\n     * e.g., RTMP \"method missing\" warning (non-fatal) for getStreamLength on server\r\n     */\r\n\r\n    this._onwarning = function(msg, level, code) {\r\n\r\n      if (s._iO.onwarning) {\r\n        s._iO.onwarning(msg, level, code);\r\n      }\r\n\r\n    };\r\n\r\n    this._onfinish = function() {\r\n\r\n      // store local copy before it gets trashed...\r\n      var io_onfinish = s._iO.onfinish;\r\n\r\n      s._onbufferchange(0);\r\n      s._resetOnPosition(0);\r\n\r\n      // reset some state items\r\n      if (s.instanceCount) {\r\n\r\n        s.instanceCount--;\r\n\r\n        if (!s.instanceCount) {\r\n\r\n          // remove onPosition listeners, if any\r\n          detachOnPosition();\r\n\r\n          // reset instance options\r\n          s.playState = 0;\r\n          s.paused = false;\r\n          s.instanceCount = 0;\r\n          s.instanceOptions = {};\r\n          s._iO = {};\r\n          stop_html5_timer();\r\n\r\n          // reset position, too\r\n          if (s.isHTML5) {\r\n            s.position = 0;\r\n          }\r\n\r\n        }\r\n\r\n        if (!s.instanceCount || s._iO.multiShotEvents) {\r\n          // fire onfinish for last, or every instance\r\n          if (io_onfinish) {\r\n            sm2._wD(s.id + ': onfinish()');\r\n            wrapCallback(s, function() {\r\n              io_onfinish.apply(s);\r\n            });\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this._whileloading = function(nBytesLoaded, nBytesTotal, nDuration, nBufferLength) {\r\n\r\n      var instanceOptions = s._iO;\r\n\r\n      s.bytesLoaded = nBytesLoaded;\r\n      s.bytesTotal = nBytesTotal;\r\n      s.duration = Math.floor(nDuration);\r\n      s.bufferLength = nBufferLength;\r\n\r\n      if (!s.isHTML5 && !instanceOptions.isMovieStar) {\r\n\r\n        if (instanceOptions.duration) {\r\n          // use duration from options, if specified and larger. nobody should be specifying duration in options, actually, and it should be retired.\r\n          s.durationEstimate = (s.duration > instanceOptions.duration) ? s.duration : instanceOptions.duration;\r\n        } else {\r\n          s.durationEstimate = parseInt((s.bytesTotal / s.bytesLoaded) * s.duration, 10);\r\n        }\r\n\r\n      } else {\r\n\r\n        s.durationEstimate = s.duration;\r\n\r\n      }\r\n\r\n      // for flash, reflect sequential-load-style buffering\r\n      if (!s.isHTML5) {\r\n        s.buffered = [{\r\n          start: 0,\r\n          end: s.duration\r\n        }];\r\n      }\r\n\r\n      // allow whileloading to fire even if \"load\" fired under HTML5, due to HTTP range/partials\r\n      if ((s.readyState !== 3 || s.isHTML5) && instanceOptions.whileloading) {\r\n        instanceOptions.whileloading.apply(s);\r\n      }\r\n\r\n    };\r\n\r\n    this._whileplaying = function(nPosition, oPeakData, oWaveformDataLeft, oWaveformDataRight, oEQData) {\r\n\r\n      var instanceOptions = s._iO,\r\n          eqLeft;\r\n\r\n      // flash safety net\r\n      if (isNaN(nPosition) || nPosition === null) return false;\r\n\r\n      // Safari HTML5 play() may return small -ve values when starting from position: 0, eg. -50.120396875. Unexpected/invalid per W3, I think. Normalize to 0.\r\n      s.position = Math.max(0, nPosition);\r\n\r\n      s._processOnPosition();\r\n\r\n      if (!s.isHTML5 && fV > 8) {\r\n\r\n        if (instanceOptions.usePeakData && oPeakData !== _undefined && oPeakData) {\r\n          s.peakData = {\r\n            left: oPeakData.leftPeak,\r\n            right: oPeakData.rightPeak\r\n          };\r\n        }\r\n\r\n        if (instanceOptions.useWaveformData && oWaveformDataLeft !== _undefined && oWaveformDataLeft) {\r\n          s.waveformData = {\r\n            left: oWaveformDataLeft.split(','),\r\n            right: oWaveformDataRight.split(',')\r\n          };\r\n        }\r\n\r\n        if (instanceOptions.useEQData) {\r\n          if (oEQData !== _undefined && oEQData && oEQData.leftEQ) {\r\n            eqLeft = oEQData.leftEQ.split(',');\r\n            s.eqData = eqLeft;\r\n            s.eqData.left = eqLeft;\r\n            if (oEQData.rightEQ !== _undefined && oEQData.rightEQ) {\r\n              s.eqData.right = oEQData.rightEQ.split(',');\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n      if (s.playState === 1) {\r\n\r\n        // special case/hack: ensure buffering is false if loading from cache (and not yet started)\r\n        if (!s.isHTML5 && fV === 8 && !s.position && s.isBuffering) {\r\n          s._onbufferchange(0);\r\n        }\r\n\r\n        if (instanceOptions.whileplaying) {\r\n          // flash may call after actual finish\r\n          instanceOptions.whileplaying.apply(s);\r\n        }\r\n\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    this._oncaptiondata = function(oData) {\r\n\r\n      /**\r\n       * internal: flash 9 + NetStream (MovieStar/RTMP-only) feature\r\n       *\r\n       * @param {object} oData\r\n       */\r\n\r\n      sm2._wD(s.id + ': Caption data received.');\r\n\r\n      s.captiondata = oData;\r\n\r\n      if (s._iO.oncaptiondata) {\r\n        s._iO.oncaptiondata.apply(s, [oData]);\r\n      }\r\n\r\n    };\r\n\r\n    this._onmetadata = function(oMDProps, oMDData) {\r\n\r\n      /**\r\n       * internal: flash 9 + NetStream (MovieStar/RTMP-only) feature\r\n       * RTMP may include song title, MovieStar content may include encoding info\r\n       *\r\n       * @param {array} oMDProps (names)\r\n       * @param {array} oMDData (values)\r\n       */\r\n\r\n      sm2._wD(s.id + ': Metadata received.');\r\n\r\n      var oData = {}, i, j;\r\n\r\n      for (i = 0, j = oMDProps.length; i < j; i++) {\r\n        oData[oMDProps[i]] = oMDData[i];\r\n      }\r\n\r\n      s.metadata = oData;\r\n\r\n      if (s._iO.onmetadata) {\r\n        s._iO.onmetadata.call(s, s.metadata);\r\n      }\r\n\r\n    };\r\n\r\n    this._onid3 = function(oID3Props, oID3Data) {\r\n\r\n      /**\r\n       * internal: flash 8 + flash 9 ID3 feature\r\n       * may include artist, song title etc.\r\n       *\r\n       * @param {array} oID3Props (names)\r\n       * @param {array} oID3Data (values)\r\n       */\r\n\r\n      sm2._wD(s.id + ': ID3 data received.');\r\n\r\n      var oData = [], i, j;\r\n\r\n      for (i = 0, j = oID3Props.length; i < j; i++) {\r\n        oData[oID3Props[i]] = oID3Data[i];\r\n      }\r\n\r\n      s.id3 = mixin(s.id3, oData);\r\n\r\n      if (s._iO.onid3) {\r\n        s._iO.onid3.apply(s);\r\n      }\r\n\r\n    };\r\n\r\n    // flash/RTMP-only\r\n\r\n    this._onconnect = function(bSuccess) {\r\n\r\n      bSuccess = (bSuccess === 1);\r\n      sm2._wD(s.id + ': ' + (bSuccess ? 'Connected.' : 'Failed to connect? - ' + s.url), (bSuccess ? 1 : 2));\r\n      s.connected = bSuccess;\r\n\r\n      if (bSuccess) {\r\n\r\n        s.failures = 0;\r\n\r\n        if (idCheck(s.id)) {\r\n          if (s.getAutoPlay()) {\r\n            // only update the play state if auto playing\r\n            s.play(_undefined, s.getAutoPlay());\r\n          } else if (s._iO.autoLoad) {\r\n            s.load();\r\n          }\r\n        }\r\n\r\n        if (s._iO.onconnect) {\r\n          s._iO.onconnect.apply(s, [bSuccess]);\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this._ondataerror = function(sError) {\r\n\r\n      // flash 9 wave/eq data handler\r\n      // hack: called at start, and end from flash at/after onfinish()\r\n      if (s.playState > 0) {\r\n        sm2._wD(s.id + ': Data error: ' + sError);\r\n        if (s._iO.ondataerror) {\r\n          s._iO.ondataerror.apply(s);\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    // <d>\r\n    this._debug();\r\n    // </d>\r\n\r\n  }; // SMSound()\r\n\r\n  /**\r\n   * Private SoundManager internals\r\n   * ------------------------------\r\n   */\r\n\r\n  getDocument = function() {\r\n\r\n    return (doc.body || doc.getElementsByTagName('div')[0]);\r\n\r\n  };\r\n\r\n  id = function(sID) {\r\n\r\n    return doc.getElementById(sID);\r\n\r\n  };\r\n\r\n  mixin = function(oMain, oAdd) {\r\n\r\n    // non-destructive merge\r\n    var o1 = (oMain || {}), o2, o;\r\n\r\n    // if unspecified, o2 is the default options object\r\n    o2 = (oAdd === _undefined ? sm2.defaultOptions : oAdd);\r\n\r\n    for (o in o2) {\r\n\r\n      if (o2.hasOwnProperty(o) && o1[o] === _undefined) {\r\n\r\n        if (typeof o2[o] !== 'object' || o2[o] === null) {\r\n\r\n          // assign directly\r\n          o1[o] = o2[o];\r\n\r\n        } else {\r\n\r\n          // recurse through o2\r\n          o1[o] = mixin(o1[o], o2[o]);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return o1;\r\n\r\n  };\r\n\r\n  wrapCallback = function(oSound, callback) {\r\n\r\n    /**\r\n     * 03/03/2013: Fix for Flash Player 11.6.602.171 + Flash 8 (flashVersion = 8) SWF issue\r\n     * setTimeout() fix for certain SMSound callbacks like onload() and onfinish(), where subsequent calls like play() and load() fail when Flash Player 11.6.602.171 is installed, and using soundManager with flashVersion = 8 (which is the default).\r\n     * Not sure of exact cause. Suspect race condition and/or invalid (NaN-style) position argument trickling down to the next JS -> Flash _start() call, in the play() case.\r\n     * Fix: setTimeout() to yield, plus safer null / NaN checking on position argument provided to Flash.\r\n     * https://getsatisfaction.com/schillmania/topics/recent_chrome_update_seems_to_have_broken_my_sm2_audio_player\r\n     */\r\n    if (!oSound.isHTML5 && fV === 8) {\r\n      window.setTimeout(callback, 0);\r\n    } else {\r\n      callback();\r\n    }\r\n\r\n  };\r\n\r\n  // additional soundManager properties that soundManager.setup() will accept\r\n\r\n  extraOptions = {\r\n    onready: 1,\r\n    ontimeout: 1,\r\n    defaultOptions: 1,\r\n    flash9Options: 1,\r\n    movieStarOptions: 1\r\n  };\r\n\r\n  assign = function(o, oParent) {\r\n\r\n    /**\r\n     * recursive assignment of properties, soundManager.setup() helper\r\n     * allows property assignment based on whitelist\r\n     */\r\n\r\n    var i,\r\n        result = true,\r\n        hasParent = (oParent !== _undefined),\r\n        setupOptions = sm2.setupOptions,\r\n        bonusOptions = extraOptions;\r\n\r\n    // <d>\r\n\r\n    // if soundManager.setup() called, show accepted parameters.\r\n\r\n    if (o === _undefined) {\r\n\r\n      result = [];\r\n\r\n      for (i in setupOptions) {\r\n\r\n        if (setupOptions.hasOwnProperty(i)) {\r\n          result.push(i);\r\n        }\r\n\r\n      }\r\n\r\n      for (i in bonusOptions) {\r\n\r\n        if (bonusOptions.hasOwnProperty(i)) {\r\n\r\n          if (typeof sm2[i] === 'object') {\r\n            result.push(i + ': {...}');\r\n          } else if (sm2[i] instanceof Function) {\r\n            result.push(i + ': function() {...}');\r\n          } else {\r\n            result.push(i);\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n      sm2._wD(str('setup', result.join(', ')));\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    // </d>\r\n\r\n    for (i in o) {\r\n\r\n      if (o.hasOwnProperty(i)) {\r\n\r\n        // if not an {object} we want to recurse through...\r\n\r\n        if (typeof o[i] !== 'object' || o[i] === null || o[i] instanceof Array || o[i] instanceof RegExp) {\r\n\r\n          // check \"allowed\" options\r\n\r\n          if (hasParent && bonusOptions[oParent] !== _undefined) {\r\n\r\n            // valid recursive / nested object option, eg., { defaultOptions: { volume: 50 } }\r\n            sm2[oParent][i] = o[i];\r\n\r\n          } else if (setupOptions[i] !== _undefined) {\r\n\r\n            // special case: assign to setupOptions object, which soundManager property references\r\n            sm2.setupOptions[i] = o[i];\r\n\r\n            // assign directly to soundManager, too\r\n            sm2[i] = o[i];\r\n\r\n          } else if (bonusOptions[i] === _undefined) {\r\n\r\n            // invalid or disallowed parameter. complain.\r\n            complain(str((sm2[i] === _undefined ? 'setupUndef' : 'setupError'), i), 2);\r\n\r\n            result = false;\r\n\r\n          } else if (sm2[i] instanceof Function) {\r\n\r\n            /**\r\n             * valid extraOptions (bonusOptions) parameter.\r\n             * is it a method, like onready/ontimeout? call it.\r\n             * multiple parameters should be in an array, eg. soundManager.setup({onready: [myHandler, myScope]});\r\n             */\r\n            sm2[i].apply(sm2, (o[i] instanceof Array ? o[i] : [o[i]]));\r\n\r\n          } else {\r\n\r\n            // good old-fashioned direct assignment\r\n            sm2[i] = o[i];\r\n\r\n          }\r\n\r\n        } else if (bonusOptions[i] === _undefined) {\r\n\r\n          // recursion case, eg., { defaultOptions: { ... } }\r\n\r\n          // invalid or disallowed parameter. complain.\r\n          complain(str((sm2[i] === _undefined ? 'setupUndef' : 'setupError'), i), 2);\r\n\r\n          result = false;\r\n\r\n        } else {\r\n\r\n          // recurse through object\r\n          return assign(o[i], i);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  function preferFlashCheck(kind) {\r\n\r\n    // whether flash should play a given type\r\n    return (sm2.preferFlash && hasFlash && !sm2.ignoreFlash && (sm2.flash[kind] !== _undefined && sm2.flash[kind]));\r\n\r\n  }\r\n\r\n  /**\r\n   * Internal DOM2-level event helpers\r\n   * ---------------------------------\r\n   */\r\n\r\n  event = (function() {\r\n\r\n    // normalize event methods\r\n    var old = (window.attachEvent),\r\n    evt = {\r\n      add: (old ? 'attachEvent' : 'addEventListener'),\r\n      remove: (old ? 'detachEvent' : 'removeEventListener')\r\n    };\r\n\r\n    // normalize \"on\" event prefix, optional capture argument\r\n    function getArgs(oArgs) {\r\n\r\n      var args = slice.call(oArgs),\r\n          len = args.length;\r\n\r\n      if (old) {\r\n        // prefix\r\n        args[1] = 'on' + args[1];\r\n        if (len > 3) {\r\n          // no capture\r\n          args.pop();\r\n        }\r\n      } else if (len === 3) {\r\n        args.push(false);\r\n      }\r\n\r\n      return args;\r\n\r\n    }\r\n\r\n    function apply(args, sType) {\r\n\r\n      // normalize and call the event method, with the proper arguments\r\n      var element = args.shift(),\r\n          method = [evt[sType]];\r\n\r\n      if (old) {\r\n        // old IE can't do apply().\r\n        element[method](args[0], args[1]);\r\n      } else {\r\n        element[method].apply(element, args);\r\n      }\r\n\r\n    }\r\n\r\n    function add() {\r\n      apply(getArgs(arguments), 'add');\r\n    }\r\n\r\n    function remove() {\r\n      apply(getArgs(arguments), 'remove');\r\n    }\r\n\r\n    return {\r\n      add: add,\r\n      remove: remove\r\n    };\r\n\r\n  }());\r\n\r\n  /**\r\n   * Internal HTML5 event handling\r\n   * -----------------------------\r\n   */\r\n\r\n  function html5_event(oFn) {\r\n\r\n    // wrap html5 event handlers so we don't call them on destroyed and/or unloaded sounds\r\n\r\n    return function(e) {\r\n\r\n      var s = this._s,\r\n          result;\r\n\r\n      if (!s || !s._a) {\r\n        // <d>\r\n        if (s && s.id) {\r\n          sm2._wD(s.id + ': Ignoring ' + e.type);\r\n        } else {\r\n          sm2._wD(h5 + 'Ignoring ' + e.type);\r\n        }\r\n        // </d>\r\n        result = null;\r\n      } else {\r\n        result = oFn.call(this, e);\r\n      }\r\n\r\n      return result;\r\n\r\n    };\r\n\r\n  }\r\n\r\n  html5_events = {\r\n\r\n    // HTML5 event-name-to-handler map\r\n\r\n    abort: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': abort');\r\n\r\n    }),\r\n\r\n    // enough has loaded to play\r\n\r\n    canplay: html5_event(function() {\r\n\r\n      var s = this._s,\r\n          position1K;\r\n\r\n      if (s._html5_canplay) {\r\n        // this event has already fired. ignore.\r\n        return;\r\n      }\r\n\r\n      s._html5_canplay = true;\r\n      sm2._wD(s.id + ': canplay');\r\n      s._onbufferchange(0);\r\n\r\n      // position according to instance options\r\n      position1K = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position / msecScale : null);\r\n\r\n      // set the position if position was provided before the sound loaded\r\n      if (this.currentTime !== position1K) {\r\n        sm2._wD(s.id + ': canplay: Setting position to ' + position1K);\r\n        try {\r\n          this.currentTime = position1K;\r\n        } catch(ee) {\r\n          sm2._wD(s.id + ': canplay: Setting position of ' + position1K + ' failed: ' + ee.message, 2);\r\n        }\r\n      }\r\n\r\n      // hack for HTML5 from/to case\r\n      if (s._iO._oncanplay) {\r\n        s._iO._oncanplay();\r\n      }\r\n\r\n    }),\r\n\r\n    canplaythrough: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      if (!s.loaded) {\r\n        s._onbufferchange(0);\r\n        s._whileloading(s.bytesLoaded, s.bytesTotal, s._get_html5_duration());\r\n        s._onload(true);\r\n      }\r\n\r\n    }),\r\n\r\n    durationchange: html5_event(function() {\r\n\r\n      // durationchange may fire at various times, probably the safest way to capture accurate/final duration.\r\n\r\n      var s = this._s,\r\n          duration;\r\n\r\n      duration = s._get_html5_duration();\r\n\r\n      if (!isNaN(duration) && duration !== s.duration) {\r\n\r\n        sm2._wD(this._s.id + ': durationchange (' + duration + ')' + (s.duration ? ', previously ' + s.duration : ''));\r\n\r\n        s.durationEstimate = s.duration = duration;\r\n\r\n      }\r\n\r\n    }),\r\n\r\n    // TODO: Reserved for potential use\r\n    /*\r\n    emptied: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': emptied');\r\n\r\n    }),\r\n    */\r\n\r\n    ended: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      sm2._wD(s.id + ': ended');\r\n\r\n      s._onfinish();\r\n\r\n    }),\r\n\r\n    error: html5_event(function() {\r\n\r\n      var description = (html5ErrorCodes[this.error.code] || null);\r\n      sm2._wD(this._s.id + ': HTML5 error, code ' + this.error.code + (description ? ' (' + description + ')' : ''));\r\n      this._s._onload(false);\r\n      this._s._onerror(this.error.code, description);\r\n\r\n    }),\r\n\r\n    loadeddata: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      sm2._wD(s.id + ': loadeddata');\r\n\r\n      // safari seems to nicely report progress events, eventually totalling 100%\r\n      if (!s._loaded && !isSafari) {\r\n        s.duration = s._get_html5_duration();\r\n      }\r\n\r\n    }),\r\n\r\n    loadedmetadata: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': loadedmetadata');\r\n\r\n    }),\r\n\r\n    loadstart: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': loadstart');\r\n      // assume buffering at first\r\n      this._s._onbufferchange(1);\r\n\r\n    }),\r\n\r\n    play: html5_event(function() {\r\n\r\n      // sm2._wD(this._s.id + ': play()');\r\n      // once play starts, no buffering\r\n      this._s._onbufferchange(0);\r\n\r\n    }),\r\n\r\n    playing: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': playing ' + String.fromCharCode(9835));\r\n      // once play starts, no buffering\r\n      this._s._onbufferchange(0);\r\n\r\n    }),\r\n\r\n    progress: html5_event(function(e) {\r\n\r\n      // note: can fire repeatedly after \"loaded\" event, due to use of HTTP range/partials\r\n\r\n      var s = this._s,\r\n          i, j, progStr, buffered = 0,\r\n          isProgress = (e.type === 'progress'),\r\n          ranges = e.target.buffered,\r\n          // firefox 3.6 implements e.loaded/total (bytes)\r\n          loaded = (e.loaded || 0),\r\n          total = (e.total || 1);\r\n\r\n      // reset the \"buffered\" (loaded byte ranges) array\r\n      s.buffered = [];\r\n\r\n      if (ranges && ranges.length) {\r\n\r\n        // if loaded is 0, try TimeRanges implementation as % of load\r\n        // https://developer.mozilla.org/en/DOM/TimeRanges\r\n\r\n        // re-build \"buffered\" array\r\n        // HTML5 returns seconds. SM2 API uses msec for setPosition() etc., whether Flash or HTML5.\r\n        for (i = 0, j = ranges.length; i < j; i++) {\r\n          s.buffered.push({\r\n            start: ranges.start(i) * msecScale,\r\n            end: ranges.end(i) * msecScale\r\n          });\r\n        }\r\n\r\n        // use the last value locally\r\n        buffered = (ranges.end(0) - ranges.start(0)) * msecScale;\r\n\r\n        // linear case, buffer sum; does not account for seeking and HTTP partials / byte ranges\r\n        loaded = Math.min(1, buffered / (e.target.duration * msecScale));\r\n\r\n        // <d>\r\n        if (isProgress && ranges.length > 1) {\r\n          progStr = [];\r\n          j = ranges.length;\r\n          for (i = 0; i < j; i++) {\r\n            progStr.push((e.target.buffered.start(i) * msecScale) + '-' + (e.target.buffered.end(i) * msecScale));\r\n          }\r\n          sm2._wD(this._s.id + ': progress, timeRanges: ' + progStr.join(', '));\r\n        }\r\n\r\n        if (isProgress && !isNaN(loaded)) {\r\n          sm2._wD(this._s.id + ': progress, ' + Math.floor(loaded * 100) + '% loaded');\r\n        }\r\n        // </d>\r\n\r\n      }\r\n\r\n      if (!isNaN(loaded)) {\r\n\r\n        // TODO: prevent calls with duplicate values.\r\n        s._whileloading(loaded, total, s._get_html5_duration());\r\n        if (loaded && total && loaded === total) {\r\n          // in case \"onload\" doesn't fire (eg. gecko 1.9.2)\r\n          html5_events.canplaythrough.call(this, e);\r\n        }\r\n\r\n      }\r\n\r\n    }),\r\n\r\n    ratechange: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': ratechange');\r\n\r\n    }),\r\n\r\n    suspend: html5_event(function(e) {\r\n\r\n      // download paused/stopped, may have finished (eg. onload)\r\n      var s = this._s;\r\n\r\n      sm2._wD(this._s.id + ': suspend');\r\n      html5_events.progress.call(this, e);\r\n      s._onsuspend();\r\n\r\n    }),\r\n\r\n    stalled: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': stalled');\r\n\r\n    }),\r\n\r\n    timeupdate: html5_event(function() {\r\n\r\n      this._s._onTimer();\r\n\r\n    }),\r\n\r\n    waiting: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      // see also: seeking\r\n      sm2._wD(this._s.id + ': waiting');\r\n\r\n      // playback faster than download rate, etc.\r\n      s._onbufferchange(1);\r\n\r\n    })\r\n\r\n  };\r\n\r\n  html5OK = function(iO) {\r\n\r\n    // playability test based on URL or MIME type\r\n\r\n    var result;\r\n\r\n    if (!iO || (!iO.type && !iO.url && !iO.serverURL)) {\r\n\r\n      // nothing to check\r\n      result = false;\r\n\r\n    } else if (iO.serverURL || (iO.type && preferFlashCheck(iO.type))) {\r\n\r\n      // RTMP, or preferring flash\r\n      result = false;\r\n\r\n    } else {\r\n\r\n      // Use type, if specified. Pass data: URIs to HTML5. If HTML5-only mode, no other options, so just give 'er\r\n      result = ((iO.type ? html5CanPlay({ type: iO.type }) : html5CanPlay({ url: iO.url }) || sm2.html5Only || iO.url.match(/data:/i)));\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  html5Unload = function(oAudio) {\r\n\r\n    /**\r\n     * Internal method: Unload media, and cancel any current/pending network requests.\r\n     * Firefox can load an empty URL, which allegedly destroys the decoder and stops the download.\r\n     * https://developer.mozilla.org/En/Using_audio_and_video_in_Firefox#Stopping_the_download_of_media\r\n     * However, Firefox has been seen loading a relative URL from '' and thus requesting the hosting page on unload.\r\n     * Other UA behaviour is unclear, so everyone else gets an about:blank-style URL.\r\n     */\r\n\r\n    var url;\r\n\r\n    if (oAudio) {\r\n\r\n      // Firefox and Chrome accept short WAVe data: URIs. Chome dislikes audio/wav, but accepts audio/wav for data: MIME.\r\n      // Desktop Safari complains / fails on data: URI, so it gets about:blank.\r\n      url = (isSafari ? emptyURL : (sm2.html5.canPlayType('audio/wav') ? emptyWAV : emptyURL));\r\n\r\n      oAudio.src = url;\r\n\r\n      // reset some state, too\r\n      if (oAudio._called_unload !== _undefined) {\r\n        oAudio._called_load = false;\r\n      }\r\n\r\n    }\r\n\r\n    if (useGlobalHTML5Audio) {\r\n\r\n      // ensure URL state is trashed, also\r\n      lastGlobalHTML5URL = null;\r\n\r\n    }\r\n\r\n    return url;\r\n\r\n  };\r\n\r\n  html5CanPlay = function(o) {\r\n\r\n    /**\r\n     * Try to find MIME, test and return truthiness\r\n     * o = {\r\n     *  url: '/path/to/an.mp3',\r\n     *  type: 'audio/mp3'\r\n     * }\r\n     */\r\n\r\n    if (!sm2.useHTML5Audio || !sm2.hasHTML5) return false;\r\n\r\n    var url = (o.url || null),\r\n        mime = (o.type || null),\r\n        aF = sm2.audioFormats,\r\n        result,\r\n        offset,\r\n        fileExt,\r\n        item;\r\n\r\n    // account for known cases like audio/mp3\r\n\r\n    if (mime && sm2.html5[mime] !== _undefined) return (sm2.html5[mime] && !preferFlashCheck(mime));\r\n\r\n    if (!html5Ext) {\r\n\r\n      html5Ext = [];\r\n\r\n      for (item in aF) {\r\n\r\n        if (aF.hasOwnProperty(item)) {\r\n\r\n          html5Ext.push(item);\r\n\r\n          if (aF[item].related) {\r\n            html5Ext = html5Ext.concat(aF[item].related);\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n      html5Ext = new RegExp('\\\\.(' + html5Ext.join('|') + ')(\\\\?.*)?$', 'i');\r\n\r\n    }\r\n\r\n    // TODO: Strip URL queries, etc.\r\n    fileExt = (url ? url.toLowerCase().match(html5Ext) : null);\r\n\r\n    if (!fileExt || !fileExt.length) {\r\n\r\n      if (!mime) {\r\n\r\n        result = false;\r\n\r\n      } else {\r\n\r\n        // audio/mp3 -> mp3, result should be known\r\n        offset = mime.indexOf(';');\r\n\r\n        // strip \"audio/X; codecs...\"\r\n        fileExt = (offset !== -1 ? mime.substr(0, offset) : mime).substr(6);\r\n\r\n      }\r\n\r\n    } else {\r\n\r\n      // match the raw extension name - \"mp3\", for example\r\n      fileExt = fileExt[1];\r\n\r\n    }\r\n\r\n    if (fileExt && sm2.html5[fileExt] !== _undefined) {\r\n\r\n      // result known\r\n      result = (sm2.html5[fileExt] && !preferFlashCheck(fileExt));\r\n\r\n    } else {\r\n\r\n      mime = 'audio/' + fileExt;\r\n      result = sm2.html5.canPlayType({ type: mime });\r\n\r\n      sm2.html5[fileExt] = result;\r\n\r\n      // sm2._wD('canPlayType, found result: ' + result);\r\n      result = (result && sm2.html5[mime] && !preferFlashCheck(mime));\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  testHTML5 = function() {\r\n\r\n    /**\r\n     * Internal: Iterates over audioFormats, determining support eg. audio/mp3, audio/mpeg and so on\r\n     * assigns results to html5[] and flash[].\r\n     */\r\n\r\n    if (!sm2.useHTML5Audio || !sm2.hasHTML5) {\r\n\r\n      // without HTML5, we need Flash.\r\n      sm2.html5.usingFlash = true;\r\n      needsFlash = true;\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    // double-whammy: Opera 9.64 throws WRONG_ARGUMENTS_ERR if no parameter passed to Audio(), and Webkit + iOS happily tries to load \"null\" as a URL. :/\r\n    var a = (Audio !== _undefined ? (isOpera && opera.version() < 10 ? new Audio(null) : new Audio()) : null),\r\n        item, lookup, support = {}, aF, i;\r\n\r\n    function cp(m) {\r\n\r\n      var canPlay, j,\r\n          result = false,\r\n          isOK = false;\r\n\r\n      if (!a || typeof a.canPlayType !== 'function') return result;\r\n\r\n      if (m instanceof Array) {\r\n\r\n        // iterate through all mime types, return any successes\r\n\r\n        for (i = 0, j = m.length; i < j; i++) {\r\n\r\n          if (sm2.html5[m[i]] || a.canPlayType(m[i]).match(sm2.html5Test)) {\r\n\r\n            isOK = true;\r\n            sm2.html5[m[i]] = true;\r\n\r\n            // note flash support, too\r\n            sm2.flash[m[i]] = !!(m[i].match(flashMIME));\r\n\r\n          }\r\n\r\n        }\r\n\r\n        result = isOK;\r\n\r\n      } else {\r\n\r\n        canPlay = (a && typeof a.canPlayType === 'function' ? a.canPlayType(m) : false);\r\n        result = !!(canPlay && (canPlay.match(sm2.html5Test)));\r\n\r\n      }\r\n\r\n      return result;\r\n\r\n    }\r\n\r\n    // test all registered formats + codecs\r\n\r\n    aF = sm2.audioFormats;\r\n\r\n    for (item in aF) {\r\n\r\n      if (aF.hasOwnProperty(item)) {\r\n\r\n        lookup = 'audio/' + item;\r\n\r\n        support[item] = cp(aF[item].type);\r\n\r\n        // write back generic type too, eg. audio/mp3\r\n        support[lookup] = support[item];\r\n\r\n        // assign flash\r\n        if (item.match(flashMIME)) {\r\n\r\n          sm2.flash[item] = true;\r\n          sm2.flash[lookup] = true;\r\n\r\n        } else {\r\n\r\n          sm2.flash[item] = false;\r\n          sm2.flash[lookup] = false;\r\n\r\n        }\r\n\r\n        // assign result to related formats, too\r\n\r\n        if (aF[item] && aF[item].related) {\r\n\r\n          for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n\r\n            // eg. audio/m4a\r\n            support['audio/' + aF[item].related[i]] = support[item];\r\n            sm2.html5[aF[item].related[i]] = support[item];\r\n            sm2.flash[aF[item].related[i]] = support[item];\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    support.canPlayType = (a ? cp : null);\r\n    sm2.html5 = mixin(sm2.html5, support);\r\n\r\n    sm2.html5.usingFlash = featureCheck();\r\n    needsFlash = sm2.html5.usingFlash;\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  strings = {\r\n\r\n    // <d>\r\n    notReady: 'Unavailable - wait until onready() has fired.',\r\n    notOK: 'Audio support is not available.',\r\n    domError: sm + 'exception caught while appending SWF to DOM.',\r\n    spcWmode: 'Removing wmode, preventing known SWF loading issue(s)',\r\n    swf404: smc + 'Verify that %s is a valid path.',\r\n    tryDebug: 'Try ' + sm + '.debugFlash = true for more security details (output goes to SWF.)',\r\n    checkSWF: 'See SWF output for more debug info.',\r\n    localFail: smc + 'Non-HTTP page (' + doc.location.protocol + ' URL?) Review Flash player security settings for this special case:\\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/',\r\n    waitFocus: smc + 'Special case: Waiting for SWF to load with window focus...',\r\n    waitForever: smc + 'Waiting indefinitely for Flash (will recover if unblocked)...',\r\n    waitSWF: smc + 'Waiting for 100% SWF load...',\r\n    needFunction: smc + 'Function object expected for %s',\r\n    badID: 'Sound ID \"%s\" should be a string, starting with a non-numeric character',\r\n    currentObj: smc + '_debug(): Current sound objects',\r\n    waitOnload: smc + 'Waiting for window.onload()',\r\n    docLoaded: smc + 'Document already loaded',\r\n    onload: smc + 'initComplete(): calling soundManager.onload()',\r\n    onloadOK: sm + '.onload() complete',\r\n    didInit: smc + 'init(): Already called?',\r\n    secNote: 'Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html',\r\n    badRemove: smc + 'Failed to remove Flash node.',\r\n    shutdown: sm + '.disable(): Shutting down',\r\n    queue: smc + 'Queueing %s handler',\r\n    smError: 'SMSound.load(): Exception: JS-Flash communication failed, or JS error.',\r\n    fbTimeout: 'No flash response, applying .' + swfCSS.swfTimedout + ' CSS...',\r\n    fbLoaded: 'Flash loaded',\r\n    fbHandler: smc + 'flashBlockHandler()',\r\n    manURL: 'SMSound.load(): Using manually-assigned URL',\r\n    onURL: sm + '.load(): current URL already assigned.',\r\n    badFV: sm + '.flashVersion must be 8 or 9. \"%s\" is invalid. Reverting to %s.',\r\n    as2loop: 'Note: Setting stream:false so looping can work (flash 8 limitation)',\r\n    noNSLoop: 'Note: Looping not implemented for MovieStar formats',\r\n    needfl9: 'Note: Switching to flash 9, required for MP4 formats.',\r\n    mfTimeout: 'Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case',\r\n    needFlash: smc + 'Fatal error: Flash is needed to play some required formats, but is not available.',\r\n    gotFocus: smc + 'Got window focus.',\r\n    policy: 'Enabling usePolicyFile for data access',\r\n    setup: sm + '.setup(): allowed parameters: %s',\r\n    setupError: sm + '.setup(): \"%s\" cannot be assigned with this method.',\r\n    setupUndef: sm + '.setup(): Could not find option \"%s\"',\r\n    setupLate: sm + '.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().',\r\n    noURL: smc + 'Flash URL required. Call soundManager.setup({url:...}) to get started.',\r\n    sm2Loaded: 'SoundManager 2: Ready. ' + String.fromCharCode(10003),\r\n    reset: sm + '.reset(): Removing event callbacks',\r\n    mobileUA: 'Mobile UA detected, preferring HTML5 by default.',\r\n    globalHTML5: 'Using singleton HTML5 Audio() pattern for this device.',\r\n    ignoreMobile: 'Ignoring mobile restrictions for this device.'\r\n    // </d>\r\n\r\n  };\r\n\r\n  str = function() {\r\n\r\n    // internal string replace helper.\r\n    // arguments: o [,items to replace]\r\n    // <d>\r\n\r\n    var args,\r\n        i, j, o,\r\n        sstr;\r\n\r\n    // real array, please\r\n    args = slice.call(arguments);\r\n\r\n    // first argument\r\n    o = args.shift();\r\n\r\n    sstr = (strings && strings[o] ? strings[o] : '');\r\n\r\n    if (sstr && args && args.length) {\r\n      for (i = 0, j = args.length; i < j; i++) {\r\n        sstr = sstr.replace('%s', args[i]);\r\n      }\r\n    }\r\n\r\n    return sstr;\r\n    // </d>\r\n\r\n  };\r\n\r\n  loopFix = function(sOpt) {\r\n\r\n    // flash 8 requires stream = false for looping to work\r\n    if (fV === 8 && sOpt.loops > 1 && sOpt.stream) {\r\n      _wDS('as2loop');\r\n      sOpt.stream = false;\r\n    }\r\n\r\n    return sOpt;\r\n\r\n  };\r\n\r\n  policyFix = function(sOpt, sPre) {\r\n\r\n    if (sOpt && !sOpt.usePolicyFile && (sOpt.onid3 || sOpt.usePeakData || sOpt.useWaveformData || sOpt.useEQData)) {\r\n      sm2._wD((sPre || '') + str('policy'));\r\n      sOpt.usePolicyFile = true;\r\n    }\r\n\r\n    return sOpt;\r\n\r\n  };\r\n\r\n  complain = function(sMsg) {\r\n\r\n    // <d>\r\n    if (hasConsole && console.warn !== _undefined) {\r\n      console.warn(sMsg);\r\n    } else {\r\n      sm2._wD(sMsg);\r\n    }\r\n    // </d>\r\n\r\n  };\r\n\r\n  doNothing = function() {\r\n\r\n    return false;\r\n\r\n  };\r\n\r\n  disableObject = function(o) {\r\n\r\n    var oProp;\r\n\r\n    for (oProp in o) {\r\n      if (o.hasOwnProperty(oProp) && typeof o[oProp] === 'function') {\r\n        o[oProp] = doNothing;\r\n      }\r\n    }\r\n\r\n    oProp = null;\r\n\r\n  };\r\n\r\n  failSafely = function(bNoDisable) {\r\n\r\n    // general failure exception handler\r\n\r\n    if (bNoDisable === _undefined) {\r\n      bNoDisable = false;\r\n    }\r\n\r\n    if (disabled || bNoDisable) {\r\n      sm2.disable(bNoDisable);\r\n    }\r\n\r\n  };\r\n\r\n  normalizeMovieURL = function(movieURL) {\r\n\r\n    var urlParams = null, url;\r\n\r\n    if (movieURL) {\r\n\r\n      if (movieURL.match(/\\.swf(\\?.*)?$/i)) {\r\n\r\n        urlParams = movieURL.substr(movieURL.toLowerCase().lastIndexOf('.swf?') + 4);\r\n\r\n        // assume user knows what they're doing\r\n        if (urlParams) return movieURL;\r\n\r\n      } else if (movieURL.lastIndexOf('/') !== movieURL.length - 1) {\r\n\r\n        // append trailing slash, if needed\r\n        movieURL += '/';\r\n\r\n      }\r\n\r\n    }\r\n\r\n    url = (movieURL && movieURL.lastIndexOf('/') !== -1 ? movieURL.substr(0, movieURL.lastIndexOf('/') + 1) : './') + sm2.movieURL;\r\n\r\n    if (sm2.noSWFCache) {\r\n      url += ('?ts=' + new Date().getTime());\r\n    }\r\n\r\n    return url;\r\n\r\n  };\r\n\r\n  setVersionInfo = function() {\r\n\r\n    // short-hand for internal use\r\n\r\n    fV = parseInt(sm2.flashVersion, 10);\r\n\r\n    if (fV !== 8 && fV !== 9) {\r\n      sm2._wD(str('badFV', fV, defaultFlashVersion));\r\n      sm2.flashVersion = fV = defaultFlashVersion;\r\n    }\r\n\r\n    // debug flash movie, if applicable\r\n\r\n    var isDebug = (sm2.debugMode || sm2.debugFlash ? '_debug.swf' : '.swf');\r\n\r\n    if (sm2.useHTML5Audio && !sm2.html5Only && sm2.audioFormats.mp4.required && fV < 9) {\r\n      sm2._wD(str('needfl9'));\r\n      sm2.flashVersion = fV = 9;\r\n    }\r\n\r\n    sm2.version = sm2.versionNumber + (sm2.html5Only ? ' (HTML5-only mode)' : (fV === 9 ? ' (AS3/Flash 9)' : ' (AS2/Flash 8)'));\r\n\r\n    // set up default options\r\n    if (fV > 8) {\r\n\r\n      // +flash 9 base options\r\n      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.flash9Options);\r\n      sm2.features.buffering = true;\r\n\r\n      // +moviestar support\r\n      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.movieStarOptions);\r\n      sm2.filePatterns.flash9 = new RegExp('\\\\.(mp3|' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n      sm2.features.movieStar = true;\r\n\r\n    } else {\r\n\r\n      sm2.features.movieStar = false;\r\n\r\n    }\r\n\r\n    // regExp for flash canPlay(), etc.\r\n    sm2.filePattern = sm2.filePatterns[(fV !== 8 ? 'flash9' : 'flash8')];\r\n\r\n    // if applicable, use _debug versions of SWFs\r\n    sm2.movieURL = (fV === 8 ? 'soundmanager2.swf' : 'soundmanager2_flash9.swf').replace('.swf', isDebug);\r\n\r\n    sm2.features.peakData = sm2.features.waveformData = sm2.features.eqData = (fV > 8);\r\n\r\n  };\r\n\r\n  setPolling = function(bPolling, bHighPerformance) {\r\n\r\n    if (!flash) {\r\n      return;\r\n    }\r\n\r\n    flash._setPolling(bPolling, bHighPerformance);\r\n\r\n  };\r\n\r\n  initDebug = function() {\r\n\r\n    // starts debug mode, creating output <div> for UAs without console object\r\n\r\n    // allow force of debug mode via URL\r\n    // <d>\r\n    if (sm2.debugURLParam.test(wl)) {\r\n      sm2.setupOptions.debugMode = sm2.debugMode = true;\r\n    }\r\n\r\n    if (id(sm2.debugID)) {\r\n      return;\r\n    }\r\n\r\n    var oD, oDebug, oTarget, oToggle, tmp;\r\n\r\n    if (sm2.debugMode && !id(sm2.debugID) && (!hasConsole || !sm2.useConsole || !sm2.consoleOnly)) {\r\n\r\n      oD = doc.createElement('div');\r\n      oD.id = sm2.debugID + '-toggle';\r\n\r\n      oToggle = {\r\n        position: 'fixed',\r\n        bottom: '0px',\r\n        right: '0px',\r\n        width: '1.2em',\r\n        height: '1.2em',\r\n        lineHeight: '1.2em',\r\n        margin: '2px',\r\n        textAlign: 'center',\r\n        border: '1px solid #999',\r\n        cursor: 'pointer',\r\n        background: '#fff',\r\n        color: '#333',\r\n        zIndex: 10001\r\n      };\r\n\r\n      oD.appendChild(doc.createTextNode('-'));\r\n      oD.onclick = toggleDebug;\r\n      oD.title = 'Toggle SM2 debug console';\r\n\r\n      if (ua.match(/msie 6/i)) {\r\n        oD.style.position = 'absolute';\r\n        oD.style.cursor = 'hand';\r\n      }\r\n\r\n      for (tmp in oToggle) {\r\n        if (oToggle.hasOwnProperty(tmp)) {\r\n          oD.style[tmp] = oToggle[tmp];\r\n        }\r\n      }\r\n\r\n      oDebug = doc.createElement('div');\r\n      oDebug.id = sm2.debugID;\r\n      oDebug.style.display = (sm2.debugMode ? 'block' : 'none');\r\n\r\n      if (sm2.debugMode && !id(oD.id)) {\r\n        try {\r\n          oTarget = getDocument();\r\n          oTarget.appendChild(oD);\r\n        } catch(e2) {\r\n          throw new Error(str('domError') + ' \\n' + e2.toString());\r\n        }\r\n        oTarget.appendChild(oDebug);\r\n      }\r\n\r\n    }\r\n\r\n    oTarget = null;\r\n    // </d>\r\n\r\n  };\r\n\r\n  idCheck = this.getSoundById;\r\n\r\n  // <d>\r\n  _wDS = function(o, errorLevel) {\r\n\r\n    return (!o ? '' : sm2._wD(str(o), errorLevel));\r\n\r\n  };\r\n\r\n  toggleDebug = function() {\r\n\r\n    var o = id(sm2.debugID),\r\n    oT = id(sm2.debugID + '-toggle');\r\n\r\n    if (!o) {\r\n      return;\r\n    }\r\n\r\n    if (debugOpen) {\r\n      // minimize\r\n      oT.innerHTML = '+';\r\n      o.style.display = 'none';\r\n    } else {\r\n      oT.innerHTML = '-';\r\n      o.style.display = 'block';\r\n    }\r\n\r\n    debugOpen = !debugOpen;\r\n\r\n  };\r\n\r\n  debugTS = function(sEventType, bSuccess, sMessage) {\r\n\r\n    // troubleshooter debug hooks\r\n\r\n    if (window.sm2Debugger !== _undefined) {\r\n      try {\r\n        sm2Debugger.handleEvent(sEventType, bSuccess, sMessage);\r\n      } catch(e) {\r\n        // oh well\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n  // </d>\r\n\r\n  getSWFCSS = function() {\r\n\r\n    var css = [];\r\n\r\n    if (sm2.debugMode) {\r\n      css.push(swfCSS.sm2Debug);\r\n    }\r\n\r\n    if (sm2.debugFlash) {\r\n      css.push(swfCSS.flashDebug);\r\n    }\r\n\r\n    if (sm2.useHighPerformance) {\r\n      css.push(swfCSS.highPerf);\r\n    }\r\n\r\n    return css.join(' ');\r\n\r\n  };\r\n\r\n  flashBlockHandler = function() {\r\n\r\n    // *possible* flash block situation.\r\n\r\n    var name = str('fbHandler'),\r\n        p = sm2.getMoviePercent(),\r\n        css = swfCSS,\r\n        error = {\r\n          type: 'FLASHBLOCK'\r\n        };\r\n\r\n    if (sm2.html5Only) {\r\n      // no flash, or unused\r\n      return;\r\n    }\r\n\r\n    if (!sm2.ok()) {\r\n\r\n      if (needsFlash) {\r\n        // make the movie more visible, so user can fix\r\n        sm2.oMC.className = getSWFCSS() + ' ' + css.swfDefault + ' ' + (p === null ? css.swfTimedout : css.swfError);\r\n        sm2._wD(name + ': ' + str('fbTimeout') + (p ? ' (' + str('fbLoaded') + ')' : ''));\r\n      }\r\n\r\n      sm2.didFlashBlock = true;\r\n\r\n      // fire onready(), complain lightly\r\n      processOnEvents({\r\n        type: 'ontimeout',\r\n        ignoreInit: true,\r\n        error: error\r\n      });\r\n\r\n      catchError(error);\r\n\r\n    } else {\r\n\r\n      // SM2 loaded OK (or recovered)\r\n\r\n      // <d>\r\n      if (sm2.didFlashBlock) {\r\n        sm2._wD(name + ': Unblocked');\r\n      }\r\n      // </d>\r\n\r\n      if (sm2.oMC) {\r\n        sm2.oMC.className = [getSWFCSS(), css.swfDefault, css.swfLoaded + (sm2.didFlashBlock ? ' ' + css.swfUnblocked : '')].join(' ');\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  addOnEvent = function(sType, oMethod, oScope) {\r\n\r\n    if (on_queue[sType] === _undefined) {\r\n      on_queue[sType] = [];\r\n    }\r\n\r\n    on_queue[sType].push({\r\n      method: oMethod,\r\n      scope: (oScope || null),\r\n      fired: false\r\n    });\r\n\r\n  };\r\n\r\n  processOnEvents = function(oOptions) {\r\n\r\n    // if unspecified, assume OK/error\r\n\r\n    if (!oOptions) {\r\n      oOptions = {\r\n        type: (sm2.ok() ? 'onready' : 'ontimeout')\r\n      };\r\n    }\r\n\r\n    // not ready yet.\r\n    if (!didInit && oOptions && !oOptions.ignoreInit) return false;\r\n\r\n    // invalid case\r\n    if (oOptions.type === 'ontimeout' && (sm2.ok() || (disabled && !oOptions.ignoreInit))) return false;\r\n\r\n    var status = {\r\n          success: (oOptions && oOptions.ignoreInit ? sm2.ok() : !disabled)\r\n        },\r\n\r\n        // queue specified by type, or none\r\n        srcQueue = (oOptions && oOptions.type ? on_queue[oOptions.type] || [] : []),\r\n\r\n        queue = [], i, j,\r\n        args = [status],\r\n        canRetry = (needsFlash && !sm2.ok());\r\n\r\n    if (oOptions.error) {\r\n      args[0].error = oOptions.error;\r\n    }\r\n\r\n    for (i = 0, j = srcQueue.length; i < j; i++) {\r\n      if (srcQueue[i].fired !== true) {\r\n        queue.push(srcQueue[i]);\r\n      }\r\n    }\r\n\r\n    if (queue.length) {\r\n\r\n      // sm2._wD(sm + ': Firing ' + queue.length + ' ' + oOptions.type + '() item' + (queue.length === 1 ? '' : 's'));\r\n      for (i = 0, j = queue.length; i < j; i++) {\r\n\r\n        if (queue[i].scope) {\r\n          queue[i].method.apply(queue[i].scope, args);\r\n        } else {\r\n          queue[i].method.apply(this, args);\r\n        }\r\n\r\n        if (!canRetry) {\r\n          // useFlashBlock and SWF timeout case doesn't count here.\r\n          queue[i].fired = true;\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  initUserOnload = function() {\r\n\r\n    window.setTimeout(function() {\r\n\r\n      if (sm2.useFlashBlock) {\r\n        flashBlockHandler();\r\n      }\r\n\r\n      processOnEvents();\r\n\r\n      // call user-defined \"onload\", scoped to window\r\n\r\n      if (typeof sm2.onload === 'function') {\r\n        _wDS('onload', 1);\r\n        sm2.onload.apply(window);\r\n        _wDS('onloadOK', 1);\r\n      }\r\n\r\n      if (sm2.waitForWindowLoad) {\r\n        event.add(window, 'load', initUserOnload);\r\n      }\r\n\r\n    }, 1);\r\n\r\n  };\r\n\r\n  detectFlash = function() {\r\n\r\n    /**\r\n     * Hat tip: Flash Detect library (BSD, (C) 2007) by Carl \"DocYes\" S. Yestrau\r\n     * http://featureblend.com/javascript-flash-detection-library.html / http://featureblend.com/license.txt\r\n     */\r\n\r\n    // this work has already been done.\r\n    if (hasFlash !== _undefined) return hasFlash;\r\n\r\n    var hasPlugin = false, n = navigator, obj, type, types, AX = window.ActiveXObject;\r\n\r\n    // MS Edge 14 throws an \"Unspecified Error\" because n.plugins is inaccessible due to permissions\r\n    var nP;\r\n\r\n    try {\r\n      nP = n.plugins;\r\n    } catch(e) {\r\n      nP = undefined;\r\n    }\r\n\r\n    if (nP && nP.length) {\r\n\r\n      type = 'application/x-shockwave-flash';\r\n      types = n.mimeTypes;\r\n\r\n      if (types && types[type] && types[type].enabledPlugin && types[type].enabledPlugin.description) {\r\n        hasPlugin = true;\r\n      }\r\n\r\n    } else if (AX !== _undefined && !ua.match(/MSAppHost/i)) {\r\n\r\n      // Windows 8 Store Apps (MSAppHost) are weird (compatibility?) and won't complain here, but will barf if Flash/ActiveX object is appended to the DOM.\r\n      try {\r\n        obj = new AX('ShockwaveFlash.ShockwaveFlash');\r\n      } catch(e) {\r\n        // oh well\r\n        obj = null;\r\n      }\r\n\r\n      hasPlugin = (!!obj);\r\n\r\n      // cleanup, because it is ActiveX after all\r\n      obj = null;\r\n\r\n    }\r\n\r\n    hasFlash = hasPlugin;\r\n\r\n    return hasPlugin;\r\n\r\n  };\r\n\r\n  featureCheck = function() {\r\n\r\n    var flashNeeded,\r\n        item,\r\n        formats = sm2.audioFormats,\r\n        // iPhone <= 3.1 has broken HTML5 audio(), but firmware 3.2 (original iPad) + iOS4 works.\r\n        isSpecial = (is_iDevice && !!(ua.match(/os (1|2|3_0|3_1)\\s/i)));\r\n\r\n    if (isSpecial) {\r\n\r\n      // has Audio(), but is broken; let it load links directly.\r\n      sm2.hasHTML5 = false;\r\n\r\n      // ignore flash case, however\r\n      sm2.html5Only = true;\r\n\r\n      // hide the SWF, if present\r\n      if (sm2.oMC) {\r\n        sm2.oMC.style.display = 'none';\r\n      }\r\n\r\n    } else if (sm2.useHTML5Audio) {\r\n\r\n        if (!sm2.html5 || !sm2.html5.canPlayType) {\r\n          sm2._wD('SoundManager: No HTML5 Audio() support detected.');\r\n          sm2.hasHTML5 = false;\r\n        }\r\n\r\n        // <d>\r\n        if (isBadSafari) {\r\n          sm2._wD(smc + 'Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - ' + (!hasFlash ? ' would use flash fallback for MP3/MP4, but none detected.' : 'will use flash fallback for MP3/MP4, if available'), 1);\r\n        }\r\n        // </d>\r\n\r\n      }\r\n\r\n    if (sm2.useHTML5Audio && sm2.hasHTML5) {\r\n\r\n      // sort out whether flash is optional, required or can be ignored.\r\n\r\n      // innocent until proven guilty.\r\n      canIgnoreFlash = true;\r\n\r\n      for (item in formats) {\r\n\r\n        if (formats.hasOwnProperty(item)) {\r\n\r\n          if (formats[item].required) {\r\n\r\n            if (!sm2.html5.canPlayType(formats[item].type)) {\r\n\r\n              // 100% HTML5 mode is not possible.\r\n              canIgnoreFlash = false;\r\n              flashNeeded = true;\r\n\r\n            } else if (sm2.preferFlash && (sm2.flash[item] || sm2.flash[formats[item].type])) {\r\n\r\n              // flash may be required, or preferred for this format.\r\n              flashNeeded = true;\r\n\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // sanity check...\r\n    if (sm2.ignoreFlash) {\r\n      flashNeeded = false;\r\n      canIgnoreFlash = true;\r\n    }\r\n\r\n    sm2.html5Only = (sm2.hasHTML5 && sm2.useHTML5Audio && !flashNeeded);\r\n\r\n    return (!sm2.html5Only);\r\n\r\n  };\r\n\r\n  parseURL = function(url) {\r\n\r\n    /**\r\n     * Internal: Finds and returns the first playable URL (or failing that, the first URL.)\r\n     * @param {string or array} url A single URL string, OR, an array of URL strings or {url:'/path/to/resource', type:'audio/mp3'} objects.\r\n     */\r\n\r\n    var i, j, urlResult = 0, result;\r\n\r\n    if (url instanceof Array) {\r\n\r\n      // find the first good one\r\n      for (i = 0, j = url.length; i < j; i++) {\r\n\r\n        if (url[i] instanceof Object) {\r\n\r\n          // MIME check\r\n          if (sm2.canPlayMIME(url[i].type)) {\r\n            urlResult = i;\r\n            break;\r\n          }\r\n\r\n        } else if (sm2.canPlayURL(url[i])) {\r\n\r\n          // URL string check\r\n          urlResult = i;\r\n          break;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      // normalize to string\r\n      if (url[urlResult].url) {\r\n        url[urlResult] = url[urlResult].url;\r\n      }\r\n\r\n      result = url[urlResult];\r\n\r\n    } else {\r\n\r\n      // single URL case\r\n      result = url;\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n\r\n  startTimer = function(oSound) {\r\n\r\n    /**\r\n     * attach a timer to this sound, and start an interval if needed\r\n     */\r\n\r\n    if (!oSound._hasTimer) {\r\n\r\n      oSound._hasTimer = true;\r\n\r\n      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n\r\n        if (h5IntervalTimer === null && h5TimerCount === 0) {\r\n\r\n          h5IntervalTimer = setInterval(timerExecute, sm2.html5PollingInterval);\r\n\r\n        }\r\n\r\n        h5TimerCount++;\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  stopTimer = function(oSound) {\r\n\r\n    /**\r\n     * detach a timer\r\n     */\r\n\r\n    if (oSound._hasTimer) {\r\n\r\n      oSound._hasTimer = false;\r\n\r\n      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n\r\n        // interval will stop itself at next execution.\r\n\r\n        h5TimerCount--;\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  timerExecute = function() {\r\n\r\n    /**\r\n     * manual polling for HTML5 progress events, ie., whileplaying()\r\n     * (can achieve greater precision than conservative default HTML5 interval)\r\n     */\r\n\r\n    var i;\r\n\r\n    if (h5IntervalTimer !== null && !h5TimerCount) {\r\n\r\n      // no active timers, stop polling interval.\r\n\r\n      clearInterval(h5IntervalTimer);\r\n\r\n      h5IntervalTimer = null;\r\n\r\n      return;\r\n\r\n    }\r\n\r\n    // check all HTML5 sounds with timers\r\n\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\r\n      if (sm2.sounds[sm2.soundIDs[i]].isHTML5 && sm2.sounds[sm2.soundIDs[i]]._hasTimer) {\r\n        sm2.sounds[sm2.soundIDs[i]]._onTimer();\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  catchError = function(options) {\r\n\r\n    options = (options !== _undefined ? options : {});\r\n\r\n    if (typeof sm2.onerror === 'function') {\r\n      sm2.onerror.apply(window, [{\r\n        type: (options.type !== _undefined ? options.type : null)\r\n      }]);\r\n    }\r\n\r\n    if (options.fatal !== _undefined && options.fatal) {\r\n      sm2.disable();\r\n    }\r\n\r\n  };\r\n\r\n  badSafariFix = function() {\r\n\r\n    // special case: \"bad\" Safari (OS X 10.3 - 10.7) must fall back to flash for MP3/MP4\r\n    if (!isBadSafari || !detectFlash()) {\r\n      // doesn't apply\r\n      return;\r\n    }\r\n\r\n    var aF = sm2.audioFormats, i, item;\r\n\r\n    for (item in aF) {\r\n\r\n      if (aF.hasOwnProperty(item)) {\r\n\r\n        if (item === 'mp3' || item === 'mp4') {\r\n\r\n          sm2._wD(sm + ': Using flash fallback for ' + item + ' format');\r\n          sm2.html5[item] = false;\r\n\r\n          // assign result to related formats, too\r\n          if (aF[item] && aF[item].related) {\r\n            for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n              sm2.html5[aF[item].related[i]] = false;\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Pseudo-private flash/ExternalInterface methods\r\n   * ----------------------------------------------\r\n   */\r\n\r\n  this._setSandboxType = function(sandboxType) {\r\n\r\n    // <d>\r\n    // Security sandbox according to Flash plugin\r\n    var sb = sm2.sandbox;\r\n\r\n    sb.type = sandboxType;\r\n    sb.description = sb.types[(sb.types[sandboxType] !== _undefined ? sandboxType : 'unknown')];\r\n\r\n    if (sb.type === 'localWithFile') {\r\n\r\n      sb.noRemote = true;\r\n      sb.noLocal = false;\r\n      _wDS('secNote', 2);\r\n\r\n    } else if (sb.type === 'localWithNetwork') {\r\n\r\n      sb.noRemote = false;\r\n      sb.noLocal = true;\r\n\r\n    } else if (sb.type === 'localTrusted') {\r\n\r\n      sb.noRemote = false;\r\n      sb.noLocal = false;\r\n\r\n    }\r\n    // </d>\r\n\r\n  };\r\n\r\n  this._externalInterfaceOK = function(swfVersion) {\r\n\r\n    // flash callback confirming flash loaded, EI working etc.\r\n    // swfVersion: SWF build string\r\n\r\n    if (sm2.swfLoaded) {\r\n      return;\r\n    }\r\n\r\n    var e;\r\n\r\n    debugTS('swf', true);\r\n    debugTS('flashtojs', true);\r\n    sm2.swfLoaded = true;\r\n    tryInitOnFocus = false;\r\n\r\n    if (isBadSafari) {\r\n      badSafariFix();\r\n    }\r\n\r\n    // complain if JS + SWF build/version strings don't match, excluding +DEV builds\r\n    // <d>\r\n    if (!swfVersion || swfVersion.replace(/\\+dev/i, '') !== sm2.versionNumber.replace(/\\+dev/i, '')) {\r\n\r\n      e = sm + ': Fatal: JavaScript file build \"' + sm2.versionNumber + '\" does not match Flash SWF build \"' + swfVersion + '\" at ' + sm2.url + '. Ensure both are up-to-date.';\r\n\r\n      // escape flash -> JS stack so this error fires in window.\r\n      setTimeout(function() {\r\n        throw new Error(e);\r\n      }, 0);\r\n\r\n      // exit, init will fail with timeout\r\n      return;\r\n\r\n    }\r\n    // </d>\r\n\r\n    // IE needs a larger timeout\r\n    setTimeout(init, isIE ? 100 : 1);\r\n\r\n  };\r\n\r\n  /**\r\n   * Private initialization helpers\r\n   * ------------------------------\r\n   */\r\n\r\n  createMovie = function(movieID, movieURL) {\r\n\r\n    // ignore if already connected\r\n    if (didAppend && appendSuccess) return false;\r\n\r\n    function initMsg() {\r\n\r\n      // <d>\r\n\r\n      var options = [],\r\n          title,\r\n          msg = [],\r\n          delimiter = ' + ';\r\n\r\n      title = 'SoundManager ' + sm2.version + (!sm2.html5Only && sm2.useHTML5Audio ? (sm2.hasHTML5 ? ' + HTML5 audio' : ', no HTML5 audio support') : '');\r\n\r\n      if (!sm2.html5Only) {\r\n\r\n        if (sm2.preferFlash) {\r\n          options.push('preferFlash');\r\n        }\r\n\r\n        if (sm2.useHighPerformance) {\r\n          options.push('useHighPerformance');\r\n        }\r\n\r\n        if (sm2.flashPollingInterval) {\r\n          options.push('flashPollingInterval (' + sm2.flashPollingInterval + 'ms)');\r\n        }\r\n\r\n        if (sm2.html5PollingInterval) {\r\n          options.push('html5PollingInterval (' + sm2.html5PollingInterval + 'ms)');\r\n        }\r\n\r\n        if (sm2.wmode) {\r\n          options.push('wmode (' + sm2.wmode + ')');\r\n        }\r\n\r\n        if (sm2.debugFlash) {\r\n          options.push('debugFlash');\r\n        }\r\n\r\n        if (sm2.useFlashBlock) {\r\n          options.push('flashBlock');\r\n        }\r\n\r\n      } else if (sm2.html5PollingInterval) {\r\n          options.push('html5PollingInterval (' + sm2.html5PollingInterval + 'ms)');\r\n        }\r\n\r\n      if (options.length) {\r\n        msg = msg.concat([options.join(delimiter)]);\r\n      }\r\n\r\n      sm2._wD(title + (msg.length ? delimiter + msg.join(', ') : ''), 1);\r\n\r\n      showSupport();\r\n\r\n      // </d>\r\n\r\n    }\r\n\r\n    if (sm2.html5Only) {\r\n\r\n      // 100% HTML5 mode\r\n      setVersionInfo();\r\n\r\n      initMsg();\r\n      sm2.oMC = id(sm2.movieID);\r\n      init();\r\n\r\n      // prevent multiple init attempts\r\n      didAppend = true;\r\n\r\n      appendSuccess = true;\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    // flash path\r\n    var remoteURL = (movieURL || sm2.url),\r\n    localURL = (sm2.altURL || remoteURL),\r\n    swfTitle = 'JS/Flash audio component (SoundManager 2)',\r\n    oTarget = getDocument(),\r\n    extraClass = getSWFCSS(),\r\n    isRTL = null,\r\n    html = doc.getElementsByTagName('html')[0],\r\n    oEmbed, oMovie, tmp, movieHTML, oEl, s, x, sClass;\r\n\r\n    isRTL = (html && html.dir && html.dir.match(/rtl/i));\r\n    movieID = (movieID === _undefined ? sm2.id : movieID);\r\n\r\n    function param(name, value) {\r\n      return '<param name=\"' + name + '\" value=\"' + value + '\" />';\r\n    }\r\n\r\n    // safety check for legacy (change to Flash 9 URL)\r\n    setVersionInfo();\r\n    sm2.url = normalizeMovieURL(overHTTP ? remoteURL : localURL);\r\n    movieURL = sm2.url;\r\n\r\n    sm2.wmode = (!sm2.wmode && sm2.useHighPerformance ? 'transparent' : sm2.wmode);\r\n\r\n    if (sm2.wmode !== null && (ua.match(/msie 8/i) || (!isIE && !sm2.useHighPerformance)) && navigator.platform.match(/win32|win64/i)) {\r\n      /**\r\n       * extra-special case: movie doesn't load until scrolled into view when using wmode = anything but 'window' here\r\n       * does not apply when using high performance (position:fixed means on-screen), OR infinite flash load timeout\r\n       * wmode breaks IE 8 on Vista + Win7 too in some cases, as of January 2011 (?)\r\n       */\r\n      messages.push(strings.spcWmode);\r\n      sm2.wmode = null;\r\n    }\r\n\r\n    oEmbed = {\r\n      name: movieID,\r\n      id: movieID,\r\n      src: movieURL,\r\n      quality: 'high',\r\n      allowScriptAccess: sm2.allowScriptAccess,\r\n      bgcolor: sm2.bgColor,\r\n      pluginspage: http + 'www.macromedia.com/go/getflashplayer',\r\n      title: swfTitle,\r\n      type: 'application/x-shockwave-flash',\r\n      wmode: sm2.wmode,\r\n      // http://help.adobe.com/en_US/as3/mobile/WS4bebcd66a74275c36cfb8137124318eebc6-7ffd.html\r\n      hasPriority: 'true'\r\n    };\r\n\r\n    if (sm2.debugFlash) {\r\n      oEmbed.FlashVars = 'debug=1';\r\n    }\r\n\r\n    if (!sm2.wmode) {\r\n      // don't write empty attribute\r\n      delete oEmbed.wmode;\r\n    }\r\n\r\n    if (isIE) {\r\n\r\n      // IE is \"special\".\r\n      oMovie = doc.createElement('div');\r\n      movieHTML = [\r\n        '<object id=\"' + movieID + '\" data=\"' + movieURL + '\" type=\"' + oEmbed.type + '\" title=\"' + oEmbed.title + '\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\">',\r\n        param('movie', movieURL),\r\n        param('AllowScriptAccess', sm2.allowScriptAccess),\r\n        param('quality', oEmbed.quality),\r\n        (sm2.wmode ? param('wmode', sm2.wmode) : ''),\r\n        param('bgcolor', sm2.bgColor),\r\n        param('hasPriority', 'true'),\r\n        (sm2.debugFlash ? param('FlashVars', oEmbed.FlashVars) : ''),\r\n        '</object>'\r\n      ].join('');\r\n\r\n    } else {\r\n\r\n      oMovie = doc.createElement('embed');\r\n      for (tmp in oEmbed) {\r\n        if (oEmbed.hasOwnProperty(tmp)) {\r\n          oMovie.setAttribute(tmp, oEmbed[tmp]);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    initDebug();\r\n    extraClass = getSWFCSS();\r\n    oTarget = getDocument();\r\n\r\n    if (oTarget) {\r\n\r\n      sm2.oMC = (id(sm2.movieID) || doc.createElement('div'));\r\n\r\n      if (!sm2.oMC.id) {\r\n\r\n        sm2.oMC.id = sm2.movieID;\r\n        sm2.oMC.className = swfCSS.swfDefault + ' ' + extraClass;\r\n        s = null;\r\n        oEl = null;\r\n\r\n        if (!sm2.useFlashBlock) {\r\n          if (sm2.useHighPerformance) {\r\n            // on-screen at all times\r\n            s = {\r\n              position: 'fixed',\r\n              width: '8px',\r\n              height: '8px',\r\n              // >= 6px for flash to run fast, >= 8px to start up under Firefox/win32 in some cases. odd? yes.\r\n              bottom: '0px',\r\n              left: '0px',\r\n              overflow: 'hidden'\r\n            };\r\n          } else {\r\n            // hide off-screen, lower priority\r\n            s = {\r\n              position: 'absolute',\r\n              width: '6px',\r\n              height: '6px',\r\n              top: '-9999px',\r\n              left: '-9999px'\r\n            };\r\n            if (isRTL) {\r\n              s.left = Math.abs(parseInt(s.left, 10)) + 'px';\r\n            }\r\n          }\r\n        }\r\n\r\n        if (isWebkit) {\r\n          // soundcloud-reported render/crash fix, safari 5\r\n          sm2.oMC.style.zIndex = 10000;\r\n        }\r\n\r\n        if (!sm2.debugFlash) {\r\n          for (x in s) {\r\n            if (s.hasOwnProperty(x)) {\r\n              sm2.oMC.style[x] = s[x];\r\n            }\r\n          }\r\n        }\r\n\r\n        try {\r\n\r\n          if (!isIE) {\r\n            sm2.oMC.appendChild(oMovie);\r\n          }\r\n\r\n          oTarget.appendChild(sm2.oMC);\r\n\r\n          if (isIE) {\r\n            oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n            oEl.className = swfCSS.swfBox;\r\n            oEl.innerHTML = movieHTML;\r\n          }\r\n\r\n          appendSuccess = true;\r\n\r\n        } catch(e) {\r\n\r\n          throw new Error(str('domError') + ' \\n' + e.toString());\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        // SM2 container is already in the document (eg. flashblock use case)\r\n        sClass = sm2.oMC.className;\r\n        sm2.oMC.className = (sClass ? sClass + ' ' : swfCSS.swfDefault) + (extraClass ? ' ' + extraClass : '');\r\n        sm2.oMC.appendChild(oMovie);\r\n\r\n        if (isIE) {\r\n          oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n          oEl.className = swfCSS.swfBox;\r\n          oEl.innerHTML = movieHTML;\r\n        }\r\n\r\n        appendSuccess = true;\r\n\r\n      }\r\n\r\n    }\r\n\r\n    didAppend = true;\r\n\r\n    initMsg();\r\n\r\n    // sm2._wD(sm + ': Trying to load ' + movieURL + (!overHTTP && sm2.altURL ? ' (alternate URL)' : ''), 1);\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  initMovie = function() {\r\n\r\n    if (sm2.html5Only) {\r\n      createMovie();\r\n      return false;\r\n    }\r\n\r\n    // attempt to get, or create, movie (may already exist)\r\n    if (flash) return false;\r\n\r\n    if (!sm2.url) {\r\n\r\n      /**\r\n       * Something isn't right - we've reached init, but the soundManager url property has not been set.\r\n       * User has not called setup({url: ...}), or has not set soundManager.url (legacy use case) directly before init time.\r\n       * Notify and exit. If user calls setup() with a url: property, init will be restarted as in the deferred loading case.\r\n       */\r\n\r\n       _wDS('noURL');\r\n       return false;\r\n\r\n    }\r\n\r\n    // inline markup case\r\n    flash = sm2.getMovie(sm2.id);\r\n\r\n    if (!flash) {\r\n\r\n      if (!oRemoved) {\r\n\r\n        // try to create\r\n        createMovie(sm2.id, sm2.url);\r\n\r\n      } else {\r\n\r\n        // try to re-append removed movie after reboot()\r\n        if (!isIE) {\r\n          sm2.oMC.appendChild(oRemoved);\r\n        } else {\r\n          sm2.oMC.innerHTML = oRemovedHTML;\r\n        }\r\n\r\n        oRemoved = null;\r\n        didAppend = true;\r\n\r\n      }\r\n\r\n      flash = sm2.getMovie(sm2.id);\r\n\r\n    }\r\n\r\n    if (typeof sm2.oninitmovie === 'function') {\r\n      setTimeout(sm2.oninitmovie, 1);\r\n    }\r\n\r\n    // <d>\r\n    flushMessages();\r\n    // </d>\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  delayWaitForEI = function() {\r\n\r\n    setTimeout(waitForEI, 1000);\r\n\r\n  };\r\n\r\n  rebootIntoHTML5 = function() {\r\n\r\n    // special case: try for a reboot with preferFlash: false, if 100% HTML5 mode is possible and useFlashBlock is not enabled.\r\n\r\n    window.setTimeout(function() {\r\n\r\n      complain(smc + 'useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...');\r\n\r\n      sm2.setup({\r\n        preferFlash: false\r\n      }).reboot();\r\n\r\n      // if for some reason you want to detect this case, use an ontimeout() callback and look for html5Only and didFlashBlock == true.\r\n      sm2.didFlashBlock = true;\r\n\r\n      sm2.beginDelayedInit();\r\n\r\n    }, 1);\r\n\r\n  };\r\n\r\n  waitForEI = function() {\r\n\r\n    var p,\r\n        loadIncomplete = false;\r\n\r\n    if (!sm2.url) {\r\n      // No SWF url to load (noURL case) - exit for now. Will be retried when url is set.\r\n      return;\r\n    }\r\n\r\n    if (waitingForEI) {\r\n      return;\r\n    }\r\n\r\n    waitingForEI = true;\r\n    event.remove(window, 'load', delayWaitForEI);\r\n\r\n    if (hasFlash && tryInitOnFocus && !isFocused) {\r\n      // Safari won't load flash in background tabs, only when focused.\r\n      _wDS('waitFocus');\r\n      return;\r\n    }\r\n\r\n    if (!didInit) {\r\n      p = sm2.getMoviePercent();\r\n      if (p > 0 && p < 100) {\r\n        loadIncomplete = true;\r\n      }\r\n    }\r\n\r\n    setTimeout(function() {\r\n\r\n      p = sm2.getMoviePercent();\r\n\r\n      if (loadIncomplete) {\r\n        // special case: if movie *partially* loaded, retry until it's 100% before assuming failure.\r\n        waitingForEI = false;\r\n        sm2._wD(str('waitSWF'));\r\n        window.setTimeout(delayWaitForEI, 1);\r\n        return;\r\n      }\r\n\r\n      // <d>\r\n      if (!didInit) {\r\n\r\n        sm2._wD(sm + ': No Flash response within expected time. Likely causes: ' + (p === 0 ? 'SWF load failed, ' : '') + 'Flash blocked or JS-Flash security error.' + (sm2.debugFlash ? ' ' + str('checkSWF') : ''), 2);\r\n\r\n        if (!overHTTP && p) {\r\n\r\n          _wDS('localFail', 2);\r\n\r\n          if (!sm2.debugFlash) {\r\n            _wDS('tryDebug', 2);\r\n          }\r\n\r\n        }\r\n\r\n        if (p === 0) {\r\n\r\n          // if 0 (not null), probably a 404.\r\n          sm2._wD(str('swf404', sm2.url), 1);\r\n\r\n        }\r\n\r\n        debugTS('flashtojs', false, ': Timed out' + (overHTTP ? ' (Check flash security or flash blockers)' : ' (No plugin/missing SWF?)'));\r\n\r\n      }\r\n      // </d>\r\n\r\n      // give up / time-out, depending\r\n\r\n      if (!didInit && okToDisable) {\r\n\r\n        if (p === null) {\r\n\r\n          // SWF failed to report load progress. Possibly blocked.\r\n\r\n          if (sm2.useFlashBlock || sm2.flashLoadTimeout === 0) {\r\n\r\n            if (sm2.useFlashBlock) {\r\n\r\n              flashBlockHandler();\r\n\r\n            }\r\n\r\n            _wDS('waitForever');\r\n\r\n          } else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n\r\n            // no custom flash block handling, but SWF has timed out. Will recover if user unblocks / allows SWF load.\r\n            rebootIntoHTML5();\r\n\r\n          } else {\r\n\r\n            _wDS('waitForever');\r\n\r\n            // fire any regular registered ontimeout() listeners.\r\n            processOnEvents({\r\n              type: 'ontimeout',\r\n              ignoreInit: true,\r\n              error: {\r\n                type: 'INIT_FLASHBLOCK'\r\n              }\r\n            });\r\n\r\n          }\r\n\r\n        } else if (sm2.flashLoadTimeout === 0) {\r\n\r\n          // SWF loaded? Shouldn't be a blocking issue, then.\r\n\r\n          _wDS('waitForever');\r\n\r\n        } else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n\r\n          rebootIntoHTML5();\r\n\r\n        } else {\r\n\r\n          failSafely(true);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }, sm2.flashLoadTimeout);\r\n\r\n  };\r\n\r\n  handleFocus = function() {\r\n\r\n    function cleanup() {\r\n      event.remove(window, 'focus', handleFocus);\r\n    }\r\n\r\n    if (isFocused || !tryInitOnFocus) {\r\n      // already focused, or not special Safari background tab case\r\n      cleanup();\r\n      return true;\r\n    }\r\n\r\n    okToDisable = true;\r\n    isFocused = true;\r\n    _wDS('gotFocus');\r\n\r\n    // allow init to restart\r\n    waitingForEI = false;\r\n\r\n    // kick off ExternalInterface timeout, now that the SWF has started\r\n    delayWaitForEI();\r\n\r\n    cleanup();\r\n    return true;\r\n\r\n  };\r\n\r\n  flushMessages = function() {\r\n\r\n    // <d>\r\n\r\n    // SM2 pre-init debug messages\r\n    if (messages.length) {\r\n      sm2._wD('SoundManager 2: ' + messages.join(' '), 1);\r\n      messages = [];\r\n    }\r\n\r\n    // </d>\r\n\r\n  };\r\n\r\n  showSupport = function() {\r\n\r\n    // <d>\r\n\r\n    flushMessages();\r\n\r\n    var item, tests = [];\r\n\r\n    if (sm2.useHTML5Audio && sm2.hasHTML5) {\r\n      for (item in sm2.audioFormats) {\r\n        if (sm2.audioFormats.hasOwnProperty(item)) {\r\n          tests.push(item + ' = ' + sm2.html5[item] + (!sm2.html5[item] && needsFlash && sm2.flash[item] ? ' (using flash)' : (sm2.preferFlash && sm2.flash[item] && needsFlash ? ' (preferring flash)' : (!sm2.html5[item] ? ' (' + (sm2.audioFormats[item].required ? 'required, ' : '') + 'and no flash support)' : ''))));\r\n        }\r\n      }\r\n      sm2._wD('SoundManager 2 HTML5 support: ' + tests.join(', '), 1);\r\n    }\r\n\r\n    // </d>\r\n\r\n  };\r\n\r\n  initComplete = function(bNoDisable) {\r\n\r\n    if (didInit) return false;\r\n\r\n    if (sm2.html5Only) {\r\n      // all good.\r\n      _wDS('sm2Loaded', 1);\r\n      didInit = true;\r\n      initUserOnload();\r\n      debugTS('onload', true);\r\n      return true;\r\n    }\r\n\r\n    var wasTimeout = (sm2.useFlashBlock && sm2.flashLoadTimeout && !sm2.getMoviePercent()),\r\n        result = true,\r\n        error;\r\n\r\n    if (!wasTimeout) {\r\n      didInit = true;\r\n    }\r\n\r\n    error = {\r\n      type: (!hasFlash && needsFlash ? 'NO_FLASH' : 'INIT_TIMEOUT')\r\n    };\r\n\r\n    sm2._wD('SoundManager 2 ' + (disabled ? 'failed to load' : 'loaded') + ' (' + (disabled ? 'Flash security/load error' : 'OK') + ') ' + String.fromCharCode(disabled ? 10006 : 10003), disabled ? 2 : 1);\r\n\r\n    if (disabled || bNoDisable) {\r\n\r\n      if (sm2.useFlashBlock && sm2.oMC) {\r\n        sm2.oMC.className = getSWFCSS() + ' ' + (sm2.getMoviePercent() === null ? swfCSS.swfTimedout : swfCSS.swfError);\r\n      }\r\n\r\n      processOnEvents({\r\n        type: 'ontimeout',\r\n        error: error,\r\n        ignoreInit: true\r\n      });\r\n\r\n      debugTS('onload', false);\r\n      catchError(error);\r\n\r\n      result = false;\r\n\r\n    } else {\r\n\r\n      debugTS('onload', true);\r\n\r\n    }\r\n\r\n    if (!disabled) {\r\n\r\n      if (sm2.waitForWindowLoad && !windowLoaded) {\r\n\r\n        _wDS('waitOnload');\r\n        event.add(window, 'load', initUserOnload);\r\n\r\n      } else {\r\n\r\n        // <d>\r\n        if (sm2.waitForWindowLoad && windowLoaded) {\r\n          _wDS('docLoaded');\r\n        }\r\n        // </d>\r\n\r\n        initUserOnload();\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * apply top-level setupOptions object as local properties, eg., this.setupOptions.flashVersion -> this.flashVersion (soundManager.flashVersion)\r\n   * this maintains backward compatibility, and allows properties to be defined separately for use by soundManager.setup().\r\n   */\r\n\r\n  setProperties = function() {\r\n\r\n    var i,\r\n        o = sm2.setupOptions;\r\n\r\n    for (i in o) {\r\n\r\n      if (o.hasOwnProperty(i)) {\r\n\r\n        // assign local property if not already defined\r\n\r\n        if (sm2[i] === _undefined) {\r\n\r\n          sm2[i] = o[i];\r\n\r\n        } else if (sm2[i] !== o[i]) {\r\n\r\n          // legacy support: write manually-assigned property (eg., soundManager.url) back to setupOptions to keep things in sync\r\n          sm2.setupOptions[i] = sm2[i];\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n\r\n  init = function() {\r\n\r\n    // called after onload()\r\n\r\n    if (didInit) {\r\n      _wDS('didInit');\r\n      return false;\r\n    }\r\n\r\n    function cleanup() {\r\n      event.remove(window, 'load', sm2.beginDelayedInit);\r\n    }\r\n\r\n    if (sm2.html5Only) {\r\n\r\n      if (!didInit) {\r\n        // we don't need no steenking flash!\r\n        cleanup();\r\n        sm2.enabled = true;\r\n        initComplete();\r\n      }\r\n\r\n      return true;\r\n\r\n    }\r\n\r\n    // flash path\r\n    initMovie();\r\n\r\n    try {\r\n\r\n      // attempt to talk to Flash\r\n      flash._externalInterfaceTest(false);\r\n\r\n      /**\r\n       * Apply user-specified polling interval, OR, if \"high performance\" set, faster vs. default polling\r\n       * (determines frequency of whileloading/whileplaying callbacks, effectively driving UI framerates)\r\n       */\r\n      setPolling(true, (sm2.flashPollingInterval || (sm2.useHighPerformance ? 10 : 50)));\r\n\r\n      if (!sm2.debugMode) {\r\n        // stop the SWF from making debug output calls to JS\r\n        flash._disableDebug();\r\n      }\r\n\r\n      sm2.enabled = true;\r\n      debugTS('jstoflash', true);\r\n\r\n      if (!sm2.html5Only) {\r\n        // prevent browser from showing cached page state (or rather, restoring \"suspended\" page state) via back button, because flash may be dead\r\n        // http://www.webkit.org/blog/516/webkit-page-cache-ii-the-unload-event/\r\n        event.add(window, 'unload', doNothing);\r\n      }\r\n\r\n    } catch(e) {\r\n\r\n      sm2._wD('js/flash exception: ' + e.toString());\r\n\r\n      debugTS('jstoflash', false);\r\n\r\n      catchError({\r\n        type: 'JS_TO_FLASH_EXCEPTION',\r\n        fatal: true\r\n      });\r\n\r\n      // don't disable, for reboot()\r\n      failSafely(true);\r\n\r\n      initComplete();\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    initComplete();\r\n\r\n    // disconnect events\r\n    cleanup();\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  domContentLoaded = function() {\r\n\r\n    if (didDCLoaded) return false;\r\n\r\n    didDCLoaded = true;\r\n\r\n    // assign top-level soundManager properties eg. soundManager.url\r\n    setProperties();\r\n\r\n    initDebug();\r\n\r\n    if (!hasFlash && sm2.hasHTML5) {\r\n\r\n      sm2._wD('SoundManager 2: No Flash detected' + (!sm2.useHTML5Audio ? ', enabling HTML5.' : '. Trying HTML5-only mode.'), 1);\r\n\r\n      sm2.setup({\r\n        useHTML5Audio: true,\r\n        // make sure we aren't preferring flash, either\r\n        // TODO: preferFlash should not matter if flash is not installed. Currently, stuff breaks without the below tweak.\r\n        preferFlash: false\r\n      });\r\n\r\n    }\r\n\r\n    testHTML5();\r\n\r\n    if (!hasFlash && needsFlash) {\r\n\r\n      messages.push(strings.needFlash);\r\n\r\n      // TODO: Fatal here vs. timeout approach, etc.\r\n      // hack: fail sooner.\r\n      sm2.setup({\r\n        flashLoadTimeout: 1\r\n      });\r\n\r\n    }\r\n\r\n    if (doc.removeEventListener) {\r\n      doc.removeEventListener('DOMContentLoaded', domContentLoaded, false);\r\n    }\r\n\r\n    initMovie();\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  domContentLoadedIE = function() {\r\n\r\n    if (doc.readyState === 'complete') {\r\n      domContentLoaded();\r\n      doc.detachEvent('onreadystatechange', domContentLoadedIE);\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  winOnLoad = function() {\r\n\r\n    // catch edge case of initComplete() firing after window.load()\r\n    windowLoaded = true;\r\n\r\n    // catch case where DOMContentLoaded has been sent, but we're still in doc.readyState = 'interactive'\r\n    domContentLoaded();\r\n\r\n    event.remove(window, 'load', winOnLoad);\r\n\r\n  };\r\n\r\n  // sniff up-front\r\n  detectFlash();\r\n\r\n  // focus and window load, init (primarily flash-driven)\r\n  event.add(window, 'focus', handleFocus);\r\n  event.add(window, 'load', delayWaitForEI);\r\n  event.add(window, 'load', winOnLoad);\r\n\r\n  if (doc.addEventListener) {\r\n\r\n    doc.addEventListener('DOMContentLoaded', domContentLoaded, false);\r\n\r\n  } else if (doc.attachEvent) {\r\n\r\n    doc.attachEvent('onreadystatechange', domContentLoadedIE);\r\n\r\n  } else {\r\n\r\n    // no add/attachevent support - safe to assume no JS -> Flash either\r\n    debugTS('onload', false);\r\n    catchError({\r\n      type: 'NO_DOM2_EVENTS',\r\n      fatal: true\r\n    });\r\n\r\n  }\r\n\r\n} // SoundManager()\r\n\r\n// SM2_DEFER details: http://www.schillmania.com/projects/soundmanager2/doc/getstarted/#lazy-loading\r\n\r\nif (window.SM2_DEFER === _undefined || !SM2_DEFER) {\r\n  soundManager = new SoundManager();\r\n}\r\n\r\n/**\r\n * SoundManager public interfaces\r\n * ------------------------------\r\n */\r\n\r\nif (typeof module === 'object' && module && typeof module.exports === 'object') {\r\n\r\n  /**\r\n   * commonJS module\r\n   */\r\n\r\n  module.exports.SoundManager = SoundManager;\r\n  module.exports.soundManager = soundManager;\r\n\r\n} else if (typeof define === 'function' && define.amd) {\r\n\r\n  /**\r\n   * AMD - requireJS\r\n   * basic usage:\r\n   * require([\"/path/to/soundmanager2.js\"], function(SoundManager) {\r\n   *   SoundManager.getInstance().setup({\r\n   *     url: '/swf/',\r\n   *     onready: function() { ... }\r\n   *   })\r\n   * });\r\n   *\r\n   * SM2_DEFER usage:\r\n   * window.SM2_DEFER = true;\r\n   * require([\"/path/to/soundmanager2.js\"], function(SoundManager) {\r\n   *   SoundManager.getInstance(function() {\r\n   *     var soundManager = new SoundManager.constructor();\r\n   *     soundManager.setup({\r\n   *       url: '/swf/',\r\n   *       ...\r\n   *     });\r\n   *     ...\r\n   *     soundManager.beginDelayedInit();\r\n   *     return soundManager;\r\n   *   })\r\n   * });\r\n   */\r\n\r\n  define(function() {\r\n    /**\r\n     * Retrieve the global instance of SoundManager.\r\n     * If a global instance does not exist it can be created using a callback.\r\n     *\r\n     * @param {Function} smBuilder Optional: Callback used to create a new SoundManager instance\r\n     * @return {SoundManager} The global SoundManager instance\r\n     */\r\n    function getInstance(smBuilder) {\r\n      if (!window.soundManager && smBuilder instanceof Function) {\r\n        var instance = smBuilder(SoundManager);\r\n        if (instance instanceof SoundManager) {\r\n          window.soundManager = instance;\r\n        }\r\n      }\r\n      return window.soundManager;\r\n    }\r\n    return {\r\n      constructor: SoundManager,\r\n      getInstance: getInstance\r\n    };\r\n  });\r\n\r\n}\r\n\r\n// standard browser case\r\n\r\n// constructor\r\nwindow.SoundManager = SoundManager;\r\n\r\n/**\r\n * note: SM2 requires a window global due to Flash, which makes calls to window.soundManager.\r\n * Flash may not always be needed, but this is not known until async init and SM2 may even \"reboot\" into Flash mode.\r\n */\r\n\r\n// public API, flash callbacks etc.\r\nwindow.soundManager = soundManager;\r\n\r\n}(window));\r\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// @ts-check\r\n/** @typedef {import(\"./BookReader.js\").default} BookReader */\r\n\r\n/**\r\n * @template TOptions\r\n */\r\nexport class BookReaderPlugin {\r\n  /**\r\n   * @param {BookReader} br\r\n   */\r\n  constructor(br) {\r\n    /** @type {BookReader} */\r\n    this.br = br;\r\n    /** @type {TOptions} */\r\n    this.options;\r\n  }\r\n\r\n  /**\r\n   * @abstract\r\n   * @param {TOptions} options\r\n   **/\r\n  setup(options) {\r\n    this.options = Object.assign({}, this.options, options);\r\n  }\r\n\r\n  /** @abstract */\r\n  init() {}\r\n\r\n  /**\r\n   * @abstract\r\n   * @protected\r\n   * @param {import (\"./BookReader/PageContainer.js\").PageContainer} pageContainer\r\n   */\r\n  _configurePageContainer(pageContainer) {\r\n  }\r\n\r\n  /**\r\n   * @abstract\r\n   * @protected\r\n   * @param {JQuery<HTMLElement>} $toolbarElement\r\n   */\r\n  _configureToolbar($toolbarElement) {\r\n  }\r\n\r\n  /** @abstract @protected */\r\n  _bindNavigationHandlers() {}\r\n\r\n  /**\r\n   * @param {JQuery<HTMLElement>} $navBar\r\n   */\r\n  extendNavBar($navBar) {}\r\n}\r\n","import { applyVariables } from \"../../util/strings.js\";\r\n\r\n/**\r\n * Class to manage a 'chunk' (approximately a paragraph) of text on a page.\r\n */\r\nexport default class PageChunk {\r\n  /**\r\n   * @param {number} leafIndex\r\n   * @param {number} chunkIndex\r\n   * @param {string} text\r\n   * @param {DJVURect[]} lineRects\r\n   */\r\n  constructor(leafIndex, chunkIndex, text, lineRects) {\r\n    this.leafIndex = leafIndex;\r\n    this.chunkIndex = chunkIndex;\r\n    this.text = text;\r\n    this.lineRects = lineRects;\r\n  }\r\n\r\n  /**\r\n   * @param {import('@/src/util/strings.js').StringWithVars} pageChunkUrl\r\n   * @param {number} leafIndex\r\n   * @return {Promise<PageChunk[]>}\r\n   */\r\n  static async fetch(pageChunkUrl, leafIndex) {\r\n    if (window.br.plugins.translate?.translationManager.active) {\r\n      const translateLayers = await window.br.plugins.translate.getTranslateLayers(leafIndex);\r\n      const paragraphs = Array.from(translateLayers[0].childNodes);\r\n\r\n      const pageChunks = [];\r\n      for (const [idx, item] of paragraphs.entries()) {\r\n        // Should not read paragraphs w/ header or footer roles\r\n        if (!item.classList.contains('ocr-role-header-footer')) {\r\n          const translatedChunk = new PageChunk(leafIndex, idx, item.textContent, []);\r\n          pageChunks.push(translatedChunk);\r\n        }\r\n      }\r\n      if (pageChunks.length === 0) {\r\n        const placeholder = new PageChunk(leafIndex, 0, \"\", []);\r\n        pageChunks.push(placeholder);\r\n      }\r\n      return pageChunks;\r\n    } else {\r\n      const chunks = await $.ajax({\r\n        type: 'GET',\r\n        url: applyVariables(pageChunkUrl, { pageIndex: leafIndex }),\r\n        cache: true,\r\n        xhrFields: {\r\n          withCredentials: window.br.protected,\r\n        },\r\n      });\r\n      return PageChunk._fromTextWrapperResponse(leafIndex, chunks);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Convert the response from BookReaderGetTextWrapper.php into a {@link PageChunk} instance\r\n   * @param {number} leafIndex\r\n   * @param {Array<[String, ...DJVURect[]]>} chunksResponse\r\n   * @return {PageChunk[]}\r\n   */\r\n  static _fromTextWrapperResponse(leafIndex, chunksResponse) {\r\n    return chunksResponse.map((c, i) => {\r\n      const correctedLineRects = PageChunk._fixChunkRects(c.slice(1));\r\n      const correctedText = PageChunk._removeDanglingHyphens(c[0]);\r\n      return new PageChunk(leafIndex, i, correctedText, correctedLineRects);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Sometimes the first rectangle will be ridiculously wide/tall. Find those and fix them\r\n   * *NOTE*: Modifies the original array and returns it.\r\n   * *NOTE*: This should probably be fixed on the petabox side, and then removed here\r\n   * Has 2 problems:\r\n   *  - If the rect is the last rect on the page (and hence the only rect in the array),\r\n   *    the rect's size isn't fixed\r\n   * - Because this relies on the second rect, there's a chance it won't be the right\r\n   *   width\r\n   * @param {DJVURect[]} rects\r\n   * @return {DJVURect[]}\r\n   */\r\n  static _fixChunkRects(rects) {\r\n    if (rects.length < 2) return rects;\r\n\r\n    const [firstRect, secondRect] = rects;\r\n    const [left, bottom, right] = firstRect;\r\n    const width = right - left;\r\n    const secondHeight = secondRect[1] - secondRect[3];\r\n    const secondWidth = secondRect[2] - secondRect[0];\r\n    const secondRight = secondRect[2];\r\n\r\n    if (width > secondWidth * 30) {\r\n      // Set the end to be the same\r\n      firstRect[2] = secondRight;\r\n      // And the top to be the same height\r\n      firstRect[3] = bottom - secondHeight;\r\n    }\r\n\r\n    return rects;\r\n  }\r\n\r\n  /**\r\n   * Remove \"dangling\" hyphens from read aloud text to avoid TTS stuttering\r\n   * @param {string} text\r\n   * @return {string}\r\n   */\r\n  static _removeDanglingHyphens(text) {\r\n    // Some books mis-OCR a dangling hyphen as a  (mathematical not sign) . Since in math\r\n    // the not sign should not appear followed by a space, we think we can safely assume\r\n    // this should be replaced.\r\n    return text.replace(/[-]\\s+/g, '');\r\n  }\r\n}\r\n\r\n/**\r\n * @typedef {[number, number, number, number]} DJVURect\r\n * coords are in l,b,r,t order\r\n */\r\n","import PageChunk from './PageChunk.js';\r\n\r\n/**\r\n * Class that iterates over the page chunks of a book; caching/buffering\r\n * as much as possible to try to ensure a smooth experience.\r\n */\r\nexport default class PageChunkIterator {\r\n  /**\r\n   * @param {number} pageCount total number of pages\r\n   * @param {number} start page to start on\r\n   * @param {PageChunkIteratorOptions} opts\r\n   */\r\n  constructor(pageCount, start, opts) {\r\n    this.pageCount = pageCount;\r\n    this.opts = Object.assign({}, DEFAULT_OPTS, opts);\r\n    /** Position in the chunk sequence */\r\n    this._cursor = { page: start, chunk: 0 };\r\n    /** @type {Object<number, PageChunk[]>} leaf index -> chunks*/\r\n    this._bufferedPages = {};\r\n    /** @type {Object<number, PromiseLike<PageChunk[]>} leaf index -> chunks*/\r\n    this._bufferingPages = {};\r\n    /**\r\n     * @type {Promise} promise that manages cursor modifications so that they\r\n     * happen in order triggered as opposed to order the server responds\r\n     **/\r\n    this._cursorLock = Promise.resolve();\r\n  }\r\n\r\n  /**\r\n   * Get the next chunk\r\n   * @return {PromiseLike<\"__PageChunkIterator.AT_END__\" | PageChunk>}\r\n   */\r\n  next() {\r\n    return this._cursorLock = this._cursorLock\r\n      .then(() => this._nextUncontrolled());\r\n  }\r\n\r\n  /**\r\n   * Sends the cursor back 1\r\n   * @return {Promise}\r\n   **/\r\n  decrement() {\r\n    return this._cursorLock = this._cursorLock\r\n      .then(() => this._decrementUncontrolled());\r\n  }\r\n\r\n  /**\r\n   * Gets without ensuring synchronization. Since this iterator has a lot of async\r\n   * code, calling e.g. \"next\" twice (before the first call to next has finished)\r\n   * would cause the system to be in a weird state. To avoid that, we make sure calls\r\n   * to next and decrement (functions that modify the cursor) are synchronized,\r\n   * so that regardless how long it takes for one to respond, they'll always be executed\r\n   * in the correct order.\r\n   * @return {PromiseLike<\"__PageChunkIterator.AT_END__\" | PageChunk>}\r\n   */\r\n  async  _nextUncontrolled() {\r\n    if (this._cursor.page == this.pageCount) {\r\n      return Promise.resolve(PageChunkIterator.AT_END);\r\n    }\r\n    this._recenterBuffer(this._cursor.page);\r\n    const chunks = await this._fetchPageChunks(this._cursor.page);\r\n    if (this._cursor.chunk == chunks.length) {\r\n      this._cursor.page++;\r\n      this._cursor.chunk = 0;\r\n      return this._nextUncontrolled();\r\n    }\r\n    return chunks[this._cursor.chunk++];\r\n  }\r\n\r\n  /**\r\n   * Decrements without ensuring synchronization. (See {@link PageChunkIterator._nextUncontrolled});\r\n   * @return {Promise}\r\n   */\r\n  _decrementUncontrolled() {\r\n    let cursorChangePromise = Promise.resolve();\r\n\r\n    if (this._cursor.chunk > 0) {\r\n      this._cursor.chunk--;\r\n    } else if (this._cursor.page > 0) {\r\n      this._cursor.page--;\r\n      // Go back possibly multiple pages, because pages can be blank\r\n      cursorChangePromise = this._fetchPageChunks(this._cursor.page)\r\n        .then(prevPageChunks => {\r\n          if (prevPageChunks.length == 0) return this._decrementUncontrolled();\r\n          else this._cursor.chunk = prevPageChunks.length - 1;\r\n        });\r\n    }\r\n\r\n    return cursorChangePromise\r\n      .then(() => this._fetchPageChunks(this._cursor.page));\r\n  }\r\n\r\n  /**\r\n   * Recenter the buffer around the provided page index\r\n   * @param {number} index\r\n   */\r\n  _recenterBuffer(index) {\r\n    const start = Math.max(0, index - this.opts.pageBufferSize);\r\n    const end = Math.min(this.pageCount, index + this.opts.pageBufferSize + 1);\r\n    for (let i = start; i < end; i++) {\r\n      this._fetchPageChunks(i);\r\n    }\r\n\r\n    this._removePageFromBuffer(start - 1);\r\n    this._removePageFromBuffer(end + 1);\r\n  }\r\n\r\n  /**\r\n   * @param {number} index\r\n   */\r\n  _removePageFromBuffer(index) {\r\n    delete this._bufferingPages[index];\r\n    delete this._bufferedPages[index];\r\n  }\r\n\r\n  /**\r\n   * Fetches the chunks on a page; checks the buffer, so it won't make unnecessary\r\n   * requests if it's called multiple times for the same index.\r\n   * @param {number} index\r\n   * @return {Promise<PageChunk[]>}\r\n   */\r\n  _fetchPageChunks(index) {\r\n    if (index in this._bufferingPages) return this._bufferingPages[index];\r\n    if (index in this._bufferedPages) return Promise.resolve(this._bufferedPages[index]);\r\n\r\n    this._bufferingPages[index] = this._fetchPageChunksDirect(index)\r\n      .then(chunks => {\r\n        delete this._bufferingPages[index];\r\n        this._bufferedPages[index] = chunks;\r\n        return chunks;\r\n      });\r\n\r\n    return this._bufferingPages[index];\r\n  }\r\n\r\n  /**\r\n   * Fetches a page without checking buffer\r\n   * @param {number} index\r\n   */\r\n  _fetchPageChunksDirect(index) {\r\n    return PageChunk.fetch(this.opts.pageChunkUrl, index);\r\n  }\r\n}\r\n\r\nPageChunkIterator.AT_END = \"__PageChunkIterator.AT_END__\";\r\n\r\n/** @type {PageChunkIteratorOptions} */\r\nconst DEFAULT_OPTS = {\r\n  pageChunkUrl: null,\r\n  pageBufferSize: 2,\r\n};\r\n\r\n/**\r\n * @typedef {Object} PageChunkIteratorOptions\r\n * @property {import('@/src/util/strings.js').StringWithVars} pageChunkUrl\r\n * @property {number} [pageBufferSize] number of pages to buffer before/after the current page\r\n */\r\n","import PageChunkIterator from './PageChunkIterator.js';\r\nimport { hasLocalStorage } from './utils.js';\r\n/** @typedef {import('./utils.js').ISO6391} ISO6391 */\r\n/** @typedef {import('./PageChunk.js')} PageChunk */\r\n\r\n/**\r\n * @export\r\n * @typedef {Object} TTSEngineOptions\r\n * @property {import('@/src/util/strings.js').StringWithVars} pageChunkUrl\r\n * @property {ISO6391} bookLanguage\r\n * @property {Function} onLoadingStart\r\n * @property {Function} onLoadingComplete\r\n * @property {Function} onDone called when the entire book is done\r\n * @property {function(PageChunk): PromiseLike} beforeChunkPlay will delay the playing of the chunk\r\n * @property {function(PageChunk): void} afterChunkPlay fires once a chunk has fully finished\r\n */\r\n\r\n/**\r\n * @typedef {Object} AbstractTTSSound\r\n * @property {PageChunk} chunk\r\n * @property {boolean} loaded\r\n * @property {number} rate\r\n * @property {SpeechSynthesisVoice} voice\r\n * @property {(callback: Function) => void} load\r\n * @property {() => PromiseLike} play\r\n * @property {() => Promise} stop\r\n * @property {() => void} pause\r\n * @property {() => void} resume\r\n * @property {() => void} finish force the sound to 'finish'\r\n * @property {number => void} setPlaybackRate\r\n * @property {SpeechSynthesisVoice => void} setVoice\r\n **/\r\n\r\n/** Handling bookreader's text-to-speech */\r\nexport default class AbstractTTSEngine {\r\n  /**\r\n   * @protected\r\n   * @param {TTSEngineOptions} options\r\n   */\r\n  constructor(options) {\r\n    this.playing = false;\r\n    this.paused = false;\r\n    /** @type {TTSEngineOptions} */\r\n    this.opts = options;\r\n    /** @type {PageChunkIterator} */\r\n    this._chunkIterator = null;\r\n    /** @type {AbstractTTSSound} */\r\n    this.activeSound = null;\r\n    this.playbackRate = 1;\r\n    /** Events we can bind to */\r\n    this.events = $({});\r\n    /** @type {SpeechSynthesisVoice} */\r\n    this.voice = null;\r\n    // Listen for voice changes (fired by subclasses)\r\n    this.events.on('voiceschanged', this.updateBestVoice);\r\n    this.events.trigger('voiceschanged');\r\n  }\r\n\r\n  /**\r\n   * @abstract\r\n   * @return {boolean}\r\n   */\r\n  static isSupported() { throw new Error(\"Unimplemented abstract class\"); }\r\n\r\n  /**\r\n   * @abstract\r\n   * @return {SpeechSynthesisVoice[]}\r\n   */\r\n  getVoices() { throw new Error(\"Unimplemented abstract class\"); }\r\n\r\n  /** @abstract */\r\n  init() { return null; }\r\n\r\n  updateBestVoice = () => {\r\n    this.voice = AbstractTTSEngine.getBestBookVoice(this.getVoices(), this.opts.bookLanguage);\r\n  }\r\n\r\n  /**\r\n   * @param {number} leafIndex\r\n   * @param {number} numLeafs total number of leafs in the current book\r\n   */\r\n  start(leafIndex, numLeafs) {\r\n    this.playing = true;\r\n    this.paused = false;\r\n    this.opts.onLoadingStart();\r\n\r\n    this._chunkIterator = new PageChunkIterator(numLeafs, leafIndex, {\r\n      pageChunkUrl: this.opts.pageChunkUrl,\r\n      pageBufferSize: 3,\r\n    });\r\n    this.step();\r\n    this.events.trigger('start');\r\n  }\r\n\r\n  stop() {\r\n    if (this.activeSound) this.activeSound.stop();\r\n    this.playing = false;\r\n    this.paused = true;\r\n    this._chunkIterator = null;\r\n    this.activeSound = null;\r\n    this.events.trigger('stop');\r\n  }\r\n\r\n  /** @public */\r\n  pause() {\r\n    const fireEvent = !this.paused && this.activeSound;\r\n    this.paused = true;\r\n    if (this.activeSound) this.activeSound.pause();\r\n    if (fireEvent) this.events.trigger('pause');\r\n  }\r\n\r\n  /** @public */\r\n  resume() {\r\n    const fireEvent = this.paused && this.activeSound;\r\n    this.paused = false;\r\n    if (this.activeSound) this.activeSound.resume();\r\n    if (fireEvent) this.events.trigger('resume');\r\n  }\r\n\r\n  togglePlayPause() {\r\n    if (this.paused) this.resume();\r\n    else this.pause();\r\n  }\r\n\r\n  /** @public */\r\n  jumpForward() {\r\n    if (this.activeSound) this.activeSound.finish();\r\n  }\r\n\r\n  /** @public */\r\n  async jumpBackward() {\r\n    await Promise.all([\r\n      this.activeSound.stop(),\r\n      this._chunkIterator.decrement()\r\n        .then(() => this._chunkIterator.decrement()),\r\n    ]);\r\n    this.step();\r\n  }\r\n\r\n  /** @param {string} voiceURI */\r\n  setVoice(voiceURI) {\r\n    // if the user actively selects a voice, don't re-choose best voice anymore\r\n    // MS Edge fires voices changed randomly very often\r\n    this.events.off('voiceschanged', this.updateBestVoice);\r\n    this.voice = this.getVoices().find(voice => voice.voiceURI === voiceURI);\r\n    // if the current book has a language set, store the selected voice with the book language as a suffix\r\n    if (this.opts.bookLanguage && hasLocalStorage()) {\r\n      localStorage.setItem(`BRtts-voice-${this.opts.bookLanguage}`, this.voice.voiceURI);\r\n    }\r\n    if (this.activeSound) this.activeSound.setVoice(this.voice);\r\n  }\r\n\r\n  /** @param {number} newRate */\r\n  setPlaybackRate(newRate) {\r\n    this.playbackRate = newRate;\r\n    if (this.activeSound) this.activeSound.setPlaybackRate(newRate);\r\n  }\r\n\r\n  /** @private */\r\n  async step() {\r\n    const chunk = await  this._chunkIterator.next();\r\n    if (chunk == PageChunkIterator.AT_END) {\r\n      this.stop();\r\n      this.opts.onDone();\r\n      return;\r\n    }\r\n    this.opts.onLoadingStart();\r\n    const sound = this.createSound(chunk);\r\n    sound.chunk = chunk;\r\n    sound.rate = this.playbackRate;\r\n    sound.voice = this.voice;\r\n    sound.load(() => this.opts.onLoadingComplete());\r\n\r\n    this.opts.onLoadingComplete();\r\n\r\n    await this.opts.beforeChunkPlay(chunk);\r\n\r\n    if (!this.playing) return;\r\n\r\n    const playPromise = await this.playSound(sound)\r\n      .then(()=> this.opts.afterChunkPlay(sound.chunk));\r\n\r\n    if (this.paused) this.pause();\r\n    await playPromise;\r\n\r\n    if (this.playing) return this.step();\r\n  }\r\n\r\n  /**\r\n   * @abstract\r\n   * @param {PageChunk} chunk\r\n   * @return {AbstractTTSSound}\r\n   */\r\n  createSound(chunk) { throw new Error(\"Unimplemented abstract class\"); }\r\n\r\n  /**\r\n   * @param {AbstractTTSSound} sound\r\n   * @return {PromiseLike} promise called once playing finished\r\n   */\r\n  playSound(sound) {\r\n    this.activeSound = sound;\r\n    if (!this.activeSound.loaded) this.opts.onLoadingStart();\r\n    return this.activeSound.play();\r\n  }\r\n\r\n  /** Convenience wrapper for {@see AbstractTTSEngine.getBestVoice} */\r\n  getBestVoice(languageOverride) {\r\n    return AbstractTTSEngine.getBestBookVoice(this.getVoices(), languageOverride || this.opts.bookLanguage);\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Find the best voice to use given the available voices, the book language, and the user's\r\n   * languages.\r\n   * @param {SpeechSynthesisVoice[]} voices\r\n   * @param {ISO6391} bookLanguage\r\n   * @param {string[]} userLanguages languages in BCP47 format (e.g. en-US). Ordered by preference.\r\n   * @return {SpeechSynthesisVoice | undefined}\r\n   */\r\n  static getBestBookVoice(voices, bookLanguage, userLanguages = navigator.languages) {\r\n    const bookLangVoices = voices.filter(v => v.lang.startsWith(bookLanguage));\r\n    // navigator.languages browser support isn't great yet, so get just 1 language otherwise\r\n    // Sample navigator.languages: [\"en-CA\", \"fr-CA\", \"fr\", \"en-US\", \"en\", \"de-DE\", \"de\"]\r\n    userLanguages = userLanguages || (navigator.language ? [navigator.language] : []);\r\n\r\n    // user languages that match the book language\r\n    const matchingUserLangs = userLanguages.filter(lang => lang.startsWith(bookLanguage));\r\n\r\n    // First try to find the last chosen voice from localStorage for the current book language\r\n    return AbstractTTSEngine.getMatchingStoredVoice(bookLangVoices, bookLanguage)\r\n        // Try to find voices that intersect these two sets\r\n        || AbstractTTSEngine.getMatchingVoice(matchingUserLangs, bookLangVoices)\r\n        // no user languages match the books; let's return the best voice for the book language\r\n        || (bookLangVoices.find(v => v.default) || bookLangVoices[0])\r\n        // No voices match the book language? let's find a voice in the user's language\r\n        // and ignore book lang\r\n        || AbstractTTSEngine.getMatchingVoice(userLanguages, voices)\r\n        // C'mon! Ok, just read with whatever we got!\r\n        || (voices.find(v => v.default) || voices[0]);\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Get the voice last selected by the user for the book language from localStorage.\r\n   * Returns undefined if no voice is stored or found.\r\n   * @param {SpeechSynthesisVoice[]} voices  browser voices to choose from\r\n   * @param {ISO6391} bookLanguage  book language to look for\r\n   * @return {SpeechSynthesisVoice | undefined}\r\n   */\r\n  static getMatchingStoredVoice(voices, bookLanguage) {\r\n    const storedVoice = hasLocalStorage() && localStorage.getItem(`BRtts-voice-${bookLanguage}`);\r\n    return (storedVoice ? voices.find(v => v.voiceURI === storedVoice) : undefined);\r\n  }\r\n\r\n  /**\r\n     * @private\r\n     * Get the best voice that matches one of the BCP47 languages (order by preference)\r\n     * @param {string[]} languages in BCP 47 format (e.g. 'en-US', or 'en'); ordered by preference\r\n     * @param {SpeechSynthesisVoice[]} voices voices to choose from\r\n     * @return {SpeechSynthesisVoice | undefined}\r\n     */\r\n  static getMatchingVoice(languages, voices) {\r\n    for (const lang of languages) {\r\n      // Chrome Android was returning voice languages like `en_US` instead of `en-US`\r\n      const matchingVoices = voices.filter(v => v.lang.replace('_', '-').startsWith(lang));\r\n      if (matchingVoices.length) {\r\n        return matchingVoices.find(v => v.default) || matchingVoices[0];\r\n      }\r\n    }\r\n  }\r\n}\r\n","import AbstractTTSEngine from './AbstractTTSEngine.js';\r\nimport { sleep } from '../../BookReader/utils.js';\r\nimport { applyVariables } from '../../util/strings.js';\r\n/* global soundManager */\r\nimport 'soundmanager2';\r\nimport 'jquery.browser';\r\n\r\n/** @typedef {import(\"./AbstractTTSEngine.js\").TTSEngineOptions} TTSEngineOptions */\r\n/** @typedef {import(\"./AbstractTTSEngine.js\").AbstractTTSSound} AbstractTTSSound */\r\n\r\n/**\r\n * @extends AbstractTTSEngine\r\n * TTS using Festival endpoint\r\n **/\r\nexport default class FestivalTTSEngine extends AbstractTTSEngine {\r\n  /** @override */\r\n  static isSupported() {\r\n    return typeof(soundManager) !== 'undefined' && soundManager.supported();\r\n  }\r\n\r\n  /** @param {TTSEngineOptions | { festivalUrl: import('@/src/util/strings.js').StringWithVars }} options */\r\n  constructor(options) {\r\n    super(options);\r\n    // $.browsers is sometimes undefined on some Android browsers :/\r\n    // Likely related to when $.browser was moved to npm\r\n    /** @type {'mp3' | 'ogg'} format of audio to get */\r\n    this.audioFormat = $.browser?.mozilla ? 'ogg' : 'mp3'; //eslint-disable-line no-jquery/no-browser\r\n    /** @type {import('@/src/util/strings.js').StringWithVars} */\r\n    this.festivalUrl = options.festivalUrl;\r\n  }\r\n\r\n  /** @override */\r\n  getVoices() {\r\n    return [\r\n      { default: true, lang: \"en-US\", localService: false, name: \"Festival - English (US)\", voiceURI: null },\r\n    ];\r\n  }\r\n\r\n  /** @override */\r\n  init() {\r\n    // setup sound manager\r\n    soundManager.setup({\r\n      debugMode: false,\r\n      // Note, there's a bug in Chrome regarding range requests.\r\n      // Flash is used as a workaround.\r\n      // See https://bugs.chromium.org/p/chromium/issues/detail?id=505707\r\n      preferFlash: true,\r\n      url: '/bookreader/BookReader/soundmanager/swf',\r\n      useHTML5Audio: true,\r\n      //flash 8 version of swf is buggy when calling play() on a sound that is still loading\r\n      flashVersion: 9,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   * @param {number} leafIndex\r\n   * @param {number} numLeafs total number of leafs in the current book\r\n   */\r\n  start(leafIndex, numLeafs) {\r\n    let promise = null;\r\n\r\n    // Hack for iOS\r\n    if (navigator.userAgent.match(/mobile/i)) {\r\n      promise = this.iOSCaptureUserIntentHack();\r\n    }\r\n\r\n    promise = promise || Promise.resolve();\r\n    promise.then(() => super.start(leafIndex, numLeafs));\r\n  }\r\n\r\n  /** @override */\r\n  createSound(chunk) {\r\n    return new FestivalTTSSound(applyVariables(this.festivalUrl, { text: chunk.text, format: this.audioFormat }));\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Security restrictions require playback to be triggered\r\n   * by a user click/touch. This intention gets lost in the async calls\r\n   * on iOS, but, for some reason, if we start the audio here, it works.\r\n   * See https://stackoverflow.com/questions/12206631/html5-audio-cant-play-through-javascript-unless-triggered-manually-once\r\n   * @return {PromiseLike}\r\n   */\r\n  async iOSCaptureUserIntentHack() {\r\n    const sound = soundManager.createSound({ url: SILENCE_1MS[this.audioFormat] });\r\n    await new Promise(res => sound.play({onfinish: res}));\r\n    sound.destruct();\r\n  }\r\n}\r\n\r\n/** @extends AbstractTTSSound */\r\nclass FestivalTTSSound {\r\n  /** @param {string} soundUrl **/\r\n  constructor(soundUrl) {\r\n    this.soundUrl = soundUrl;\r\n    /** @type {SMSound} */\r\n    this.sound = null;\r\n    this.rate = 1;\r\n    /** @type {function} calling this resolves the \"play\" promise */\r\n    this._finishResolver = null;\r\n  }\r\n\r\n  get loaded() {\r\n    return this.sound && this.sound.loaded;\r\n  }\r\n\r\n  load(onload) {\r\n    this.sound = soundManager.createSound({\r\n      url: this.soundUrl,\r\n      // API recommended, but only fires once play started on safari\r\n      onload: () => {\r\n        if (this.rate != 1) this.sound.setPlaybackRate(this.rate);\r\n        onload();\r\n      },\r\n      onresume: async () => {\r\n        await sleep(25);\r\n        if (this.rate != 1) this.sound.setPlaybackRate(this.rate);\r\n      },\r\n    });\r\n    return this.sound.load();\r\n  }\r\n\r\n  async play() {\r\n    await new Promise(res => {\r\n      this._finishResolver = res;\r\n      this.sound.play({ onfinish: res });\r\n    });\r\n    this.sound.destruct();\r\n  }\r\n\r\n  /** @override */\r\n  stop() {\r\n    this.sound.stop();\r\n    return Promise.resolve();\r\n  }\r\n\r\n  /** @override */\r\n  pause() { this.sound.pause(); }\r\n  /** @override */\r\n  resume() { this.sound.resume(); }\r\n  /** @override */\r\n  setPlaybackRate(rate) {\r\n    this.rate = rate;\r\n    this.sound.setPlaybackRate(rate);\r\n  }\r\n\r\n  /** @override */\r\n  finish() {\r\n    this.sound.stop();\r\n    this._finishResolver();\r\n  }\r\n}\r\n\r\n/** Needed to capture the audio context for iOS hack. Generated using Audacity. */\r\nconst SILENCE_1MS = {\r\n  mp3: 'data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==',\r\n  ogg: 'data:audio/ogg;base64,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',\r\n};\r\n","/* global br */\r\nimport { isChrome, isFirefox } from '../../util/browserSniffing.js';\r\nimport { isAndroid, DEBUG_READ_ALOUD } from './utils.js';\r\nimport { promisifyEvent, sleep } from '../../BookReader/utils.js';\r\nimport AbstractTTSEngine from './AbstractTTSEngine.js';\r\n/** @typedef {import(\"./AbstractTTSEngine.js\").PageChunk} PageChunk */\r\n/** @typedef {import(\"./AbstractTTSEngine.js\").AbstractTTSSound} AbstractTTSSound */\r\n/** @typedef {import(\"./AbstractTTSEngine.js\").TTSEngineOptions} TTSEngineOptions */\r\n\r\n/**\r\n * @extends AbstractTTSEngine\r\n * TTS using Web Speech APIs\r\n **/\r\nexport default class WebTTSEngine extends AbstractTTSEngine {\r\n  static isSupported() {\r\n    return typeof(window.speechSynthesis) !== 'undefined';\r\n  }\r\n\r\n  /** @param {TTSEngineOptions} options */\r\n  constructor(options) {\r\n    super(options);\r\n\r\n    // SAFARI doesn't have addEventListener on speechSynthesis\r\n    if (speechSynthesis.addEventListener) {\r\n      speechSynthesis.addEventListener('voiceschanged', () => this.events.trigger('voiceschanged'));\r\n    }\r\n  }\r\n\r\n  /** @override */\r\n  start(leafIndex, numLeafs) {\r\n    // Need to run in this function to capture user intent to start playing audio\r\n    if ('mediaSession' in navigator) {\r\n      /**\r\n       * According to https://developers.google.com/web/updates/2017/02/media-session#implementation_notes , it needs to be at least 5 seconds\r\n       * long to allow usage of the media sessions api\r\n       */\r\n      const audio = new Audio(br.options.imagesBaseURL + '../silence.mp3');\r\n      audio.loop = true;\r\n\r\n      this.events.on('pause', () => audio.pause());\r\n      this.events.on('resume', () => audio.play());\r\n      // apparently this is what you need to do to make the media session notification go away\r\n      // See https://developers.google.com/web/updates/2017/02/media-session#implementation_notes\r\n      this.events.on('stop', () => audio.src = '');\r\n      audio.play().then(() => {\r\n        navigator.mediaSession.metadata = new MediaMetadata({\r\n          title: br.bookTitle,\r\n          artist: br.options.metadata.filter(m => m.label == 'Author').map(m => m.value)[0],\r\n          // album: 'The Ultimate Collection (Remastered)',\r\n          artwork: [\r\n            { src: br.options.thumbnail, type: 'image/jpg' },\r\n          ],\r\n        });\r\n\r\n        navigator.mediaSession.setPositionState({\r\n          duration: Infinity,\r\n        });\r\n\r\n        navigator.mediaSession.setActionHandler('play', () => {\r\n          audio.play();\r\n          this.resume();\r\n        });\r\n        navigator.mediaSession.setActionHandler('pause', () => {\r\n          audio.pause();\r\n          this.pause();\r\n        });\r\n\r\n        // navigator.mediaSession.setActionHandler('seekbackward', () => this.jumpBackward());\r\n        // navigator.mediaSession.setActionHandler('seekforward', () => this.jumpForward());\r\n        // Some devices only support the previoustrack/nexttrack (e.g. Win10), so show those.\r\n        // Android devices do support the seek actions, but we don't want to show both buttons\r\n        // and have them do the same thing.\r\n        navigator.mediaSession.setActionHandler('previoustrack', () => this.jumpBackward());\r\n        navigator.mediaSession.setActionHandler('nexttrack', () => this.jumpForward());\r\n      });\r\n    }\r\n\r\n    return super.start(leafIndex, numLeafs);\r\n  }\r\n\r\n  /** @override */\r\n  getVoices() {\r\n    const voices = speechSynthesis.getVoices();\r\n    if (voices.filter(v => v.default).length != 1) {\r\n      // iOS bug where the default system voice is sometimes\r\n      // missing from the list\r\n      voices.unshift({\r\n        voiceURI: 'bookreader.SystemDefault',\r\n        name: 'System Default',\r\n        // Not necessarily true, but very likely\r\n        lang: navigator.language,\r\n        default: true,\r\n        localService: true,\r\n      });\r\n    }\r\n    return voices;\r\n  }\r\n\r\n  /** @override */\r\n  createSound(chunk) {\r\n    return new WebTTSSound(chunk.text);\r\n  }\r\n}\r\n\r\n/** @extends AbstractTTSSound */\r\nexport class WebTTSSound {\r\n  /** @param {string} text **/\r\n  constructor(text) {\r\n    this.text = text;\r\n    this.loaded = false;\r\n    this.paused = false;\r\n    this.started = false;\r\n    /** Whether the audio was stopped with a .stop() call */\r\n    this.stopped = false;\r\n    this.rate = 1;\r\n\r\n    /** @type {SpeechSynthesisUtterance} */\r\n    this.utterance = null;\r\n\r\n    /** @type {SpeechSynthesisVoice} */\r\n    this.voice = null;\r\n\r\n    this._lastEvents = {\r\n      /** @type {SpeechSynthesisEvent} */\r\n      pause: null,\r\n      /** @type {SpeechSynthesisEvent} */\r\n      boundary: null,\r\n      /** @type {SpeechSynthesisEvent} */\r\n      start: null,\r\n    };\r\n\r\n    /** Store where we are in the text. Only works on some browsers. */\r\n    this._charIndex = 0;\r\n\r\n    /** @type {Function} resolve function called when playback finished */\r\n    this._finishResolver = null;\r\n\r\n    /** @type {Promise} promise resolved by _finishResolver */\r\n    this._finishPromise = null;\r\n  }\r\n\r\n  /** @override **/\r\n  load(onload) {\r\n    this.loaded = false;\r\n    this.started = false;\r\n\r\n    this.utterance = new SpeechSynthesisUtterance(this.text.slice(this._charIndex));\r\n    // iOS bug where the default system voice is sometimes\r\n    // missing from the list\r\n    if (this.voice?.voiceURI !== 'bookreader.SystemDefault') {\r\n      this.utterance.voice = this.voice;\r\n    }\r\n    // Need to also set lang (for some reason); won't set voice on Chrome@Android otherwise\r\n    if (this.voice) this.utterance.lang = this.voice.lang;\r\n    this.utterance.rate = this.rate;\r\n\r\n    // Useful for debugging things\r\n    if (DEBUG_READ_ALOUD) {\r\n      this.utterance.addEventListener('pause', () => console.log('pause'));\r\n      this.utterance.addEventListener('resume', () => console.log('resume'));\r\n      this.utterance.addEventListener('start', () => console.log('start'));\r\n      this.utterance.addEventListener('end', () => console.log('end'));\r\n      this.utterance.addEventListener('error', ev => console.log('error', ev));\r\n      this.utterance.addEventListener('boundary', () => console.log('boundary'));\r\n      this.utterance.addEventListener('mark', () => console.log('mark'));\r\n      this.utterance.addEventListener('finish', () => console.log('finish'));\r\n    }\r\n\r\n    // Keep track of the speech synthesis events that come in; they have useful info\r\n    // about progress (like charIndex)\r\n    this.utterance.addEventListener('start', ev => this._lastEvents.start = ev);\r\n    this.utterance.addEventListener('boundary', ev => this._lastEvents.boundary = ev);\r\n    this.utterance.addEventListener('pause', ev => this._lastEvents.pause = ev);\r\n\r\n    // Update our state\r\n    this.utterance.addEventListener('start', () => {\r\n      this.started = true;\r\n      this.stopped = false;\r\n      this.paused = false;\r\n    });\r\n    this.utterance.addEventListener('pause', () => this.paused = true);\r\n    this.utterance.addEventListener('resume', () => this.paused = false);\r\n    this.utterance.addEventListener('end', ev => {\r\n      if (!this.paused && !this.stopped) {\r\n        // Trigger a new event, finish, which only fires when audio fully completed\r\n        this.utterance.dispatchEvent(new CustomEvent('finish', ev));\r\n      }\r\n    });\r\n    this.loaded = true;\r\n    onload && onload();\r\n  }\r\n\r\n  /**\r\n   * Run whenever properties have changed. Tries to restart in the same spot it\r\n   * left off.\r\n   * @return {Promise<void>}\r\n   */\r\n  async reload() {\r\n    // We'll restore the pause state, so copy it here\r\n    const wasPaused = this.paused;\r\n    // Use recent event to determine where we'll restart from\r\n    // Browser support for this is mixed, but it degrades to restarting the chunk\r\n    // and that's ok\r\n    const recentEvent = this._lastEvents.boundary || this._lastEvents.pause;\r\n    if (recentEvent) {\r\n      this._charIndex = this.text.indexOf(recentEvent.target.text) + recentEvent.charIndex;\r\n    }\r\n\r\n    // We can't modify the utterance object, so we have to make a new one\r\n    await this.stop();\r\n    this.load();\r\n    // Instead of playing and immediately pausing, we don't start playing. Note\r\n    // this is a requirement because pause doesn't work consistently across\r\n    // browsers.\r\n    if (!wasPaused) this.play();\r\n  }\r\n\r\n  play() {\r\n    this._finishPromise = this._finishPromise || new Promise(res => this._finishResolver = res);\r\n    this.utterance.addEventListener('finish', this._finishResolver);\r\n\r\n    // clear the queue\r\n    speechSynthesis.cancel();\r\n    // reset pause state\r\n    speechSynthesis.resume();\r\n    // Speak\r\n    speechSynthesis.speak(this.utterance);\r\n\r\n    const isLocalVoice = this.utterance.voice && this.utterance.voice.localService;\r\n    if (isChrome() && !isLocalVoice) this._chromePausingBugFix();\r\n\r\n    return this._finishPromise;\r\n  }\r\n\r\n  /** @return {Promise} */\r\n  stop() {\r\n    // 'end' won't fire if already stopped\r\n    let endPromise = Promise.resolve();\r\n    if (!this.stopped) {\r\n      endPromise = Promise.race([\r\n        promisifyEvent(this.utterance, 'end'),\r\n        // Safari triggers an error when you call cancel mid-sound\r\n        promisifyEvent(this.utterance, 'error'),\r\n      ]);\r\n    }\r\n    this.stopped = true;\r\n    speechSynthesis.cancel();\r\n    return endPromise;\r\n  }\r\n\r\n  async finish() {\r\n    await this.stop();\r\n    this.utterance.dispatchEvent(new Event('finish'));\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   * Will fire a pause event unless already paused\r\n   **/\r\n  async pause() {\r\n    if (this.paused) return;\r\n\r\n    const pausePromise = promisifyEvent(this.utterance, 'pause');\r\n    speechSynthesis.pause();\r\n\r\n    // There are a few awful browser cases:\r\n    // 1. Pause works and fires\r\n    // 2. Pause doesn't work and doesn't fire\r\n    // 3. Pause works but doesn't fire\r\n    const pauseMightNotWork = (isFirefox() && isAndroid());\r\n\r\n    // Pause sometimes works, but doesn't fire the event, so wait to see if it fires\r\n    const winner = await Promise.race([pausePromise, sleep(100).then(() => 'timeout')]);\r\n\r\n    // We got our pause event; nothing to do!\r\n    if (winner != 'timeout') return;\r\n\r\n    if (DEBUG_READ_ALOUD) {\r\n      console.log('TTS: Firing pause event manually');\r\n    }\r\n\r\n    this.utterance.dispatchEvent(new CustomEvent('pause', this._lastEvents.start));\r\n\r\n    // if pause might not work, then we'll stop entirely and restart later\r\n    if (pauseMightNotWork) this.stop();\r\n  }\r\n\r\n  async resume() {\r\n    if (!this.started || this.stopped) {\r\n      this.play();\r\n      return;\r\n    }\r\n\r\n    if (!this.paused) return;\r\n\r\n    // Browser cases:\r\n    // 1. Resume works + fires\r\n    // 2. Resume works + doesn't fire (Chrome Desktop)\r\n    // 3. Resume doesn't work + doesn't fire (Chrome/FF Android)\r\n    const resumeMightNotWork = (isChrome() && isAndroid()) || (isFirefox() && isAndroid());\r\n\r\n    // Try resume\r\n    const resumePromise = promisifyEvent(this.utterance, 'resume');\r\n    speechSynthesis.resume();\r\n\r\n    const winner = await Promise.race([resumePromise, sleep(100).then(() => 'timeout')]);\r\n    // We got resume! All is good\r\n    if (winner != 'timeout') return;\r\n\r\n    if (DEBUG_READ_ALOUD) {\r\n      console.log('TTS: Firing resume event manually');\r\n    }\r\n\r\n    // Fake it\r\n    this.utterance.dispatchEvent(new CustomEvent('resume', {}));\r\n    if (resumeMightNotWork) {\r\n      await this.reload();\r\n      this.play();\r\n    }\r\n  }\r\n\r\n  setPlaybackRate(rate) {\r\n    this.rate = rate;\r\n    this.reload();\r\n  }\r\n\r\n  /** @param {SpeechSynthesisVoice} voice */\r\n  setVoice(voice) {\r\n    this.voice = voice;\r\n    this.reload();\r\n  }\r\n  /**\r\n   * @private\r\n   * Chrome has a bug where it only plays 15 seconds of TTS and then\r\n   * suddenly stops (see https://bugs.chromium.org/p/chromium/issues/detail?id=679437 )\r\n   * We avoid this (as described here: https://bugs.chromium.org/p/chromium/issues/detail?id=679437#c15 )\r\n   * by pausing after 14 seconds and ~instantly resuming.\r\n   */\r\n  async _chromePausingBugFix() {\r\n    if (DEBUG_READ_ALOUD) {\r\n      console.log('CHROME-PAUSE-HACK: starting');\r\n    }\r\n\r\n    const result = await Promise.race([\r\n      sleep(14000).then(() => 'timeout'),\r\n      promisifyEvent(this.utterance, 'pause').then(() => 'pause'),\r\n      promisifyEvent(this.utterance, 'end').then(() => 'end'),\r\n      // Some browsers (Edge) trigger error when the utterance is interrupted/stopped\r\n      promisifyEvent(this.utterance, 'error').then(() => 'error'),\r\n    ]);\r\n\r\n    if (DEBUG_READ_ALOUD) {\r\n      console.log(`CHROME-PAUSE-HACK: ${result}`);\r\n    }\r\n    if (result == 'end' || result == 'error') {\r\n      // audio was stopped/finished; nothing to do\r\n      if (DEBUG_READ_ALOUD) {\r\n        console.log('CHROME-PAUSE-HACK: stopped (end/error)');\r\n      }\r\n    } else if (result == 'pause') {\r\n      // audio was paused; wait for resume\r\n      // Chrome won't let you resume the audio if 14s have passed \r\n      // We could do the same as before (but resume+pause instead of pause+resume),\r\n      // but that means we'd _constantly_ be running in the background. So in that\r\n      // case, let's just restart the chunk\r\n      const result2 = await Promise.race([\r\n        promisifyEvent(this.utterance, 'resume').then(() => 'resume'),\r\n        sleep(14000).then(() => 'timeout'),\r\n      ]);\r\n      if (result2 == 'timeout') {\r\n        if (DEBUG_READ_ALOUD) {\r\n          console.log('CHROME-PAUSE-HACK: stopped (timed out while paused)');\r\n        }\r\n        // We hit Chrome's secret cut off time while paused, and\r\n        // won't be able to resume normally, so trigger a stop.\r\n        this.stop();\r\n      } else {\r\n        // The user resumed before the cut off! Continue as normal\r\n        this._chromePausingBugFix();\r\n      }\r\n    } else if (result == 'timeout') {\r\n      // We hit Chrome's secret cut off time while playing.\r\n      // To be able to keep TTS-ing, quickly pause/resume.\r\n      speechSynthesis.pause();\r\n      await sleep(25);\r\n      speechSynthesis.resume();\r\n\r\n      // Listen for more\r\n      this._chromePausingBugFix();\r\n    }\r\n  }\r\n}\r\n","export const en = {\r\n  advance: 'Advance 10 seconds',\r\n  play: 'Play',\r\n  playbackSpeed: 'Playback speed',\r\n  readAloud: 'Read this book aloud',\r\n  review: 'Review 10 seconds',\r\n};\r\n\r\nexport const es = {\r\n  advance: 'Avance 10 segundos',\r\n  play: 'Jugar',\r\n  playbackSpeed: 'Velocidad de reproduccin',\r\n  readAloud: 'Lee este libro en voz alta',\r\n  review: 'Revisar 10 segundos',\r\n};\r\n","// @ts-check\r\n\r\nimport FestivalTTSEngine from './FestivalTTSEngine.js';\r\nimport WebTTSEngine from './WebTTSEngine.js';\r\nimport { toISO6391, approximateWordCount } from './utils.js';\r\nimport { en as tooltips } from './tooltip_dict.js';\r\nimport { renderBoxesInPageContainerLayer } from '../../BookReader/PageContainer.js';\r\nimport { BookReaderPlugin } from '../../BookReaderPlugin.js';\r\nimport { applyVariables } from '../../util/strings.js';\r\n/** @typedef {import('./PageChunk.js').default} PageChunk */\r\n/** @typedef {import(\"./AbstractTTSEngine.js\").default} AbstractTTSEngine */\r\n\r\nconst BookReader = /** @type {typeof import('../../BookReader').default} */(window.BookReader);\r\n\r\n/**\r\n * Plugin for Text to Speech in BookReader\r\n */\r\nexport class TtsPlugin extends BookReaderPlugin {\r\n  options = {\r\n    enabled: true,\r\n    /**\r\n     * @type {import('@/src/util/strings.js').StringWithVars}\r\n     * The URL where to get PageChunk objects for a given page. Expects a var `pageIndex`\r\n     **/\r\n    pageChunkUrl: 'https://{{server}}/BookReader/BookReaderGetTextWrapper.php?path={{bookPath|urlencode}}_djvu.xml&page={{pageIndex}}&callback=false',\r\n    /**\r\n     * @type {import('@/src/util/strings.js').StringWithVars}\r\n     * The URL for converting text to audio if the web SpeechSynthesis API is not supported.\r\n     * Provided variables:\r\n     *  - `text` -- the text to convert to audio\r\n     *  - `format` -- the format of the audio, 'mp3' or 'ogg';\r\n     */\r\n    remoteTtsUrl: 'https://{{server}}/BookReader/BookReaderGetTTS.php?string={{text|urlencode}}&format={{format}}',\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   * @param {Partial<TtsPlugin['options']>} options\r\n   **/\r\n  setup(options) {\r\n    super.setup(Object.assign({\r\n      // @deprecated support options specified in global options\r\n      server: this.br.options.server,\r\n      bookPath: this.br.options.bookPath,\r\n    }, options));\r\n\r\n    if (!this.options.enabled) return;\r\n\r\n    /** @type { {[pageIndex: number]: Array<{ l: number, r: number, t: number, b: number }>} } */\r\n    this._ttsBoxesByIndex = {};\r\n\r\n    let TTSEngine = WebTTSEngine.isSupported() ? WebTTSEngine :\r\n      FestivalTTSEngine.isSupported() ? FestivalTTSEngine :\r\n        null;\r\n\r\n    if (/_forceTTSEngine=(festival|web)/.test(location.toString())) {\r\n      const engineName = location.toString().match(/_forceTTSEngine=(festival|web)/)[1];\r\n      TTSEngine = { festival: FestivalTTSEngine, web: WebTTSEngine }[engineName];\r\n    }\r\n\r\n    if (TTSEngine) {\r\n      /** @type {AbstractTTSEngine} */\r\n      this.ttsEngine = new TTSEngine({\r\n        pageChunkUrl: applyVariables(this.options.pageChunkUrl, this.br.options.vars),\r\n        bookLanguage: toISO6391(this.br.options.bookLanguage),\r\n        onLoadingStart: this.br.showProgressPopup.bind(this.br, 'Loading audio...'),\r\n        onLoadingComplete: this.br.removeProgressPopup.bind(this.br),\r\n        onDone: this.stop.bind(this),\r\n        beforeChunkPlay: this.beforeChunkPlay.bind(this),\r\n        afterChunkPlay: this.sendChunkFinishedAnalyticsEvent.bind(this),\r\n        ...(TTSEngine === FestivalTTSEngine ? {\r\n          festivalUrl: applyVariables(this.options.remoteTtsUrl, this.br.options.vars),\r\n        } : {}),\r\n      });\r\n    }\r\n  }\r\n\r\n  /** @override */\r\n  init() {\r\n    if (!this.options.enabled) return;\r\n\r\n    this.br.bind(BookReader.eventNames.PostInit, () => {\r\n      this.br.$('.BRicon.read').click(() => {\r\n        this.toggle();\r\n        return false;\r\n      });\r\n      if (this.ttsEngine) {\r\n        this.ttsEngine.init();\r\n        if (/[?&]_autoReadAloud=show/.test(location.toString())) {\r\n          this.start(false); // false flag is to initiate read aloud controls\r\n        }\r\n      }\r\n    });\r\n\r\n    // This is fired when the hash changes by one of the other plugins!\r\n    // i.e. it will fire every time the page changes -_-\r\n    // this.br.bind(BookReader.eventNames.stop, function(e, br) {\r\n    //     this.ttsStop();\r\n    // }.bind(this));\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   * @param {import (\"@/src/BookReader/PageContainer.js\").PageContainer} pageContainer\r\n   */\r\n  _configurePageContainer(pageContainer) {\r\n    if (this.options.enabled && pageContainer.page && pageContainer.page.index in this._ttsBoxesByIndex) {\r\n      const pageIndex = pageContainer.page.index;\r\n      renderBoxesInPageContainerLayer('ttsHiliteLayer', this._ttsBoxesByIndex[pageIndex], pageContainer.page, pageContainer.$container[0]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   * @param {JQuery<HTMLElement>} $navBar\r\n   */\r\n  extendNavBar($navBar) {\r\n    if (!this.options.enabled || !this.ttsEngine) return;\r\n\r\n    this.br.refs.$BRReadAloudToolbar = $(`\r\n      <ul class=\"read-aloud\">\r\n        <li>\r\n          <select class=\"playback-speed\" name=\"playback-speed\" title=\"${tooltips.playbackSpeed}\">\r\n            <option value=\"0.25\">0.25x</option>\r\n            <option value=\"0.5\">0.5x</option>\r\n            <option value=\"0.75\">0.75x</option>\r\n            <option value=\"1.0\" selected>1.0x</option>\r\n            <option value=\"1.25\">1.25x</option>\r\n            <option value=\"1.5\">1.5x</option>\r\n            <option value=\"1.75\">1.75x</option>\r\n            <option value=\"2\">2x</option>\r\n          </select>\r\n        </li>\r\n        <li>\r\n          <button type=\"button\" name=\"review\" title=\"${tooltips.review}\">\r\n            <div class=\"icon icon-review\"></div>\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <button type=\"button\" name=\"play\" title=\"${tooltips.play}\">\r\n            <div class=\"icon icon-play\"></div>\r\n            <div class=\"icon icon-pause\"></div>\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <button type=\"button\" name=\"advance\" title=\"${tooltips.advance}\">\r\n            <div class=\"icon icon-advance\"></div>\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <select class=\"playback-voices\" name=\"playback-voice\" style=\"display: none\" title=\"Change read aloud voices\">\r\n          </select>\r\n        </li>\r\n      </ul>\r\n    `);\r\n\r\n    $navBar.find('.BRcontrols').prepend(this.br.refs.$BRReadAloudToolbar);\r\n\r\n    const renderVoiceOption = (voices) => {\r\n      return voices.map(voice =>\r\n        `<option value=\"${voice.voiceURI}\">${voice.lang} - ${voice.name}</option>`).join('');\r\n    };\r\n\r\n    const voiceSortOrder = (a,b) => `${a.lang} - ${a.name}`.localeCompare(`${b.lang} - ${b.name}`);\r\n\r\n    const renderVoicesMenu = (voicesMenu) => {\r\n      voicesMenu.empty();\r\n      let bookLanguage = this.ttsEngine.opts.bookLanguage;\r\n      if (this.br.plugins.translate?.translationManager?.active) {\r\n        bookLanguage = this.br.plugins.translate.langFromCode;\r\n      }\r\n\r\n      const bookLanguages = this.ttsEngine.getVoices().filter(v => v.lang.startsWith(bookLanguage)).sort(voiceSortOrder);\r\n      const otherLanguages = this.ttsEngine.getVoices().filter(v => !v.lang.startsWith(bookLanguage)).sort(voiceSortOrder);\r\n\r\n      if (this.ttsEngine.getVoices().length > 1) {\r\n        if (this.br.plugins.translate?.translationManager?.active) {\r\n          // Separate out Other Languages when translation active, not sure if too much / unwieldy\r\n          const toLang = this.br.plugins.translate.langToCode;\r\n          const translatedLanguages = this.ttsEngine.getVoices().filter(v => v.lang.startsWith(toLang)).sort(voiceSortOrder);\r\n          voicesMenu.append($(`<optgroup label=\"Book Language, Translated From (${bookLanguage})\"> ${renderVoiceOption(bookLanguages)} </optgroup>`));\r\n          voicesMenu.append($(`<optgroup label=\"Book Language, Translated To (${toLang})\"> ${renderVoiceOption(translatedLanguages)} </optgroup>`));\r\n          voicesMenu.append($(`<optgroup label=\"Other Languages\"> ${renderVoiceOption(otherLanguages.filter(v => !v.lang.startsWith(toLang)).sort(voiceSortOrder))}`));\r\n        } else {\r\n          voicesMenu.append($(`<optgroup label=\"Book Language (${bookLanguage})\"> ${renderVoiceOption(bookLanguages)} </optgroup>`));\r\n          voicesMenu.append($(`<optgroup label=\"Other Languages\"> ${renderVoiceOption(otherLanguages)} </optgroup>`));\r\n        }\r\n\r\n        voicesMenu.val(this.ttsEngine.voice.voiceURI);\r\n        voicesMenu.show();\r\n      } else {\r\n        voicesMenu.hide();\r\n      }\r\n    };\r\n\r\n    const voicesMenu = this.br.refs.$BRReadAloudToolbar.find('[name=playback-voice]');\r\n    renderVoicesMenu(voicesMenu);\r\n    voicesMenu.on(\"change\", ev => this.ttsEngine.setVoice(voicesMenu.val()));\r\n    this.ttsEngine.events.on('pause resume start', () => this.updateState());\r\n    this.ttsEngine.events.on('voiceschanged', () => renderVoicesMenu(voicesMenu));\r\n    this.br.on('translationEnabled', () => renderVoicesMenu(voicesMenu));\r\n    this.br.on('translationDisabled', () => renderVoicesMenu(voicesMenu));\r\n    this.br.refs.$BRReadAloudToolbar.find('[name=play]').on(\"click\", this.playPause.bind(this));\r\n    this.br.refs.$BRReadAloudToolbar.find('[name=advance]').on(\"click\", this.jumpForward.bind(this));\r\n    this.br.refs.$BRReadAloudToolbar.find('[name=review]').on(\"click\", this.jumpBackward.bind(this));\r\n    const $rateSelector = this.br.refs.$BRReadAloudToolbar.find('select[name=\"playback-speed\"]');\r\n    $rateSelector.on(\"change\", ev => this.ttsEngine.setPlaybackRate(parseFloat($rateSelector.val())));\r\n    $(`<li>\r\n        <button class=\"BRicon read js-tooltip\" title=\"${tooltips.readAloud}\">\r\n          <div class=\"icon icon-read-aloud\"></div>\r\n          <span class=\"BRtooltip\">${tooltips.readAloud}</span>\r\n        </button>\r\n      </li>`).insertBefore($navBar.find('.BRcontrols .BRicon.zoom_out').closest('li'));\r\n  }\r\n\r\n  toggle() {\r\n    this.br.plugins.autoplay?.stop();\r\n    if (this.ttsEngine.playing) {\r\n      this.stop();\r\n    } else {\r\n      this.start();\r\n    }\r\n  }\r\n\r\n  start(startTTSEngine = true) {\r\n    const checkVoice = this.br.plugins.translate?.translationManager?.active ? toISO6391(this.br.plugins.translate.langToCode) : \"\";\r\n    const bookVoice = this.ttsEngine.getBestVoice(checkVoice);\r\n\r\n    const voicesMenu = this.br.refs.$BRReadAloudToolbar.find('[name=playback-voice');\r\n    this.ttsEngine.setVoice(bookVoice.voiceURI);\r\n    voicesMenu.val(bookVoice.voiceURI);\r\n    if (this.br.constModeThumb == this.br.mode)\r\n      this.br.switchMode(this.br.constMode1up);\r\n\r\n    this.br.refs.$BRReadAloudToolbar.addClass('visible');\r\n    this.br.$('.BRicon.read').addClass('unread active');\r\n    this.sendAnalyticsEvent('Start');\r\n    if (startTTSEngine)\r\n      this.ttsEngine.start(this.br.currentIndex(), this.br.book.getNumLeafs());\r\n  }\r\n\r\n  jumpForward() {\r\n    if (this.ttsEngine.paused) {\r\n      this.ttsEngine.resume();\r\n    }\r\n    this.ttsEngine.jumpForward();\r\n  }\r\n\r\n  jumpBackward() {\r\n    if (this.ttsEngine.paused) {\r\n      this.ttsEngine.resume();\r\n    }\r\n    this.ttsEngine.jumpBackward();\r\n  }\r\n\r\n  updateState() {\r\n    const isPlaying = !(this.ttsEngine.paused || !this.ttsEngine.playing);\r\n    this.br.$('.read-aloud [name=play]').toggleClass('playing', isPlaying);\r\n  }\r\n\r\n  playPause() {\r\n    if (!this.ttsEngine.playing) {\r\n      this.toggle();\r\n    } else {\r\n      this.ttsEngine.togglePlayPause();\r\n      this.updateState();\r\n    }\r\n  }\r\n\r\n\r\n  stop() {\r\n    this.br.refs.$BRReadAloudToolbar.removeClass('visible');\r\n    this.br.$('.BRicon.read').removeClass('unread active');\r\n    this.sendAnalyticsEvent('Stop');\r\n    this.ttsEngine.stop();\r\n    this.removeHilites();\r\n    this.br.removeProgressPopup();\r\n  }\r\n\r\n  /**\r\n   * @param {PageChunk} chunk\r\n   * Returns once the flip is done\r\n   */\r\n  async beforeChunkPlay(chunk) {\r\n    await this.maybeFlipToIndex(chunk.leafIndex);\r\n    this.highlightChunk(chunk);\r\n    this.scrollToChunk(chunk);\r\n  }\r\n\r\n  /**\r\n   * @param {PageChunk} chunk\r\n   */\r\n  sendChunkFinishedAnalyticsEvent(chunk) {\r\n    this.sendAnalyticsEvent('ChunkFinished-Words', approximateWordCount(chunk.text));\r\n  }\r\n\r\n  /**\r\n   * Flip the page if the provided leaf index is not visible\r\n   * @param {Number} leafIndex\r\n   */\r\n  async maybeFlipToIndex(leafIndex) {\r\n    if (!this.br._isIndexDisplayed(leafIndex)) {\r\n      this.br.jumpToIndex(leafIndex);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {PageChunk} chunk\r\n   */\r\n  highlightChunk(chunk) {\r\n    // The poorly-named variable leafIndex\r\n    const pageIndex = chunk.leafIndex;\r\n\r\n    this.removeHilites();\r\n    if (this.br.plugins.translate?.translationManager.active) {\r\n      const pageContainers = this.br.getActivePageContainerElementsForIndex(pageIndex);\r\n      const paragraphIndex = chunk.chunkIndex;\r\n      pageContainers.forEach(container => {\r\n        const translateElement = container.querySelector('.BRtranslateLayer');\r\n        const containerChildren = Array.from(translateElement.childNodes);\r\n        const paragraphEle = containerChildren[paragraphIndex];\r\n        if (!paragraphEle) { return; }\r\n        const [pOffHeight, pOffTop, pOffWidth, pOffLeft] = [paragraphEle.offsetHeight, paragraphEle.offsetTop, paragraphEle.offsetWidth, paragraphEle.offsetLeft];\r\n        const boxes = {pageIndex: [\r\n          {l: pOffLeft, r: pOffLeft + pOffWidth, b: pOffTop + pOffHeight, t: pOffTop},\r\n        ]};\r\n        renderBoxesInPageContainerLayer('ttsHiliteLayer', boxes.pageIndex, this.br.book.getPage(pageIndex), translateElement);\r\n      });\r\n      return;\r\n    }\r\n    // group by index; currently only possible to have chunks on one page :/\r\n    this._ttsBoxesByIndex = {\r\n      [pageIndex]: chunk.lineRects.map(([l, b, r, t]) => ({l, r, b, t})),\r\n    };\r\n\r\n    // update any already created pages\r\n    for (const [pageIndexString, boxes] of Object.entries(this._ttsBoxesByIndex)) {\r\n      const pageIndex = parseFloat(pageIndexString);\r\n      const page = this.br.book.getPage(pageIndex);\r\n      const pageContainers = this.br.getActivePageContainerElementsForIndex(pageIndex);\r\n      pageContainers.forEach(container => renderBoxesInPageContainerLayer('ttsHiliteLayer', boxes, page, container));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {PageChunk} chunk\r\n   */\r\n  scrollToChunk(chunk) {\r\n    // It behaves weird if used in thumb mode\r\n    if (this.br.constModeThumb == this.br.mode) return;\r\n\r\n    $(`.pagediv${chunk.leafIndex} .ttsHiliteLayer rect`).last()?.[0]?.scrollIntoView({\r\n      // Only vertically center the highlight if we're in 1up or in full screen. In\r\n      // 2up, if we're not fullscreen, the whole body gets scrolled around to try to\r\n      // center the highlight  See:\r\n      // https://stackoverflow.com/questions/11039885/scrollintoview-causing-the-whole-page-to-move/11041376\r\n      // Note: nearest doesn't quite work great, because the ReadAloud toolbar is now\r\n      // full-width, and covers up the last line of the highlight.\r\n      block: this.br.constMode1up == this.br.mode || this.br.isFullscreenActive ? 'center' : 'nearest',\r\n      inline: 'center',\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  removeHilites() {\r\n    $(this.br.getActivePageContainerElements()).find('.ttsHiliteLayer').remove();\r\n    this._ttsBoxesByIndex = {};\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Send an analytics event with an optional value. Also attaches the book's language.\r\n   * @param {string} action\r\n   * @param {number} [value]\r\n   */\r\n  sendAnalyticsEvent(action, value) {\r\n    if (this.br.plugins.archiveAnalytics) {\r\n      const extraValues = {};\r\n      const mediaLanguage = this.ttsEngine.opts.bookLanguage;\r\n      if (mediaLanguage) extraValues.mediaLanguage = mediaLanguage;\r\n      this.br.plugins.archiveAnalytics.sendEvent('BRReadAloud', action, value, extraValues);\r\n    }\r\n  }\r\n}\r\n\r\nBookReader?.registerPlugin('tts', TtsPlugin);\r\n","// src/data.ts\nvar data_default = [\n  [\"Serbian\", \"\\u0441\\u0440\\u043F\\u0441\\u043A\\u0438 \\u0458\\u0435\\u0437\\u0438\\u043A\", \"sr\", \"srp\", \"srp\"],\n  [\"Romanian, Moldavian, Moldovan\", \"Rom\\xE2n\\u0103\", \"ro\", \"ron\", \"rum\"],\n  [\"Sichuan Yi, Nuosu\", \"\\uA188\\uA320\\uA4BF Nuosuhxop\", \"ii\", \"iii\", \"iii\"],\n  [\"Tahitian\", \"Reo Tahiti\", \"ty\", \"tah\", \"tah\"],\n  [\"Tagalog\", \"Wikang Tagalog\", \"tl\", \"tgl\", \"tgl\"],\n  [\"Yiddish\", \"\\u05D9\\u05D9\\u05B4\\u05D3\\u05D9\\u05E9\", \"yi\", \"yid\", \"yid\"],\n  [\"Akan\", \"Akan\", \"ak\", \"aka\", \"aka\"],\n  [\"Malay\", \"Bahasa Melayu, \\u0628\\u0647\\u0627\\u0633 \\u0645\\u0644\\u0627\\u064A\\u0648\", \"ms\", \"msa\", \"may\"],\n  [\"Arabic\", \"\\u0627\\u0644\\u0639\\u0631\\u0628\\u064A\\u0629\", \"ar\", \"ara\", \"ara\"],\n  [\"Norwegian\", \"Norsk\", \"no\", \"nor\", \"nor\"],\n  [\"Ojibwa\", \"\\u140A\\u14C2\\u1511\\u14C8\\u142F\\u14A7\\u140E\\u14D0\", \"oj\", \"oji\", \"oji\"],\n  [\"Fulah\", \"Fulfulde, Pulaar, Pular\", \"ff\", \"ful\", \"ful\"],\n  [\"Persian\", \"\\u0641\\u0627\\u0631\\u0633\\u06CC\", \"fa\", \"fas\", \"per\"],\n  [\"Albanian\", \"Shqip\", \"sq\", \"sqi\", \"alb\"],\n  [\"Aymara\", \"aymar aru\", \"ay\", \"aym\", \"aym\"],\n  [\"Azerbaijani\", \"az\\u0259rbaycan dili\", \"az\", \"aze\", \"aze\"],\n  [\"Chinese\", \"\\u4E2D\\u6587 (Zh\\u014Dngw\\xE9n), \\u6C49\\u8BED, \\u6F22\\u8A9E\", \"zh\", \"zho\", \"chi\"],\n  [\"Cree\", \"\\u14C0\\u1426\\u1403\\u152D\\u140D\\u140F\\u1423\", \"cr\", \"cre\", \"cre\"],\n  [\"Estonian\", \"eesti, eesti keel\", \"et\", \"est\", \"est\"],\n  [\"Guaran\\xED\", \"Ava\\xF1e'\\u1EBD\", \"gn\", \"grn\", \"grn\"],\n  [\"Inupiaq\", \"I\\xF1upiaq, I\\xF1upiatun\", \"ik\", \"ipk\", \"ipk\"],\n  [\"Inuktitut\", \"\\u1403\\u14C4\\u1483\\u144E\\u1450\\u1466\", \"iu\", \"iku\", \"iku\"],\n  [\"Kanuri\", \"Kanuri\", \"kr\", \"kau\", \"kau\"],\n  [\"Komi\", \"\\u043A\\u043E\\u043C\\u0438 \\u043A\\u044B\\u0432\", \"kv\", \"kom\", \"kom\"],\n  [\"Kongo\", \"Kikongo\", \"kg\", \"kon\", \"kon\"],\n  [\"Kurdish\", \"Kurd\\xEE, \\u0623\\u06C7\\u0632\\u0628\\u06D0\\u0643\", \"ku\", \"kur\", \"kur\"],\n  [\"Latvian\", \"latvie\\u0161u valoda\", \"lv\", \"lav\", \"lav\"],\n  [\"Malagasy\", \"fiteny malagasy\", \"mg\", \"mlg\", \"mlg\"],\n  [\"Mongolian\", \"\\u041C\\u043E\\u043D\\u0433\\u043E\\u043B \\u0445\\u044D\\u043B\", \"mn\", \"mon\", \"mon\"],\n  [\"Oromo\", \"Afaan Oromoo\", \"om\", \"orm\", \"orm\"],\n  [\"Pashto, Pushto\", \"\\u067E\\u069A\\u062A\\u0648\", \"ps\", \"pus\", \"pus\"],\n  [\"Quechua\", \"Runa Simi, Kichwa\", \"qu\", \"que\", \"que\"],\n  [\"Sardinian\", \"sardu\", \"sc\", \"srd\", \"srd\"],\n  [\"Swahili\", \"Kiswahili\", \"sw\", \"swa\", \"swa\"],\n  [\"Uzbek\", \"O\\u02BBzbek, \\u040E\\u0437\\u0431\\u0435\\u043A, \", \"uz\", \"uzb\", \"uzb\"],\n  [\"Zhuang, Chuang\", \"Sa\\u026F cue\\u014B\\u0185, Saw cuengh\", \"za\", \"zha\", \"zha\"],\n  [\"Bislama\", \"Bislama\", \"bi\", \"bis\", \"bis\"],\n  [\"Norwegian Bokm\\xE5l\", \"Norsk Bokm\\xE5l\", \"nb\", \"nob\", \"nob\"],\n  [\"Norwegian Nynorsk\", \"Norsk Nynorsk\", \"nn\", \"nno\", \"nno\"],\n  [\"Indonesian\", \"Bahasa Indonesia\", \"id\", \"ind\", \"ind\"],\n  [\"Twi\", \"Twi\", \"tw\", \"twi\", \"twi\"],\n  [\"Esperanto\", \"Esperanto\", \"eo\", \"epo\", \"epo\"],\n  [\"Interlingua\", \"Interlingua\", \"ia\", \"ina\", \"ina\"],\n  [\"Interlingue\", \"Originally called Occidental; then Interlingue after WWII\", \"ie\", \"ile\", \"ile\"],\n  [\"Ido\", \"Ido\", \"io\", \"ido\", \"ido\"],\n  [\"Volap\\xFCk\", \"Volap\\xFCk\", \"vo\", \"vol\", \"vol\"],\n  [\"Bihari languages\", \"\\u092D\\u094B\\u091C\\u092A\\u0941\\u0930\\u0940\", \"bh\", \"bih\", \"bih\"],\n  [\"Hebrew (modern)\", \"\\u05E2\\u05D1\\u05E8\\u05D9\\u05EA\", \"he\", \"heb\", \"heb\"],\n  [\"Sanskrit\", \"\\u0938\\u0902\\u0938\\u094D\\u0915\\u0943\\u0924\\u092E\\u094D\", \"sa\", \"san\", \"san\"],\n  [\"Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian\", \"\\u0469\\u0437\\u044B\\u043A\\u044A \\u0441\\u043B\\u043E\\u0432\\u0463\\u043D\\u044C\\u0441\\u043A\\u044A\", \"cu\", \"chu\", \"chu\"],\n  [\"Pali\", \"\\u092A\\u093E\\u0934\\u093F\", \"pi\", \"pli\", \"pli\"],\n  [\"Avestan\", \"avesta\", \"ae\", \"ave\", \"ave\"],\n  [\"Latin\", \"latine, lingua latina\", \"la\", \"lat\", \"lat\"],\n  [\"Armenian\", \"\\u0540\\u0561\\u0575\\u0565\\u0580\\u0565\\u0576\", \"hy\", \"hye\", \"arm\"],\n  [\"Swati\", \"SiSwati\", \"ss\", \"ssw\", \"ssw\"],\n  [\"Tibetan\", \"\\u0F56\\u0F7C\\u0F51\\u0F0B\\u0F61\\u0F72\\u0F42\", \"bo\", \"bod\", \"tib\"],\n  [\"South Ndebele\", \"isiNdebele\", \"nr\", \"nbl\", \"nbl\"],\n  [\"Slovene\", \"Slovenski Jezik, Sloven\\u0161\\u010Dina\", \"sl\", \"slv\", \"slv\"],\n  [\"Oriya\", \"\\u0B13\\u0B21\\u0B3C\\u0B3F\\u0B06\", \"or\", \"ori\", \"ori\"],\n  [\"North Ndebele\", \"isiNdebele\", \"nd\", \"nde\", \"nde\"],\n  [\"Nauru\", \"Dorerin Naoero\", \"na\", \"nau\", \"nau\"],\n  [\"Maori\", \"te reo M\\u0101ori\", \"mi\", \"mri\", \"mao\"],\n  [\"Marathi\", \"\\u092E\\u0930\\u093E\\u0920\\u0940\", \"mr\", \"mar\", \"mar\"],\n  [\"Luba-Katanga\", \"Kiluba\", \"lu\", \"lub\", \"lub\"],\n  [\"Rundi\", \"Ikirundi\", \"rn\", \"run\", \"run\"],\n  [\"Central Khmer\", \"\\u1781\\u17D2\\u1798\\u17C2\\u179A, \\u1781\\u17C1\\u1798\\u179A\\u1797\\u17B6\\u179F\\u17B6, \\u1797\\u17B6\\u179F\\u17B6\\u1781\\u17D2\\u1798\\u17C2\\u179A\", \"km\", \"khm\", \"khm\"],\n  [\"Western Frisian\", \"Frysk\", \"fy\", \"fry\", \"fry\"],\n  [\"Bengali\", \"\\u09AC\\u09BE\\u0982\\u09B2\\u09BE\", \"bn\", \"ben\", \"ben\"],\n  [\"Avaric\", \"\\u0430\\u0432\\u0430\\u0440 \\u043C\\u0430\\u0446\\u04C0, \\u043C\\u0430\\u0433\\u04C0\\u0430\\u0440\\u0443\\u043B \\u043C\\u0430\\u0446\\u04C0\", \"av\", \"ava\", \"ava\"],\n  [\"Abkhazian\", \"\\u0430\\u04A7\\u0441\\u0443\\u0430 \\u0431\\u044B\\u0437\\u0448\\u04D9\\u0430, \\u0430\\u04A7\\u0441\\u0448\\u04D9\\u0430\", \"ab\", \"abk\", \"abk\"],\n  [\"Afar\", \"Afaraf\", \"aa\", \"aar\", \"aar\"],\n  [\"Afrikaans\", \"Afrikaans\", \"af\", \"afr\", \"afr\"],\n  [\"Amharic\", \"\\u12A0\\u121B\\u122D\\u129B\", \"am\", \"amh\", \"amh\"],\n  [\"Aragonese\", \"aragon\\xE9s\", \"an\", \"arg\", \"arg\"],\n  [\"Assamese\", \"\\u0985\\u09B8\\u09AE\\u09C0\\u09AF\\u09BC\\u09BE\", \"as\", \"asm\", \"asm\"],\n  [\"Bambara\", \"bamanankan\", \"bm\", \"bam\", \"bam\"],\n  [\"Bashkir\", \"\\u0431\\u0430\\u0448\\u04A1\\u043E\\u0440\\u0442 \\u0442\\u0435\\u043B\\u0435\", \"ba\", \"bak\", \"bak\"],\n  [\"Basque\", \"euskara, euskera\", \"eu\", \"eus\", \"baq\"],\n  [\"Belarusian\", \"\\u0431\\u0435\\u043B\\u0430\\u0440\\u0443\\u0441\\u043A\\u0430\\u044F \\u043C\\u043E\\u0432\\u0430\", \"be\", \"bel\", \"bel\"],\n  [\"Bosnian\", \"bosanski jezik\", \"bs\", \"bos\", \"bos\"],\n  [\"Breton\", \"brezhoneg\", \"br\", \"bre\", \"bre\"],\n  [\"Bulgarian\", \"\\u0431\\u044A\\u043B\\u0433\\u0430\\u0440\\u0441\\u043A\\u0438 \\u0435\\u0437\\u0438\\u043A\", \"bg\", \"bul\", \"bul\"],\n  [\"Burmese\", \"\\u1017\\u1019\\u102C\\u1005\\u102C\", \"my\", \"mya\", \"bur\"],\n  [\"Catalan, Valencian\", \"catal\\xE0, valenci\\xE0\", \"ca\", \"cat\", \"cat\"],\n  [\"Chamorro\", \"Chamoru\", \"ch\", \"cha\", \"cha\"],\n  [\"Chechen\", \"\\u043D\\u043E\\u0445\\u0447\\u0438\\u0439\\u043D \\u043C\\u043E\\u0442\\u0442\", \"ce\", \"che\", \"che\"],\n  [\"Chichewa, Chewa, Nyanja\", \"chiChe\\u0175a, chinyanja\", \"ny\", \"nya\", \"nya\"],\n  [\"Chuvash\", \"\\u0447\\u04D1\\u0432\\u0430\\u0448 \\u0447\\u04D7\\u043B\\u0445\\u0438\", \"cv\", \"chv\", \"chv\"],\n  [\"Cornish\", \"Kernewek\", \"kw\", \"cor\", \"cor\"],\n  [\"Corsican\", \"corsu, lingua corsa\", \"co\", \"cos\", \"cos\"],\n  [\"Croatian\", \"hrvatski jezik\", \"hr\", \"hrv\", \"hrv\"],\n  [\"Czech\", \"\\u010De\\u0161tina, \\u010Desk\\xFD jazyk\", \"cs\", \"ces\", \"cze\"],\n  [\"Danish\", \"dansk\", \"da\", \"dan\", \"dan\"],\n  [\"Divehi, Dhivehi, Maldivian\", \"\\u078B\\u07A8\\u0788\\u07AC\\u0780\\u07A8\", \"dv\", \"div\", \"div\"],\n  [\"Dutch, Flemish\", \"Nederlands, Vlaams\", \"nl\", \"nld\", \"dut\"],\n  [\"Dzongkha\", \"\\u0F62\\u0FAB\\u0F7C\\u0F44\\u0F0B\\u0F41\", \"dz\", \"dzo\", \"dzo\"],\n  [\"English\", \"English\", \"en\", \"eng\", \"eng\"],\n  [\"Ewe\", \"E\\u028Begbe\", \"ee\", \"ewe\", \"ewe\"],\n  [\"Faroese\", \"f\\xF8royskt\", \"fo\", \"fao\", \"fao\"],\n  [\"Fijian\", \"vosa Vakaviti\", \"fj\", \"fij\", \"fij\"],\n  [\"Finnish\", \"suomi, suomen kieli\", \"fi\", \"fin\", \"fin\"],\n  [\"French\", \"fran\\xE7ais, langue fran\\xE7aise\", \"fr\", \"fra\", \"fre\"],\n  [\"Galician\", \"Galego\", \"gl\", \"glg\", \"glg\"],\n  [\"Georgian\", \"\\u10E5\\u10D0\\u10E0\\u10D7\\u10E3\\u10DA\\u10D8\", \"ka\", \"kat\", \"geo\"],\n  [\"German\", \"Deutsch\", \"de\", \"deu\", \"ger\"],\n  [\"Greek (modern)\", \"\\u03B5\\u03BB\\u03BB\\u03B7\\u03BD\\u03B9\\u03BA\\u03AC\", \"el\", \"ell\", \"gre\"],\n  [\"Gujarati\", \"\\u0A97\\u0AC1\\u0A9C\\u0AB0\\u0ABE\\u0AA4\\u0AC0\", \"gu\", \"guj\", \"guj\"],\n  [\"Haitian, Haitian Creole\", \"Krey\\xF2l ayisyen\", \"ht\", \"hat\", \"hat\"],\n  [\"Hausa\", \"(Hausa) \\u0647\\u064E\\u0648\\u064F\\u0633\\u064E\", \"ha\", \"hau\", \"hau\"],\n  [\"Herero\", \"Otjiherero\", \"hz\", \"her\", \"her\"],\n  [\"Hindi\", \"\\u0939\\u093F\\u0928\\u094D\\u0926\\u0940, \\u0939\\u093F\\u0902\\u0926\\u0940\", \"hi\", \"hin\", \"hin\"],\n  [\"Hiri Motu\", \"Hiri Motu\", \"ho\", \"hmo\", \"hmo\"],\n  [\"Hungarian\", \"magyar\", \"hu\", \"hun\", \"hun\"],\n  [\"Irish\", \"Gaeilge\", \"ga\", \"gle\", \"gle\"],\n  [\"Igbo\", \"As\\u1EE5s\\u1EE5 Igbo\", \"ig\", \"ibo\", \"ibo\"],\n  [\"Icelandic\", \"\\xCDslenska\", \"is\", \"isl\", \"ice\"],\n  [\"Italian\", \"Italiano\", \"it\", \"ita\", \"ita\"],\n  [\"Japanese\", \"\\u65E5\\u672C\\u8A9E (\\u306B\\u307B\\u3093\\u3054)\", \"ja\", \"jpn\", \"jpn\"],\n  [\"Javanese\", \"\\uA9A7\\uA9B1\\uA997\\uA9AE, Basa Jawa\", \"jv\", \"jav\", \"jav\"],\n  [\"Kalaallisut, Greenlandic\", \"kalaallisut, kalaallit oqaasii\", \"kl\", \"kal\", \"kal\"],\n  [\"Kannada\", \"\\u0C95\\u0CA8\\u0CCD\\u0CA8\\u0CA1\", \"kn\", \"kan\", \"kan\"],\n  [\"Kashmiri\", \"\\u0915\\u0936\\u094D\\u092E\\u0940\\u0930\\u0940, \\u0643\\u0634\\u0645\\u064A\\u0631\\u064A\", \"ks\", \"kas\", \"kas\"],\n  [\"Kazakh\", \"\\u049B\\u0430\\u0437\\u0430\\u049B \\u0442\\u0456\\u043B\\u0456\", \"kk\", \"kaz\", \"kaz\"],\n  [\"Kikuyu, Gikuyu\", \"G\\u0129k\\u0169y\\u0169\", \"ki\", \"kik\", \"kik\"],\n  [\"Kinyarwanda\", \"Ikinyarwanda\", \"rw\", \"kin\", \"kin\"],\n  [\"Kirghiz, Kyrgyz\", \"\\u041A\\u044B\\u0440\\u0433\\u044B\\u0437\\u0447\\u0430, \\u041A\\u044B\\u0440\\u0433\\u044B\\u0437 \\u0442\\u0438\\u043B\\u0438\", \"ky\", \"kir\", \"kir\"],\n  [\"Korean\", \"\\uD55C\\uAD6D\\uC5B4\", \"ko\", \"kor\", \"kor\"],\n  [\"Kuanyama, Kwanyama\", \"Kuanyama\", \"kj\", \"kua\", \"kua\"],\n  [\"Luxembourgish, Letzeburgesch\", \"L\\xEBtzebuergesch\", \"lb\", \"ltz\", \"ltz\"],\n  [\"Ganda\", \"Luganda\", \"lg\", \"lug\", \"lug\"],\n  [\"Limburgan, Limburger, Limburgish\", \"Limburgs\", \"li\", \"lim\", \"lim\"],\n  [\"Lingala\", \"Ling\\xE1la\", \"ln\", \"lin\", \"lin\"],\n  [\"Lao\", \"\\u0E9E\\u0EB2\\u0EAA\\u0EB2\\u0EA5\\u0EB2\\u0EA7\", \"lo\", \"lao\", \"lao\"],\n  [\"Lithuanian\", \"lietuvi\\u0173 kalba\", \"lt\", \"lit\", \"lit\"],\n  [\"Manx\", \"Gaelg, Gailck\", \"gv\", \"glv\", \"glv\"],\n  [\"Macedonian\", \"\\u043C\\u0430\\u043A\\u0435\\u0434\\u043E\\u043D\\u0441\\u043A\\u0438 \\u0458\\u0430\\u0437\\u0438\\u043A\", \"mk\", \"mkd\", \"mac\"],\n  [\"Malayalam\", \"\\u0D2E\\u0D32\\u0D2F\\u0D3E\\u0D33\\u0D02\", \"ml\", \"mal\", \"mal\"],\n  [\"Maltese\", \"Malti\", \"mt\", \"mlt\", \"mlt\"],\n  [\"Marshallese\", \"Kajin M\\u0327aje\\u013C\", \"mh\", \"mah\", \"mah\"],\n  [\"Navajo, Navaho\", \"Din\\xE9 bizaad\", \"nv\", \"nav\", \"nav\"],\n  [\"Nepali\", \"\\u0928\\u0947\\u092A\\u093E\\u0932\\u0940\", \"ne\", \"nep\", \"nep\"],\n  [\"Ndonga\", \"Owambo\", \"ng\", \"ndo\", \"ndo\"],\n  [\"Occitan\", \"occitan, lenga d'\\xF2c\", \"oc\", \"oci\", \"oci\"],\n  [\"Ossetian, Ossetic\", \"\\u0438\\u0440\\u043E\\u043D \\xE6\\u0432\\u0437\\u0430\\u0433\", \"os\", \"oss\", \"oss\"],\n  [\"Panjabi, Punjabi\", \"\\u0A2A\\u0A70\\u0A1C\\u0A3E\\u0A2C\\u0A40\", \"pa\", \"pan\", \"pan\"],\n  [\"Polish\", \"j\\u0119zyk polski, polszczyzna\", \"pl\", \"pol\", \"pol\"],\n  [\"Portuguese\", \"Portugu\\xEAs\", \"pt\", \"por\", \"por\"],\n  [\"Romansh\", \"Rumantsch Grischun\", \"rm\", \"roh\", \"roh\"],\n  [\"Russian\", \"\\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0439\", \"ru\", \"rus\", \"rus\"],\n  [\"Sindhi\", \"\\u0938\\u093F\\u0928\\u094D\\u0927\\u0940, \\u0633\\u0646\\u068C\\u064A\\u060C \\u0633\\u0646\\u062F\\u06BE\\u06CC\", \"sd\", \"snd\", \"snd\"],\n  [\"Northern Sami\", \"Davvis\\xE1megiella\", \"se\", \"sme\", \"sme\"],\n  [\"Samoan\", \"gagana fa'a Samoa\", \"sm\", \"smo\", \"smo\"],\n  [\"Sango\", \"y\\xE2ng\\xE2 t\\xEE s\\xE4ng\\xF6\", \"sg\", \"sag\", \"sag\"],\n  [\"Gaelic, Scottish Gaelic\", \"G\\xE0idhlig\", \"gd\", \"gla\", \"gla\"],\n  [\"Shona\", \"chiShona\", \"sn\", \"sna\", \"sna\"],\n  [\"Sinhala, Sinhalese\", \"\\u0DC3\\u0DD2\\u0D82\\u0DC4\\u0DBD\", \"si\", \"sin\", \"sin\"],\n  [\"Slovak\", \"Sloven\\u010Dina, Slovensk\\xFD Jazyk\", \"sk\", \"slk\", \"slo\"],\n  [\"Somali\", \"Soomaaliga, af Soomaali\", \"so\", \"som\", \"som\"],\n  [\"Southern Sotho\", \"Sesotho\", \"st\", \"sot\", \"sot\"],\n  [\"Spanish, Castilian\", \"Espa\\xF1ol\", \"es\", \"spa\", \"spa\"],\n  [\"Sundanese\", \"Basa Sunda\", \"su\", \"sun\", \"sun\"],\n  [\"Swedish\", \"Svenska\", \"sv\", \"swe\", \"swe\"],\n  [\"Tamil\", \"\\u0BA4\\u0BAE\\u0BBF\\u0BB4\\u0BCD\", \"ta\", \"tam\", \"tam\"],\n  [\"Telugu\", \"\\u0C24\\u0C46\\u0C32\\u0C41\\u0C17\\u0C41\", \"te\", \"tel\", \"tel\"],\n  [\"Tajik\", \"\\u0442\\u043E\\u04B7\\u0438\\u043A\\u04E3, to\\xE7ik\\u012B, \\u062A\\u0627\\u062C\\u06CC\\u06A9\\u06CC\", \"tg\", \"tgk\", \"tgk\"],\n  [\"Thai\", \"\\u0E44\\u0E17\\u0E22\", \"th\", \"tha\", \"tha\"],\n  [\"Tigrinya\", \"\\u1275\\u130D\\u122D\\u129B\", \"ti\", \"tir\", \"tir\"],\n  [\"Turkmen\", \"T\\xFCrkmen, \\u0422\\u04AF\\u0440\\u043A\\u043C\\u0435\\u043D\", \"tk\", \"tuk\", \"tuk\"],\n  [\"Tswana\", \"Setswana\", \"tn\", \"tsn\", \"tsn\"],\n  [\"Tongan (Tonga Islands)\", \"Faka Tonga\", \"to\", \"ton\", \"ton\"],\n  [\"Turkish\", \"T\\xFCrk\\xE7e\", \"tr\", \"tur\", \"tur\"],\n  [\"Tsonga\", \"Xitsonga\", \"ts\", \"tso\", \"tso\"],\n  [\"Tatar\", \"\\u0442\\u0430\\u0442\\u0430\\u0440 \\u0442\\u0435\\u043B\\u0435, tatar tele\", \"tt\", \"tat\", \"tat\"],\n  [\"Uighur, Uyghur\", \"\\u0626\\u06C7\\u064A\\u063A\\u06C7\\u0631\\u0686\\u06D5, Uyghurche\", \"ug\", \"uig\", \"uig\"],\n  [\"Ukrainian\", \"\\u0423\\u043A\\u0440\\u0430\\u0457\\u043D\\u0441\\u044C\\u043A\\u0430\", \"uk\", \"ukr\", \"ukr\"],\n  [\"Urdu\", \"\\u0627\\u0631\\u062F\\u0648\", \"ur\", \"urd\", \"urd\"],\n  [\"Venda\", \"Tshiven\\u1E13a\", \"ve\", \"ven\", \"ven\"],\n  [\"Vietnamese\", \"Ti\\u1EBFng Vi\\u1EC7t\", \"vi\", \"vie\", \"vie\"],\n  [\"Walloon\", \"Walon\", \"wa\", \"wln\", \"wln\"],\n  [\"Welsh\", \"Cymraeg\", \"cy\", \"cym\", \"wel\"],\n  [\"Wolof\", \"Wollof\", \"wo\", \"wol\", \"wol\"],\n  [\"Xhosa\", \"isiXhosa\", \"xh\", \"xho\", \"xho\"],\n  [\"Yoruba\", \"Yor\\xF9b\\xE1\", \"yo\", \"yor\", \"yor\"],\n  [\"Zulu\", \"isiZulu\", \"zu\", \"zul\", \"zul\"]\n];\n\n// src/index.ts\nvar codes = [];\nvar by639_1 = {};\nvar by639_2T = {};\nvar by639_2B = {};\ndata_default.forEach((row) => {\n  var code = {\n    name: row[0],\n    nativeName: row[1],\n    iso639_1: row[2],\n    iso639_2T: row[3],\n    iso639_2B: row[4]\n  };\n  by639_1[row[2]] = by639_2T[row[3]] = by639_2B[row[4]] = code;\n  codes.push(code);\n});\nvar src_default = codes;\nexport {\n  by639_1,\n  by639_2B,\n  by639_2T,\n  codes,\n  src_default as default\n};\n//# sourceMappingURL=index.mjs.map","import langs from 'iso-language-codes';\r\n\r\n/**\r\n * Use regex to approximate word count in a string\r\n * @param {string} text\r\n * @return {number}\r\n */\r\nexport function approximateWordCount(text) {\r\n  const m = text.match(/\\S+/g);\r\n  return m ? m.length : 0;\r\n}\r\n\r\n/**\r\n * Checks whether the current browser is on android\r\n * @param {string} [userAgent]\r\n * @return {boolean}\r\n */\r\nexport function isAndroid(userAgent = navigator.userAgent) {\r\n  return /android/i.test(userAgent);\r\n}\r\n\r\n/** @type {{[lang: string]: string}} */\r\n// Handle odd one-off language pairs that might show up over time\r\nconst specialLangs =  {\r\n  \"zh-hans\": \" (Zhngwn)\",\r\n};\r\n/**\r\n * @typedef {string} ISO6391\r\n * Language code in ISO 639-1 format. e.g. en, fr, zh\r\n * Can also retrieve language native name + ISO 639-1 code\r\n **/\r\n\r\n/**\r\n * @param {string} language in some format\r\n * @param {boolean?} getName gets Native Name + language code if true\r\n * @return {ISO6391?}\r\n */\r\nexport function toISO6391(language, getName = false) {\r\n  if (!language) return null;\r\n  language = language.toLowerCase();\r\n\r\n  return searchForISO6391(language, ['iso639_1'], getName) ||\r\n    searchForISO6391(language, ['iso639_2T'], getName) ||\r\n    searchForISO6391(language, ['iso639_2B', 'nativeName', 'name'], getName);\r\n}\r\n\r\n/**\r\n * Searches for the given long in the given columns.\r\n * @param {string} language\r\n * @param {Array<keyof import('iso-language-codes').Code>} columnsToSearch\r\n * @param {boolean?} getName\r\n * @return {ISO6391?}\r\n */\r\nfunction searchForISO6391(language, columnsToSearch, getName) {\r\n  for (const lang of langs) {\r\n    for (const colName of columnsToSearch) {\r\n      if (lang[colName].split(', ').map(x => x.toLowerCase()).indexOf(language) != -1) {\r\n        if (getName) return `${lang.nativeName.split(\", \")[0]} (${lang.iso639_1})`;\r\n        return lang.iso639_1;\r\n      }\r\n    }\r\n  }\r\n  if (specialLangs[language]) return `${specialLangs[language]} (${language})`;\r\n  return null;\r\n}\r\n\r\n/**\r\n * Checks whether the current browser supports localStorage or\r\n * if the current context has access to it.\r\n * @return {boolean}\r\n */\r\nexport function hasLocalStorage() {\r\n  try {\r\n    return !!window.localStorage;\r\n  } catch (e) {\r\n    // Will throw in sandboxed iframe\r\n    // DOMException: Window.localStorage getter: Forbidden in a sandboxed document without the 'allow-same-origin' flag.\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const DEBUG_READ_ALOUD = location.toString().indexOf('_debugReadAloud=true') != -1;\r\n\r\nexport async function checkIfFiresPause() {\r\n  // Pick some random text so that if it accidentally speaks, it's not too annoying\r\n  const u = new SpeechSynthesisUtterance(\"Loading\");\r\n  let calledPause = false;\r\n  u.addEventListener('pause', () => calledPause = true);\r\n  speechSynthesis.speak(u);\r\n  await new Promise(res => setTimeout(res, 10));\r\n  speechSynthesis.pause();\r\n  return calledPause;\r\n}\r\n","/**\r\n * @typedef {String} StringWithVars\r\n * A template string with {{foo}} style variables\r\n * Also supports filters, like {{bookPath|urlencode}} (See APPLY_FILTERS for the\r\n * supported list of filters)\r\n **/\r\n\r\n/**\r\n * @param {StringWithVars|String} template\r\n * @param { {[varName: string]: { toString: () => string} } } vars\r\n * @param { {[varName: string]: { toString: () => string} } } [overrides]\r\n * @returns {StringWithVars|string}\r\n */\r\nexport function applyVariables(template, vars, overrides = {}, possibleFilters = APPLY_FILTERS) {\r\n  return template?.replace(/\\{\\{([^}]*?)\\}\\}/g, ($0, $1) => {\r\n    if (!$1) return $0;\r\n    /** @type {string} */\r\n    const expression = $1;\r\n    const [varName, ...filterNames] = expression.split('|').map(x => x.trim());\r\n    const defined = varName in overrides || varName in vars;\r\n\r\n    // If it's not defined, don't expand it at all\r\n    if (!defined) return $0;\r\n\r\n    const value = varName in overrides ? overrides[varName]\r\n      : varName in vars ? vars[varName] : null;\r\n    const filters = filterNames.map(n => possibleFilters[n]);\r\n    return filters.reduce((acc, cur) => cur(acc), value && value.toString());\r\n  });\r\n}\r\n\r\n/** @type { {[filterName: String]:( string => string)} } */\r\nexport const APPLY_FILTERS = {\r\n  urlencode: encodeURIComponent,\r\n};\r\n"],"names":["$","jQuery","uaMatch","ua","undefined","window","navigator","userAgent","toLowerCase","match","exec","indexOf","platform_match","browser","matched","version","versionNumber","platform","parseInt","android","bb","blackberry","ipad","iphone","ipod","kindle","playbook","silk","mobile","cros","mac","linux","win","desktop","chrome","opr","safari","webkit","rv","iemobile","ie","edge","msedge","opera","name","jQBrowser","factory","_undefined","document","Error","soundManager","SoundManager","smURL","smID","this","setupOptions","url","flashVersion","debugMode","debugFlash","useConsole","consoleOnly","waitForWindowLoad","bgColor","useHighPerformance","flashPollingInterval","html5PollingInterval","flashLoadTimeout","wmode","allowScriptAccess","useFlashBlock","useHTML5Audio","forceUseGlobalHTML5Audio","ignoreMobileRestrictions","html5Test","preferFlash","noSWFCache","idPrefix","defaultOptions","autoLoad","autoPlay","from","loops","onid3","onerror","onload","whileloading","onplay","onpause","onresume","whileplaying","onposition","onstop","onfinish","multiShot","multiShotEvents","position","pan","playbackRate","stream","to","type","usePolicyFile","volume","flash9Options","onfailure","isMovieStar","usePeakData","useWaveformData","useEQData","onbufferchange","ondataerror","movieStarOptions","bufferTime","serverURL","onconnect","duration","audioFormats","mp3","required","mp4","related","ogg","opus","wav","flac","movieID","id","debugID","debugURLParam","movieURL","altURL","swfLoaded","enabled","oMC","sounds","soundIDs","muted","didFlashBlock","filePattern","filePatterns","flash8","flash9","features","buffering","peakData","waveformData","eqData","movieStar","sandbox","types","remote","localWithFile","localWithNetwork","localTrusted","description","noRemote","noLocal","html5","usingFlash","flash","html5Only","ignoreFlash","SMSound","doNothing","setProperties","init","fV","debugTS","_wDS","initComplete","mixin","assign","extraOptions","addOnEvent","processOnEvents","initUserOnload","delayWaitForEI","waitForEI","rebootIntoHTML5","setVersionInfo","handleFocus","strings","initMovie","domContentLoaded","winOnLoad","didDCLoaded","getDocument","createMovie","catchError","setPolling","initDebug","disableObject","failSafely","normalizeMovieURL","str","flashBlockHandler","getSWFCSS","swfCSS","toggleDebug","loopFix","policyFix","complain","idCheck","startTimer","stopTimer","timerExecute","parseURL","canIgnoreFlash","featureCheck","html5OK","html5CanPlay","html5ErrorCodes","html5Ext","html5Unload","domContentLoadedIE","testHTML5","event","lastGlobalHTML5URL","hasFlash","detectFlash","badSafariFix","html5_events","showSupport","flushMessages","wrapCallback","didSetup","sm2","globalHTML5Audio","sm","smc","wl","location","href","toString","doc","on_queue","debugOpen","didAppend","appendSuccess","didInit","disabled","windowLoaded","wdCount","debugLevels","oRemoved","oRemovedHTML","waitingForEI","initPending","h5TimerCount","h5IntervalTimer","messages","needsFlash","slice","Array","prototype","useGlobalHTML5Audio","idCounter","msecScale","is_iDevice","isAndroid","isIE","isWebkit","isSafari","isOpera","mobileHTML5","isBadSafari","hasConsole","console","log","isFocused","hasFocus","tryInitOnFocus","okToDisable","flashMIME","emptyURL","overHTTP","protocol","http","netStreamMimeTypes","netStreamTypes","netStreamPattern","RegExp","join","preferFlashCheck","kind","html5_event","oFn","e","result","s","_s","_a","call","_wD","h5","mimePattern","useAltURL","swfBox","swfDefault","swfError","swfTimedout","swfUnblocked","sm2Debug","highPerf","flashDebug","hasHTML5","Audio","canPlayType","setup","options","noURL","ok","push","globalHTML5","ignoreMobile","mobileUA","beginDelayedInit","readyState","setTimeout","supported","getMovie","movie_id","createSound","oOptions","_url","cs","cs_string","oSound","charAt","make","_setup_html5","_createSound","connected","apply","load","play","destroySound","sID","_bFromSound","i","oS","stop","_iO","unload","length","splice","destruct","onPosition","nPosition","oMethod","oScope","clearOnPosition","overloaded","Object","start","setPlaybackRate","rate","allowOverride","setPosition","nMsecOffset","stopAll","hasOwnProperty","pause","pauseAll","resume","resumeAll","togglePause","setPan","nPan","setVolume","nVol","j","isNaN","mute","String","muteAll","unmute","unmuteAll","toggleMute","getMemoryUse","ram","_getMemoryUse","disable","bNoDisable","remove","canPlayMIME","sMIME","canPlayURL","sURL","canPlayLink","oLink","getSoundById","_suppressDebug","onready","sType","ontimeout","_writeDebug","sText","sTypeOrObject","o","oItem","createElement","className","appendChild","createTextNode","style","fontWeight","color","insertBefore","firstChild","alert","_debug","reboot","resetEvents","excludeInit","k","innerHTML","parentNode","removeChild","fired","reset","getMoviePercent","PercentLoaded","resetProperties","add_html5_events","remove_html5_events","stop_html5_timer","start_html5_timer","attachOnPosition","detachOnPosition","applyFromTo","lastHTML5State","urlOmitted","onplay_called","onPositionItems","onPositionFired","lastURL","time","instanceOptions","isHTML5","id3","loaded","playState","_called_load","_html5_canplay","src","autobuffer","preload","_load","fatal","_unload","_bFromSM","_destroySound","_updatePlayState","fN","a","audioClone","onended","oncanplay","startOK","getAutoPlay","setAutoPlay","paused","substr","lastIndexOf","instanceCount","_oncanplay","_onfinish","currentTime","err","add","Math","max","min","_start","onplayerror","bAll","originalPosition","_onbufferchange","_resetOnPosition","_onTimer","_stop","_setAutoPlay","normalizedRate","message","position1K","offset","toFixed","_setPosition","_bCallFlash","_pause","bInstanceOnly","_setPan","_bInstanceOnly","_setVolume","hasIO","method","scope","_processOnPosition","item","end","f","t","op","retainPosition","_hasTimer","bytesLoaded","bytesTotal","durationEstimate","buffered","left","right","failures","isBuffering","metadata","bForce","isNew","x","_get_html5_duration","_whileplaying","d","Infinity","_apply_loop","nLoops","loop","sameURL","dURL","decodeURI","_added_events","oEvt","addEventListener","removeEventListener","_onload","nSuccess","loadOK","_onerror","errorCode","nIsBuffering","_onsuspend","onsuspend","_onfailure","msg","level","code","_onwarning","onwarning","io_onfinish","_whileloading","nBytesLoaded","nBytesTotal","nDuration","nBufferLength","floor","bufferLength","oPeakData","oWaveformDataLeft","oWaveformDataRight","oEQData","eqLeft","leftPeak","rightPeak","split","leftEQ","rightEQ","_oncaptiondata","oData","captiondata","oncaptiondata","_onmetadata","oMDProps","oMDData","onmetadata","_onid3","oID3Props","oID3Data","_onconnect","bSuccess","_ondataerror","sError","body","getElementsByTagName","getElementById","oMain","oAdd","o2","o1","callback","oParent","hasParent","bonusOptions","Function","old","evt","getArgs","oArgs","args","len","pop","element","shift","arguments","abort","canplay","ee","canplaythrough","durationchange","ended","error","loadeddata","_loaded","loadedmetadata","loadstart","playing","fromCharCode","progress","progStr","isProgress","ranges","target","total","ratechange","suspend","stalled","timeupdate","waiting","iO","oAudio","_called_unload","fileExt","mime","aF","concat","lookup","support","cp","m","canPlay","isOK","notReady","notOK","domError","spcWmode","swf404","tryDebug","checkSWF","localFail","waitFocus","waitForever","waitSWF","needFunction","badID","currentObj","waitOnload","docLoaded","onloadOK","secNote","badRemove","shutdown","queue","smError","fbTimeout","fbLoaded","fbHandler","manURL","onURL","badFV","as2loop","noNSLoop","needfl9","mfTimeout","needFlash","gotFocus","policy","setupError","setupUndef","setupLate","sm2Loaded","sstr","replace","sOpt","sPre","sMsg","warn","oProp","Date","getTime","isDebug","bPolling","bHighPerformance","_setPolling","test","oD","oDebug","oTarget","oToggle","tmp","bottom","width","height","lineHeight","margin","textAlign","border","cursor","background","zIndex","onclick","title","display","e2","errorLevel","oT","sEventType","sMessage","sm2Debugger","handleEvent","css","p","ignoreInit","status","success","srcQueue","canRetry","obj","nP","hasPlugin","n","AX","ActiveXObject","plugins","mimeTypes","enabledPlugin","flashNeeded","formats","urlResult","setInterval","clearInterval","_setSandboxType","sandboxType","sb","_externalInterfaceOK","swfVersion","initMsg","isRTL","oEmbed","oMovie","movieHTML","oEl","sClass","remoteURL","localURL","extraClass","html","param","value","dir","quality","bgcolor","pluginspage","hasPriority","FlashVars","setAttribute","overflow","top","abs","oninitmovie","loadIncomplete","cleanup","tests","_externalInterfaceTest","_disableDebug","detachEvent","attachEvent","SM2_DEFER","module","exports","constructor","getInstance","smBuilder","instance","PROPER_FUNCTION_NAME","fails","whitespaces","METHOD_NAME","$trim","proto","forced","forcedStringTrimMethod","trim","BookReaderPlugin","br","_classCallCheck","key","pageContainer","$toolbarElement","$navBar","_regeneratorRuntime","r","defineProperty","Symbol","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","l","y","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","done","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","prev","rval","handle","complete","finish","catch","delegateYield","_slicedToArray","isArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_createForOfIteratorHelper","_n","F","_arrayLikeToArray","asyncGeneratorStep","_defineProperties","_toPropertyKey","toPrimitive","_toPrimitive","PageChunk","leafIndex","chunkIndex","text","lineRects","_callee","pageChunkUrl","_window$br$plugins$tr","translateLayers","paragraphs","pageChunks","_iterator","_step","_step$value","idx","translatedChunk","placeholder","chunks","_context","translate","translationManager","active","getTranslateLayers","childNodes","entries","classList","contains","textContent","ajax","applyVariables","pageIndex","cache","xhrFields","withCredentials","protected","_fromTextWrapperResponse","_fetch","_next","_throw","_x","_x2","chunksResponse","map","correctedLineRects","_fixChunkRects","correctedText","_removeDanglingHyphens","rects","_rects","firstRect","secondRect","_firstRect","secondHeight","secondWidth","secondRight","PageChunkIterator","pageCount","opts","DEFAULT_OPTS","_cursor","page","chunk","_bufferedPages","_bufferingPages","_cursorLock","_this","_nextUncontrolled","_this2","_decrementUncontrolled","AT_END","_recenterBuffer","_fetchPageChunks","_nextUncontrolled2","_this3","cursorChangePromise","prevPageChunks","index","pageBufferSize","_removePageFromBuffer","_this4","_fetchPageChunksDirect","fetch","_asyncToGenerator","AbstractTTSEngine","voice","getBestBookVoice","getVoices","bookLanguage","_chunkIterator","activeSound","events","on","updateBestVoice","trigger","numLeafs","onLoadingStart","step","fireEvent","_jumpBackward","all","decrement","voiceURI","off","find","hasLocalStorage","localStorage","setItem","setVoice","newRate","_callee2","sound","playPromise","_context2","onDone","onLoadingComplete","beforeChunkPlay","playSound","afterChunkPlay","languageOverride","voices","userLanguages","languages","bookLangVoices","filter","lang","startsWith","matchingUserLangs","language","getMatchingStoredVoice","getMatchingVoice","default","storedVoice","getItem","_step2","_ret","_loop","matchingVoices","_createClass","_callSuper","_getPrototypeOf","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","Boolean","valueOf","_get","get","bind","_superPropBase","getOwnPropertyDescriptor","_setPrototypeOf","FestivalTTSEngine","_AbstractTTSEngine","_$$browser","audioFormat","mozilla","festivalUrl","_inherits","localService","promise","iOSCaptureUserIntentHack","FestivalTTSSound","format","_iOSCaptureUserIntentHack","SILENCE_1MS","res","soundUrl","_finishResolver","_onresume","sleep","_play","_callee3","_context3","WebTTSEngine","speechSynthesis","audio","imagesBaseURL","mediaSession","MediaMetadata","bookTitle","artist","label","artwork","thumbnail","setPositionState","setActionHandler","jumpBackward","jumpForward","unshift","WebTTSSound","started","stopped","utterance","_lastEvents","boundary","_charIndex","_finishPromise","_this$voice","SpeechSynthesisUtterance","DEBUG_READ_ALOUD","ev","dispatchEvent","CustomEvent","_reload","wasPaused","recentEvent","charIndex","cancel","speak","isLocalVoice","isChrome","_chromePausingBugFix","endPromise","race","promisifyEvent","_finish","Event","pausePromise","pauseMightNotWork","isFirefox","_resume","_callee4","resumeMightNotWork","resumePromise","_context4","reload","_chromePausingBugFix2","_callee5","_context5","en","ownKeys","getOwnPropertySymbols","_defineProperty","BookReader","TtsPlugin","_BookReaderPlugin","_len","_key","remoteTtsUrl","server","bookPath","_ttsBoxesByIndex","TTSEngine","isSupported","engineName","festival","web","ttsEngine","getOwnPropertyDescriptors","defineProperties","_objectSpread","vars","toISO6391","showProgressPopup","removeProgressPopup","sendChunkFinishedAnalyticsEvent","eventNames","PostInit","click","toggle","renderBoxesInPageContainerLayer","$container","refs","$BRReadAloudToolbar","prepend","renderVoiceOption","voiceSortOrder","b","localeCompare","renderVoicesMenu","voicesMenu","_this3$br$plugins$tra","empty","langFromCode","bookLanguages","sort","otherLanguages","_this3$br$plugins$tra2","toLang","langToCode","translatedLanguages","append","val","show","hide","updateState","playPause","$rateSelector","parseFloat","tooltips","closest","_this$br$plugins$auto","autoplay","_this$br$plugins$tran","startTTSEngine","checkVoice","bookVoice","getBestVoice","constModeThumb","mode","switchMode","constMode1up","addClass","sendAnalyticsEvent","currentIndex","book","getNumLeafs","isPlaying","toggleClass","togglePlayPause","removeClass","removeHilites","_beforeChunkPlay","maybeFlipToIndex","highlightChunk","scrollToChunk","approximateWordCount","_maybeFlipToIndex","_isIndexDisplayed","jumpToIndex","_this$br$plugins$tran2","pageContainers","getActivePageContainerElementsForIndex","paragraphIndex","container","translateElement","querySelector","paragraphEle","_ref","offsetHeight","offsetTop","offsetWidth","offsetLeft","pOffTop","pOffLeft","boxes","getPage","_ref2","_ref3","_Object$entries$_i","_Object$entries","_i","pageIndexString","_$$last","last","scrollIntoView","block","isFullscreenActive","inline","behavior","getActivePageContainerElements","action","archiveAnalytics","extraValues","mediaLanguage","sendEvent","registerPlugin","codes","by639_1","by639_2T","by639_2B","row","nativeName","iso639_1","iso639_2T","iso639_2B","src_default","specialLangs","getName","searchForISO6391","columnsToSearch","langs","_iterator2","template","overrides","possibleFilters","APPLY_FILTERS","$0","$1","_expression$split$map2","varName","filterNames","reduce","acc","cur","urlencode","encodeURIComponent"],"sourceRoot":""}