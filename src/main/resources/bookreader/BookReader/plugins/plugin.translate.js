/*! For license information please see plugin.translate.js.LICENSE.txt */
"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[444],{4360:function(e,t,r){var n=r(420);const a=Object.freeze({processing:"processing",complete:"complete"});class o extends n.WF{static get properties(){return{mode:{type:String}}}constructor(){super(),this.mode=a.processing}render(){return n.qy`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){const e=n.AH`var(--activityIndicatorCheckmarkColor, #31A481)`,t=n.AH`var(--activityIndicatorCompletedRingColor, #31A481)`,r=n.AH`var(--activityIndicatorLoadingRingColor, #333333)`,a=n.AH`var(--activityIndicatorLoadingDotColor, #333333)`;return n.AH`
      #completed-ring {
        fill: ${t};
      }

      #check {
        fill: ${e};
      }

      #activity-ring {
        fill: ${r};
      }

      #activity-dots {
        fill: ${a};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}}window.customElements.define("ia-activity-indicator",o)},1041:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}r.d(t,{S:function(){return i}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var i=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.br=t,this.options},(t=[{key:"setup",value:function(e){this.options=Object.assign({},this.options,e)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(e){}},{key:"_configureToolbar",value:function(e){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(e){}}])&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()},6735:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(8125),r(4490),r(4782),r(4554),r(4731),r(479),r(9085),r(2811),r(3851),r(875),r(825),r(888),r(8781),r(5700),r(8706),r(2008),r(113),r(3418),r(3792),r(2062),r(9572),r(2010),r(8130),r(6099),r(8459),r(8940),r(3362),r(7495),r(7764),r(5440),r(3500),r(2953);var n=r(420),a=r(1041),o=r(9696),i=(r(739),r(6034),r(4565));"undefined"!=typeof window&&window.Worker||(globalThis.Worker=class{#e;constructor(e){this.#e=new Promise((async t=>{const{Worker:r}=await import("node:worker_threads");t(new r(e))}))}addEventListener(e,t){this.#e.then((r=>r.on(e,(e=>t({data:e})))))}postMessage(e){this.#e.then((t=>t.postMessage(e)))}terminate(){this.#e.then((e=>e.terminate()))}});class s extends Error{}class l{constructor(e){this.options=e||{},this.registryUrl=this.options.registryUrl||"https://bergamot.s3.amazonaws.com/models/index.json",this.downloadTimeout="downloadTimeout"in this.options?parseInt(this.options.downloadTimeout):6e4,this.registry=this.loadModelRegistery(),this.buffers=new Map,this.pivotLanguage="pivotLanguage"in this.options?e.pivotLanguage:"en",this.models=new Map,this.onerror=this.options.onerror||(e=>console.error("WASM Translation Worker error:",e))}async loadWorker(){const e=this.options.workerUrl?new Worker(this.options.workerUrl):new Worker(new URL(r.p+r.u(474),r.b));let t=0;const n=new Map,a=(r,...a)=>new Promise(((o,i)=>{const s=++t;n.set(s,{accept:o,reject:i,callsite:{message:`${r}(${a.map((e=>String(e))).join(", ")})`,stack:(new Error).stack}}),e.postMessage({id:s,name:r,args:a})}));return e.addEventListener("message",(function({data:{id:e,result:t,error:r}}){if(!n.has(e))throw console.debug("Received message with unknown id:",arguments[0]),new Error(`BergamotTranslator received response from worker to unknown call '${e}'`);const{accept:a,reject:o,callsite:i}=n.get(e);n.delete(e),void 0!==r?o(Object.assign(new Error,r,{message:r.message+` (response to ${i.message})`,stack:r.stack?`${r.stack}\n${i.stack}`:i.stack})):a(t)})),e.addEventListener("error",this.onerror.bind(this)),await a("initialize",this.options),{worker:e,exports:new Proxy({},{get(e,t,r){if("then"!==t)return(...e)=>a(t,...e)}})}}async loadModelRegistery(){const e=await fetch(this.registryUrl,{credentials:"omit"}),t=await e.json();return Array.from(Object.entries(t),(([e,t])=>{const r=e.match(/^([a-z]{2}(-[a-z]+)?)([a-z]{2}(-[a-z]+)?)/i);return{from:r[1],to:r[3],files:t}}))}getTranslationModel({from:e,to:t},r){const n=JSON.stringify({from:e,to:t});if(!this.buffers.has(n)){const a=this.loadTranslationModel({from:e,to:t},r);this.buffers.set(n,a),a.catch((e=>this.buffers.delete(n)))}return this.buffers.get(n)}async loadTranslationModel({from:e,to:t},r){performance.mark(`loadTranslationModule.${JSON.stringify({from:e,to:t})}`);const n=(await this.registry).filter((r=>r.from==e&&r.to==t));if(!n)throw new Error(`No model for '${e}' -> '${t}'`);const a=n[0].files,o=()=>reject(new s("abort signal")),i=new Promise(((e,t)=>{r?.signal&&r.signal.addEventListener("abort",o)})),l=Object.fromEntries(await Promise.race([Promise.all(Object.entries(a).map((async([n,a])=>{if(void 0===a||void 0===a.name)return[n,null];try{return[n,await this.fetch(a.name,a.expectedSha256Hash,r)]}catch(r){throw new Error(`Could not fetch ${a.name} for ${e}->${t} model`,{cause:r})}}))),i]));r?.signal&&r.signal.removeEventListener("abort",o),performance.measure("loadTranslationModel",`loadTranslationModule.${JSON.stringify({from:e,to:t})}`);let c=[];if(l.vocab)c=[l.vocab];else{if(!l.trgvocab||!l.srcvocab)throw new Error(`Could not identify vocab files for ${e}->${t} model among: ${Array.from(Object.keys(a)).join(" ")}`);c=[l.srcvocab,l.trgvocab]}let u={};return a.model.name.endsWith("intgemm8.bin")&&(u["gemm-precision"]="int8shiftAll"),a.qualityModel&&(u["skip-cost"]=!1),a.config&&Object.assign(u,a.config),{model:l.model,shortlist:l.lex,vocabs:c,qualityModel:l.qualityModel,config:u}}async fetch(e,t,r){const n=new AbortController,a=()=>n.abort(),o=this.downloadTimeout?setTimeout(a,this.downloadTimeout):null;try{r?.signal&&r.signal.addEventListener("abort",a);const o={credentials:"omit",signal:n.signal};t&&(o.integrity=`sha256-${this.hexToBase64(t)}`),"undefined"==typeof window&&delete o.integrity;const i=await fetch(e,o);return await i.arrayBuffer()}finally{o&&clearTimeout(o),r?.signal&&r.signal.removeEventListener("abort",a)}}hexToBase64(e){return btoa(e.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))}getModels({from:e,to:t}){const r=JSON.stringify({from:e,to:t});return this.models.has(r)||this.models.set(r,this.findModels(e,t)),this.models.get(r)}async findModels(e,t){const r=await this.registry;let n=[],a=[],o=[];if(r.forEach((r=>{r.from===e&&r.to===t?n.push(r):r.from===e&&r.to===this.pivotLanguage?a.push(r):r.to===t&&r.from===this.pivotLanguage&&o.push(r)})),n.length)return[n[0]];if(a.length&&o.length)return[a[0],o[0]];throw new Error(`No model available to translate from '${e}' to '${t}'`)}}class c{constructor(e,t){t||(t=new l(e)),this.backing=t,this.workers=[],this.workerLimit=Math.max(e?.workers||0,1),this.queue=[],this.batchSerial=0,this.batchSize=Math.max(e?.batchSize||8,1),this.onerror=e?.onerror||(e=>console.error("WASM Translation Worker error:",e))}async delete(){this.remove((()=>!0)),this.workers.forEach((({worker:e})=>e.terminate()))}notify(){setTimeout((async()=>{if(!this.queue.length)return;let e=this.workers.find((e=>e.idle));if(!e&&this.workers.length<this.workerLimit)try{const t={idle:!1};this.workers.push(t),Object.assign(t,await this.backing.loadWorker()),e=t}catch(e){this.onerror(new Error(`Could not initialise translation worker: ${e.message}`))}if(!e)return;const t=this.queue.shift();e.idle=!1;try{await this.consumeBatch(t,e.exports)}catch(e){t.requests.forEach((({reject:t})=>t(e)))}e.idle=!0,this.queue.length&&this.notify()}))}translate(e){const{from:t,to:r,priority:n}=e;return new Promise((async(a,o)=>{try{const i=JSON.stringify({from:t,to:r}),s=await this.backing.getModels(e);this.enqueue({key:i,models:s,request:e,resolve:a,reject:o,priority:n}),this.notify()}catch(e){o(e)}}))}remove(e){const t=this.queue;this.queue=[],t.forEach((t=>{t.requests.forEach((({request:r,resolve:n,reject:a})=>{e(r)?a(Object.assign(new s("removed by filter"),{request:r})):this.enqueue({key:t.key,priority:t.priority,models:t.models,request:r,resolve:n,reject:a})}))}))}enqueue({key:e,models:t,request:r,resolve:n,reject:a,priority:o}){void 0===o&&(o=0);let i=this.queue.find((t=>t.key===e&&t.priority===o&&t.requests.length<this.batchSize));i||(i={id:++this.batchSerial,key:e,priority:o,models:t,requests:[]},this.queue.push(i),this.queue.sort(((e,t)=>e.priority-t.priority))),i.requests.push({request:r,resolve:n,reject:a})}async consumeBatch(e,t){performance.mark("BergamotBatchTranslator.start"),await Promise.all(e.models.map((async({from:e,to:r})=>{if(!await t.hasTranslationModel({from:e,to:r})){const n=await this.backing.getTranslationModel({from:e,to:r});await t.loadTranslationModel({from:e,to:r},n)}})));const r=await t.translate({models:e.models.map((({from:e,to:t})=>({from:e,to:t}))),texts:e.requests.map((({request:{text:e,html:t,qualityScores:r}})=>({text:e.toString(),html:!!t,qualityScores:!!r})))});e.requests.forEach((({request:e,resolve:t,reject:n},a)=>{t({request:e,...r[a]})})),performance.measure("BergamotBatchTranslator","BergamotBatchTranslator.start")}}var u=r(4160);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(){d=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new M(n||[]);return a(i,"_invoke",{value:j(e,r,s)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",g="suspendedYield",m="executing",y="completed",v={};function b(){}function w(){}function k(){}var L={};c(L,i,(function(){return this}));var x=Object.getPrototypeOf,T=x&&x(x(_([])));T&&T!==r&&n.call(T,i)&&(L=T);var E=k.prototype=b.prototype=Object.create(L);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(a,o,i,s){var l=f(e[a],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==h(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,r,n){var a=p;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=P(s,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var c=f(t,r,n);if("normal"===c.type){if(a=n.done?y:g,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=y,n.method="throw",n.arg=c.arg)}}}function P(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(h(t)+" is not iterable")}return w.prototype=k,a(E,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:w,configurable:!0}),w.displayName=c(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new C(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(E),c(E,l,"Generator"),c(E,i,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function f(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){f(o,n,a,i,s,"next",e)}function s(e){f(o,n,a,i,s,"throw",e)}i(void 0)}))}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}var v,b,w,k,L,x,T,E=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"alreadyTranslated",new i.l(100)),m(this,"modelRegistry",{}),m(this,"currentlyTranslating",{}),m(this,"fromLanguages",[]),m(this,"toLanguages",[]),m(this,"active",!1),m(this,"publicPath",""),m(this,"getTranslation",function(){var e=p(d().mark((function e(r,n,a,o,i,s){var l,c,u,h,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.active=!0,r!=n&&r&&n){e.next=3;break}return e.abrupt("return");case 3:if(l="".concat(r).concat(n,"-").concat(a,":").concat(o),!(c=t.alreadyTranslated.entries.find((function(e){return e.index==l})))){e.next=7;break}return e.abrupt("return",c.response);case 7:if(!(l in t.currentlyTranslating)){e.next=9;break}return e.abrupt("return",t.currentlyTranslating[l].promise);case 9:if(u=null,h=null,f=new Promise((function(e,t){u=e,h=t})),t.currentlyTranslating[l]={promise:f,resolve:u,reject:h},i){e.next=16;break}return t.currentlyTranslating[l].reject("No text was provided"),e.abrupt("return",f);case 16:return t.translator.translate({to:n,from:r,text:i,html:!1,priority:s}).then((function(e){var r=e;t.currentlyTranslating[l].resolve(r.target.text),t.alreadyTranslated.add({index:l,response:r.target.text}),delete t.currentlyTranslating[l]})),e.abrupt("return",f);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}()),m(this,"getTranslationModel",function(){var e=p(d().mark((function e(r,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.translator.backing.getTranslationModel({from:r,to:n}).catch((function(e){console.error("An error occurred while trying to retreive the ".concat(r,"-").concat(n," model"))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());var r={code:"en",name:"English",type:"prod"};this.fromLanguages.push(r),this.toLanguages.push(r)},t=[{key:"initWorker",value:(r=p(d().mark((function e(){var t,r,n,a,o,i,s,l,h,f,p,g,m,y,v,b,w=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initPromise){e.next=2;break}return e.abrupt("return",this.initPromise);case 2:return this.initPromise=new Promise((function(e,t){w._initResolve=e,w._initReject=t})),t="https://cors.archive.org/cors/mozilla-translate-models/firefox_models/",e.next=6,fetch(t+"registry.json").then((function(e){return e.json()}));case 6:for(r=e.sent,n=0,a=Object.values(r);n<a.length;n++)for(o=a[n],i=0,s=Object.values(o);i<s.length;i++)(l=s[i]).name=t+l.name;return this.translator=new c({registryUrl:"data:application/json,".concat(encodeURIComponent(JSON.stringify(r))),workers:2,batchSize:4,workerUrl:this.publicPath+"/translator-worker.js"}),e.next=11,this.translator.backing.registry;case 11:for(h=e.sent,f={},p=0,g=Object.values(h);p<g.length;p++)m=g[p],y=m.from,v=m.to,b=m.files,f["".concat(y).concat(v)]=b,"en"!==y&&this.fromLanguages.push({code:y,name:(0,u.YH)(y,!0),type:"prod"}),"en"!==v&&this.toLanguages.push({code:v,name:(0,u.YH)(v,!0),type:"prod"});return this._initResolve([this.modelRegistry]),e.abrupt("return",this.initPromise);case 16:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],t&&g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),S=r(8004),C=(r(4360),r(1669));function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e){return function(e){if(Array.isArray(e))return D(e)}(e)||q(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(){O=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(r){t.forEach((function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r=e.prototype;["method","field"].forEach((function(n){t.forEach((function(t){var a=t.placement;if(t.kind===n&&("static"===a||"prototype"===a)){var o="static"===a?e:r;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[],n=[],a={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,a)}),this),e.forEach((function(e){if(!_(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)}),this),!t)return{elements:r,finishers:n};var o=this.decorateConstructor(r,t);return n.push.apply(n,o.finishers),o.finishers=n,o},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");n.push(e.key)},decorateElement:function(e,t){for(var r=[],n=[],a=e.decorators,o=a.length-1;o>=0;o--){var i=t[e.placement];i.splice(i.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[o])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&n.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var a=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[n])(a)||a);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var i=0;i<e.length-1;i++)for(var s=i+1;s<e.length;s++)if(e[i].key===e[s].key&&e[i].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[i].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||q(t)||I(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this);var t},toElementDescriptor:function(e){var t=e.kind+"";if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=ee(e.key),n=e.placement+"";if("static"!==n&&"prototype"!==n&&"own"!==n)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+n+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:n,descriptor:Object.assign({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:B(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=e.kind+"";if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=B(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if("function"!=typeof n)throw new TypeError("Finishers must return a constructor.");e=n}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function A(e){var t,r=ee(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(n.decorators=e.decorators),"field"===e.kind&&(n.initializer=e.value),n}function M(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _(e){return e.decorators&&e.decorators.length}function z(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function B(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function q(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Y(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},R.apply(null,arguments)}function N(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function F(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=I(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function I(e,t){if(e){if("string"==typeof e)return D(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function G(){G=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),s=new A(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function y(){}function v(){}function b(){}var w={};c(w,i,(function(){return this}));var k=Object.getPrototypeOf,L=k&&k(k(M([])));L&&L!==r&&n.call(L,i)&&(w=L);var x=b.prototype=y.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(a,o,i,s){var l=h(e[a],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==j(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=C(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var c=h(t,r,n);if("normal"===c.type){if(a=n.done?g:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=g,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function M(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(j(t)+" is not iterable")}return v.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},T(E.prototype),c(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},T(x),c(x,l,"Generator"),c(x,i,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=M,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:M(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function $(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function K(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){$(o,n,a,i,s,"next",e)}function s(e){$(o,n,a,i,s,"throw",e)}i(void 0)}))}}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ee(n.key),n)}}function U(e,t,r){return t&&H(e.prototype,t),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(e,t,r){return t=Y(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,V()?Reflect.construct(t,r||[],Y(e).constructor):t.apply(e,r))}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(V=function(){return!!e})()}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function Q(e,t,r){return(t=ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}var te,re,ne,ae,oe,ie,se,le=window.BookReader,ce=function(e){function t(){var e;W(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Q(e=Z(this,t,[].concat(n)),"options",{enabled:!0,panelDisclaimerText:"Translations are in alpha"}),Q(e,"translationManager",new E),Q(e,"worker",void 0),Q(e,"toLanguages",[]),Q(e,"langFromCode",void 0),Q(e,"langToCode",void 0),Q(e,"_panel",void 0),Q(e,"userToggleTranslate",void 0),Q(e,"loadingModel",!0),Q(e,"getParagraphsOnPage",(function(e){return e?Array.from(e.querySelectorAll(".BRtextLayer > .BRparagraphElement")):[]})),Q(e,"handleFromLangChange",function(){var t=K(G().mark((function t(r){var n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.clearAllTranslations(),n=r.detail.value,e.langFromCode=n,e._panel.requestUpdate(),e.translationManager.toLanguages.some((function(e){return e.code===n}))||e.translationManager.toLanguages.push({code:n,name:e.translationManager.fromLanguages.find((function(e){return e.code==n})).name}),e._panel.toLanguages=e.translationManager.toLanguages,console.log(e.langFromCode,e.langToCode),e._render(),e.langFromCode!==e.langToCode&&e.translateActivePageContainerElements();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Q(e,"handleToLangChange",function(){var t=K(G().mark((function t(r){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.clearAllTranslations(),e.langToCode=r.detail.value,e._render(),e.translateActivePageContainerElements();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Q(e,"handleToggleTranslation",K(G().mark((function t(){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.userToggleTranslate=!e.userToggleTranslate,e.translationManager.active=e.userToggleTranslate,e._render(),e.userToggleTranslate?(e.br.trigger("translationEnabled",{}),e.translateActivePageContainerElements()):(e.clearAllTranslations(),e.br.trigger("translationDisabled",{}));case 4:case"end":return t.stop()}}),t)})))),e}return J(t,e),U(t,[{key:"init",value:(o=K(G().mark((function e(){var t,r=this;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,u.YH)(this.br.options.bookLanguage.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"")),this.langFromCode=null!=t?t:"en",this.options.enabled){e.next=4;break}return e.abrupt("return");case 4:return this.translationManager.publicPath=this.br.options.imagesBaseURL.replace(/\/+$/,"")+"/..",this.br.on("textLayerRendered",function(){var e=K(G().mark((function e(t,n){var a,o;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.pageIndex,a=n.pageContainer,r.translationManager){e.next=3;break}return e.abrupt("return");case 3:r.translationManager.active&&(o=a.$container[0],r.translateRenderedLayer(o));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),this.br.on("pageVisible",(function(e,t){var n=t.pageContainerEl;if(r.translationManager.active){var a,o=F(n.querySelectorAll(".BRtranslateLayer > .BRparagraphElement"));try{for(o.s();!(a=o.n()).done;){var i=a.value;i.textContent&&r.fitVisiblePage(i)}}catch(e){o.e(e)}finally{o.f()}}})),e.next=9,this.translationManager.initWorker();case 9:this.langToCode=this.translationManager.toLanguages[0].code,this._render();case 11:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"translateActivePageContainerElements",value:function(){var e,t=this.br.getActivePageContainerElements(),r=t.filter((function(e){return e.classList.contains("BRpage-visible")})),n=t.filter((function(e){return!e.classList.contains("BRpage-visible")})),a=F(r);try{for(a.s();!(e=a.n()).done;){var o=e.value;this.translateRenderedLayer(o,0)}}catch(e){a.e(e)}finally{a.f()}var i,s=F(n);try{for(s.s();!(i=s.n()).done;){var l=i.value;this.translateRenderedLayer(l,1e3)}}catch(e){s.e(e)}finally{s.f()}}},{key:"translateRenderedLayer",value:(a=K(G().mark((function e(t,r){var n,a,o,i,s,l=this;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.br.mode!=this.br.constModeThumb&&this.userToggleTranslate&&this.langFromCode!=this.langToCode){e.next=2;break}return e.abrupt("return");case 2:return n=t.dataset.index,t.querySelector(".BRPageLayer.BRtranslateLayer")?a=t.querySelector(".BRPageLayer.BRtranslateLayer"):((a=document.createElement("div")).classList.add("BRPageLayer","BRtranslateLayer","BRtranslateLayerLoading"),a.setAttribute("lang","".concat(this.langToCode)),t.prepend(a)),(o=t.querySelector(".BRtextLayer")).classList.add("showingTranslation"),C(a).css({width:C(o).css("width"),height:C(o).css("height"),transform:C(o).css("transform"),"pointer-events":C(o).css("pointer-events"),"z-index":3}),i=this.getParagraphsOnPage(t),s=i.map(function(){var e=K(G().mark((function e(o,s){var c,u,h,d,f,p,g,m,y;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=t.querySelector("[data-translate-index='".concat(n,"-").concat(s,"']")))||((c=document.createElement("p")).setAttribute("data-translate-index","".concat(n,"-").concat(s)),c.className="BRparagraphElement",u=i[s],o.classList.contains("ocr-role-header-footer")&&(c.ariaHidden="true",c.classList.add("ocr-role-header-footer")),h="".concat(parseInt(C(u).css("font-size")),"px"),C(c).css({"margin-left":C(u).css("margin-left"),"margin-top":C(u).css("margin-top"),top:C(u).css("top"),height:C(u).css("height"),width:C(u).css("width"),"font-size":h}),c.addEventListener("mousedown",(function(e){e.stopPropagation(),e.stopImmediatePropagation()})),c.addEventListener("mouseup",(function(e){e.stopPropagation(),e.stopImmediatePropagation()})),c.addEventListener("dragstart",(function(e){e.preventDefault()})),a.append(c)),0===o.textContent.length){e.next=16;break}return p=parseFloat(n)+r+s,l.translationManager.getTranslationModel(l.langFromCode,l.langToCode).then((function(){l._panel.loadingModel=!1,l.loadingModel=!1})),e.next=7,l.translationManager.getTranslation(l.langFromCode,l.langToCode,n,s,o.textContent,p);case 7:g=e.sent,null===(d=c.firstElementChild)||void 0===d||d.remove(),m=null===(f=i[s])||void 0===f||null===(f=f.firstChild)||void 0===f?void 0:f.firstChild,(y=document.createElement("span")).className="BRlineElement",y.textContent=g,c.appendChild(y),C(y).css({"text-indent":C(m).css("padding-left")}),t.classList.contains("BRpage-visible")&&l.fitVisiblePage(c);case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.next=11,Promise.all(s);case 11:this.br.trigger("translateLayerRendered",{leafIndex:n,translateLayer:a});case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getTranslateLayers",value:(r=K(G().mark((function e(t){var r,n,a=this;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.br.getActivePageContainerElementsForIndex(t),!(n=C(r).filter("[data-index='".concat(t,"']")).find(".BRtranslateLayer")).length){e.next=4;break}return e.abrupt("return",n.toArray());case 4:return e.abrupt("return",new Promise((function(e,r){var n=function(){var r=K(G().mark((function r(o,i){return G().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.leafIndex==t&&(a.br.off("translateLayerRendered",n),e([i.translateLayer]));case 1:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();a.br.on("translateLayerRendered",n)})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"clearAllTranslations",value:function(){document.querySelectorAll(".BRtranslateLayer").forEach((function(e){return e.remove()}))}},{key:"fitVisiblePage",value:function(e){var t=e.parentElement;if("none"==C(t).css("transform")){var r=e.getAttribute("data-translate-index").split("-")[0],n=document.querySelector("[data-index='".concat(r,"'] .BRtextLayer"));C(t).css({transform:n.style.transform})}for(var a=parseInt(C(e).css("font-size"));e.clientHeight<e.scrollHeight&&a>0;)a--,C(e).css({"font-size":"".concat(a,"px")});var o=e.firstElementChild.clientHeight,i=e.scrollHeight;if(o<i){var s=i/(o/a);C(e).css({"line-height":"".concat(s,"px"),overflow:"visible"})}}},{key:"_render",value:function(){var e=this;this.br.shell.menuProviders.translate={id:"translate",icon:(0,n.qy)(v||(v=N(["<img src='",'/translate.svg\' width="26"/>'])),this.br.options.imagesBaseURL),label:"Translate",component:(0,n.qy)(b||(b=N(['<br-translate-panel\n        @connected="','"\n        @langFromChanged="','"\n        @langToChanged="','"\n        @toggleTranslation="','"\n        .fromLanguages="','"\n        .toLanguages="','"\n        .disclaimerMessage="','"\n        .userTranslationActive=',"\n        .detectedFromLang=","\n        .detectedToLang=","\n        .loadingModel=",'\n        class="translate-panel"\n      />'])),(function(t){e._panel=t.target,e._panel.fromLanguages=e.translationManager.fromLanguages,e._panel.toLanguages=e.translationManager.toLanguages,e._panel.userTranslationActive=e.userToggleTranslate,e._panel.detectedToLang=e.langToCode,e._panel.detectedFromLang=e.langFromCode,e._panel.loadingModel=e.loadingModel}),this.handleFromLangChange,this.handleToLangChange,this.handleToggleTranslation,this.translationManager.fromLanguages,this.translationManager.toLanguages,this.options.panelDisclaimerText,this.userToggleTranslate,this.langFromCode,this.langToCode,this.loadingModel)},this.br.shell.updateMenuContents()}}]);var r,a,o}(a.S);null==le||le.registerPlugin("translate",ce),te=[(0,o.EM)("br-translate-panel")],re=n.WF,oe=O(),ne=function(e){oe.initializeInstanceElements(e,se.elements)},ae=function(e){function t(){var e;W(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=Z(this,t,[].concat(n)),ne(e),e}return J(t,e),U(t)}(re),ie={F:ae,d:[{kind:"field",decorators:[(0,o.MZ)({type:Array})],key:"fromLanguages",value:function(){return[]}},{kind:"field",decorators:[(0,o.MZ)({type:Array})],key:"toLanguages",value:function(){return[]}},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"prevSelectedLang",value:function(){return""}},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"disclaimerMessage",value:function(){return""}},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"userTranslationActive",value:function(){return!1}},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"detectedFromLang",value:function(){return""}},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"detectedToLang",value:function(){return""}},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"loadingModel",value:void 0},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"connectedCallback",value:function(){var e,t,r,n,a;(e=ae,t="connectedCallback",r=this,a=R(Y(1&(n=3)?e.prototype:e),t,r),2&n&&"function"==typeof a?function(e){return a.apply(r,e)}:a)([]),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"render",value:function(){var e=this;return(0,n.qy)(w||(w=N(['<div class="app" style="margin-top: 5%;padding-right: 5px;">\n      <div\n        class="disclaimer"\n        id="disclaimerMessage"\n        style="background-color: rgba(255,255,255,0.1);padding: 10px;border-radius: 8px;font-size: 12px;margin-bottom: 10px;color: rgba(255,255,255, 0.9);"\n      >','</div>\n\n      <div class="panel panel--to" style="padding: 0 10px;">\n        <label>\n          <span style="font-size: 12px;color: #ccc;">Translate To</span>\n          <select id="lang-to" name="to" class="lang-select" style="display:block; width:100%;" @change="','">\n          ','\n          </select>\n        </label>\n      </div>\n\n      <div class="panel panel--start" style="text-align: right;padding: 0 10px;/*! font-size: 18px; */margin-top: 10px;">\n            <button class="start-translation-brn" @click="','">\n              ','\n            </button>\n      </div>\n\n      <div class="panel panel--from" style="font-size: 12px;color: #ccc;text-align: center;padding: 8px 10px;">\n        <details style="display: contents">\n          <summary style="text-decoration: underline white; cursor:pointer; display:inline-block"> \n            <i>\n              Source: '," ",' \n            </i> Change \n          </summary>\n          <select id="lang-from" name="from" class="lang-select" value=',' @change="','" style="width:65%; margin-top: 3%; margin-bottom: 3%">\n          ','\n          </select>\n      </details>\n      <div class="footer" id="status" style="margin-top:5%">\n      ','\n      </div>\n\n      <div class="lang-models-loading"> \n      ',"\n      </div>\n    </div>"])),this.disclaimerMessage,this._onLangToChange,(0,S.sortBy)(this.toLanguages,(function(e){return e.name.toLowerCase()})).map((function(t){return(0,n.qy)(k||(k=N(['<option value="','" \n                        ?selected=',"\n                        > "," </option>"])),t.code,t.code==e.detectedToLang,t.name?t.name:t.code)})),this._toggleTranslation,this.userTranslationActive?"Stop Translating":"Translate",this._getLangName(this.detectedFromLang),this.prevSelectedLang?"":"(detected)",this.detectedFromLang,this._onLangFromChange,(0,S.sortBy)(this.fromLanguages,(function(e){return e.name.toLowerCase()})).map((function(t){return(0,n.qy)(L||(L=N(['<option value="','"\n                      ?selected=',"\n                      >"," </option>"])),t.code,t.code==e.detectedFromLang,t.name?t.name:t.code)})),this._statusWarning(),this._languageModelStatus())}},{kind:"method",key:"_onLangFromChange",value:function(e){var t=new CustomEvent("langFromChanged",{detail:{value:e.target.value},bubbles:!0,composed:!0});this.dispatchEvent(t),this._getSelectedLang("to")!==this._getSelectedLang("from")&&(this.prevSelectedLang=this._getSelectedLang("from")),this.loadingModel=!0,this.detectedFromLang=e.target.value}},{kind:"method",key:"_onLangToChange",value:function(e){var t=new CustomEvent("langToChanged",{detail:{value:e.target.value},bubbles:!0,composed:!0});this.dispatchEvent(t),this._getSelectedLang("from")!==e.target.value&&(this.prevSelectedLang=this._getSelectedLang("from")),this.loadingModel=!0,this.detectedToLang=e.target.value}},{kind:"method",key:"_getSelectedLang",value:function(e){var t=this.querySelector("#lang-".concat(e));return t?t.value:""}},{kind:"method",key:"_getLangName",value:function(e){var t=[].concat(P(this.fromLanguages),P(this.toLanguages)).find((function(t){return t.code===e}));return t?t.name:""}},{kind:"method",key:"_toggleTranslation",value:function(e){var t=new CustomEvent("toggleTranslation",{detail:{value:e.target.value},bubbles:!0,composed:!0});this.userTranslationActive=!this.userTranslationActive,this.dispatchEvent(t)}},{kind:"method",key:"_statusWarning",value:function(){return this.detectedFromLang==this.detectedToLang?"Translate To language is the same as the Source language":""}},{kind:"method",key:"_languageModelStatus",value:function(){return this.userTranslationActive?this.loadingModel?(0,n.qy)(x||(x=N(['\n        <ia-activity-indicator mode="processing" style="display:block; width: 40px; height: 40px; margin: 0 auto;"></ia-activity-indicator>\n        <p>Downloading language model</p>\n        ']))):(0,n.qy)(T||(T=N(["<p>Language model loaded</p>"]))):""}}]},se=oe.decorateClass(function(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},n=0;n<e.length;n++){var a,o=e[n];if("method"===o.kind&&(a=t.find(r)))if(z(o.descriptor)||z(a.descriptor)){if(_(o)||_(a))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");a.descriptor=o.descriptor}else{if(_(o)){if(_(a))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");a.decorators=o.decorators}M(o,a)}else t.push(o)}return t}(ie.d.map(A)),te),oe.initializeClassElements(ie.F,se.elements),oe.runClassFinishers(ie.F,se.finishers)},4160:function(e,t,r){r.d(t,{$x:function(){return m},EF:function(){return u},ND:function(){return g},m0:function(){return h},YH:function(){return f}}),r(2675),r(9463),r(6412),r(2259),r(8125),r(8706),r(3418),r(3792),r(2062),r(4490),r(4782),r(2010),r(4731),r(479),r(875),r(6099),r(3362),r(7495),r(8781),r(7764),r(1761),r(3500),r(2953);var n=[],a={},o={},i={};[["Serbian"," ","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Romn","ro","ron","rum"],["Sichuan Yi, Nuosu"," Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu,  ","ms","msa","may"],["Arabic","","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","azrbaycan dili","az","aze","aze"],["Chinese"," (Zhngwn), , ","zh","zho","chi"],["Cree","","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran","Avae'","gn","grn","grn"],["Inupiaq","Iupiaq, Iupiatun","ik","ipk","ipk"],["Inuktitut","","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi"," ","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd, ","ku","kur","kur"],["Latvian","latvieu valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian"," ","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","Ozbek, , ","uz","uzb","uzb"],["Zhuang, Chuang","Sa cue, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokml","Norsk Bokml","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volapk","Volapk","vo","vol","vol"],["Bihari languages","","bh","bih","bih"],["Hebrew (modern)","","he","heb","heb"],["Sanskrit","","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian"," ","cu","chu","chu"],["Pali","","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Slovenina","sl","slv","slv"],["Oriya","","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo Mori","mi","mri","mao"],["Marathi","","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer",", , ","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","","bn","ben","ben"],["Avaric"," ,  ","av","ava","ava"],["Abkhazian"," , ","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","","am","amh","amh"],["Aragonese","aragons","an","arg","arg"],["Assamese","","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir"," ","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian"," ","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian"," ","bg","bul","bul"],["Burmese","","my","mya","bur"],["Catalan, Valencian","catal, valenci","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen"," ","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChea, chinyanja","ny","nya","nya"],["Chuvash"," ","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","etina, esk jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","Eegbe","ee","ewe","ewe"],["Faroese","froyskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","franais, langue franaise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","","el","ell","gre"],["Gujarati","","gu","guj","guj"],["Haitian, Haitian Creole","Kreyl ayisyen","ht","hat","hat"],["Hausa","(Hausa) ","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi",", ","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","Ass Igbo","ig","ibo","ibo"],["Icelandic","slenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese"," ()","ja","jpn","jpn"],["Javanese",", Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","","kn","kan","kan"],["Kashmiri",", ","ks","kas","kas"],["Kazakh"," ","kk","kaz","kaz"],["Kikuyu, Gikuyu","Gky","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz",",  ","ky","kir","kir"],["Korean","","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","Ltzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Lingla","ln","lin","lin"],["Lao","","lo","lao","lao"],["Lithuanian","lietuvi kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian"," ","mk","mkd","mac"],["Malayalam","","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin Maje","mh","mah","mah"],["Navajo, Navaho","Din bizaad","nv","nav","nav"],["Nepali","","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'c","oc","oci","oci"],["Ossetian, Ossetic"," ","os","oss","oss"],["Panjabi, Punjabi","","pa","pan","pan"],["Polish","jzyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugus","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","","ru","rus","rus"],["Sindhi",",  ","sd","snd","snd"],["Northern Sami","Davvismegiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","yng t sng","sg","sag","sag"],["Gaelic, Scottish Gaelic","Gidhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","","si","sin","sin"],["Slovak","Slovenina, Slovensk Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espaol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","","ta","tam","tam"],["Telugu","","te","tel","tel"],["Tajik",", toik, ","tg","tgk","tgk"],["Thai","","th","tha","tha"],["Tigrinya","","ti","tir","tir"],["Turkmen","Trkmen, ","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","Trke","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar"," , tatar tele","tt","tat","tat"],["Uighur, Uyghur",", Uyghurche","ug","uig","uig"],["Ukrainian","","uk","ukr","ukr"],["Urdu","","ur","urd","urd"],["Venda","Tshivena","ve","ven","ven"],["Vietnamese","Ting Vit","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yorb","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]].forEach((e=>{var t={name:e[0],nativeName:e[1],iso639_1:e[2],iso639_2T:e[3],iso639_2B:e[4]};a[e[2]]=o[e[3]]=i[e[4]]=t,n.push(t)}));var s=n;function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e){var t=e.match(/\S+/g);return t?t.length:0}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return/android/i.test(e)}var d={"zh-hans":" (Zhngwn)"};function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?p(e=e.toLowerCase(),["iso639_1"],t)||p(e,["iso639_2T"],t)||p(e,["iso639_2B","nativeName","name"],t):null}function p(e,t,r){var n,a=l(s);try{for(a.s();!(n=a.n()).done;){var o,i=n.value,c=l(t);try{for(c.s();!(o=c.n()).done;)if(-1!=i[o.value].split(", ").map((function(e){return e.toLowerCase()})).indexOf(e))return r?"".concat(i.nativeName.split(", ")[0]," (").concat(i.iso639_1,")"):i.iso639_1}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return d[e]?"".concat(d[e]," (").concat(e,")"):null}function g(){try{return!!window.localStorage}catch(e){return!1}}var m=-1!=location.toString().indexOf("_debugReadAloud=true")},4565:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}r.d(t,{l:function(){return i}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(6099),r(7764),r(2953);var i=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxSize=t,this.entries=[]},(t=[{key:"add",value:function(e){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(e)}}])&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()}},function(e){e(e.s=6735)}]);
//# sourceMappingURL=plugin.translate.js.map